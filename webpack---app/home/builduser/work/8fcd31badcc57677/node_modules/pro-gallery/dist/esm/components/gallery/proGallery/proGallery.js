import {
    __assign,
    __extends
} from "tslib";
import '../../../common/utils/polyfills';
import React from 'react';
import {
    viewModeWrapper,
    utils
} from 'pro-gallery-lib';
import Gallery from './galleryContainer.js';
import '../../../versionLogger';
var ProGallery = /** @class */ (function(_super) {
    __extends(ProGallery, _super);

    function ProGallery(props) {
        var _this = _super.call(this) || this;
        _this.init(props);
        if (utils.isLocal() && !utils.isTest()) {
            console.log('PRO GALLERY DEV');
        }
        return _this;
    }
    ProGallery.prototype.init = function(props) {
        if (typeof props.viewMode !== 'undefined') {
            viewModeWrapper.setViewMode(props.viewMode);
        }
        if (typeof props.deviceType !== 'undefined') {
            viewModeWrapper.setDeviceType(props.deviceType);
        }
    };
    ProGallery.prototype.UNSAFE_componentWillReceiveProps = function(nextProps) {
        if (this.props.viewMode !== nextProps.viewMode) {
            utils.dumpCache();
            viewModeWrapper.setViewMode(nextProps.viewMode);
        }
        if (this.props.deviceType !== nextProps.deviceType) {
            utils.dumpCache();
            viewModeWrapper.setDeviceType(nextProps.deviceType);
        }
    };
    ProGallery.prototype.renderProps = function() {
        return __assign(__assign({}, this.props), {
            id: this.props.id,
            items: this.props.items || [],
            settings: this.props.settings || {},
            offsetTop: this.props.offsetTop,
            proGalleryRegionLabel: this.props.proGalleryRegionLabel
        });
    };
    ProGallery.prototype.containerProps = function() {
        return {
            id: "pro-gallery-" + this.props.id,
            className: 'pro-gallery',
        };
    };
    ProGallery.prototype.render = function() {
        return (React.createElement("div", __assign({}, this.containerProps()),
            React.createElement(Gallery, __assign({}, this.renderProps()))));
    };
    return ProGallery;
}(React.Component));
export default ProGallery;
//# sourceMappingURL=proGallery.js.map