"use strict";
var __importDefault = (this && this.__importDefault) || function(mod) {
    return (mod && mod.__esModule) ? mod : {
        "default": mod
    };
};
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.convertPlatformMetaTagsModel = void 0;
var TagTypes_1 = require("../types/TagTypes");
var Props_1 = __importDefault(require("../types/Props"));
// http://wixplorer.wixpress.com/out-of-iframe/guides/Reference/APIs
function convertPlatformMetaTagsModel(payload) {
    var result = {
        tags: [],
    };
    if (payload && Array.isArray(payload)) {
        result.tags = payload.reduce(function(acc, curr) {
            var _a;
            if (curr && (curr.property || curr.name) && curr.content) {
                return acc.concat({
                    type: TagTypes_1.TAG_TYPES.META,
                    props: (_a = {},
                        _a[curr.property && curr.property.startsWith('og:') ?
                            Props_1.default.PROPERTY :
                            Props_1.default.NAME] = curr.property || curr.name,
                        _a.content = curr.content,
                        _a),
                });
            }
            return acc;
        }, result.tags);
    }
    return result;
}
exports.convertPlatformMetaTagsModel = convertPlatformMetaTagsModel;