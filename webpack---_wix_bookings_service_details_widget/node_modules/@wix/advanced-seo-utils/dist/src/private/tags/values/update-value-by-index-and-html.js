"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.updateValueByIndex = void 0;
var is_empty_1 = require("../../utils/is-empty");
var parse_1 = require("../../renderer/utils/parse");
var get_custom_tags_index_array_1 = require("./get-custom-tags-index-array");
exports.updateValueByIndex = function(tags, htmlValue, customIndex) {
    if (tags === void 0) {
        tags = [];
    }
    var parsedTag = parse_1.parse(htmlValue);
    if (is_empty_1.isEmpty(parsedTag) || !Array.isArray(parsedTag) || htmlValue === '') {
        return tags;
    }
    var tag = parsedTag[0];
    tag.custom = true;
    var customTagsIndexArray = get_custom_tags_index_array_1.getCustomTagsIndexArray(tags);
    var updatedTags = tags.slice();
    var index = customIndex >= 0 && customIndex < customTagsIndexArray.length ?
        customTagsIndexArray[customIndex] :
        -1;
    if (index !== -1) {
        updatedTags[index] = tag;
    } else {
        updatedTags.push(tag);
    }
    return updatedTags;
};