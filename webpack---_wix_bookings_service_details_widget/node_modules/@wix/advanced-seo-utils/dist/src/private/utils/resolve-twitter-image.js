"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.resolveTwitterImage = void 0;
var get_by_identifier_1 = require("../tags/values/get-by-identifier");
var update_by_identifier_1 = require("../tags/values/update-by-identifier");
var Identifiers_1 = require("../types/Identifiers");
var build_og_image_1 = require("./build-og-image");
var TWITTER_IMAGE = Identifiers_1.IDENTIFIERS.TWITTER_IMAGE,
    OG_IMAGE = Identifiers_1.IDENTIFIERS.OG_IMAGE;

function resolveTwitterImage(tags) {
    var urlOrName = get_by_identifier_1.getValueByIdentifier(tags, TWITTER_IMAGE);
    if (!urlOrName) {
        return tags;
    }
    var ogImage = get_by_identifier_1.getValueByIdentifier(tags, OG_IMAGE);
    if (ogImage === null || ogImage === void 0 ? void 0 : ogImage.includes(urlOrName)) {
        return update_by_identifier_1.updateValueByIdentifier(tags, TWITTER_IMAGE, ogImage);
    }
    var src = build_og_image_1.buildOgImageFullUrl(urlOrName) || urlOrName;
    return update_by_identifier_1.updateValueByIdentifier(tags, TWITTER_IMAGE, src);
}
exports.resolveTwitterImage = resolveTwitterImage;