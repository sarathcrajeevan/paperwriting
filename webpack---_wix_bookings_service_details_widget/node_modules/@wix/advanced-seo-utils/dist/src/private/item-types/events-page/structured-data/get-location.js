"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.getLocation = void 0;
var get_location_type_1 = require("../calculated/get-location-type");
var get_1 = require("../../../utils/get");
var get_online_conf_available_1 = require("../calculated/get-online-conf-available");
var get_event_url_1 = require("../calculated/get-event-url");
exports.getLocation = function(item) {
    if (!item.event) {
        return '';
    }
    var locationType = get_location_type_1.getLocationType(item);
    var name = get_1.get(item, 'event.location.name');
    var address = get_1.get(item, 'event.location.address');
    var url = get_event_url_1.getEventUrl(item);
    var hasOnlineAvailability = get_online_conf_available_1.getOnlineConfAvailable(item);
    var location = {
        '@type': locationType,
    };
    if (name) {
        location.name = name;
    }
    if (locationType === get_location_type_1.LOCATION_TYPES.PHYSICAL) {
        location.address = address;
    }
    if (hasOnlineAvailability) {
        location.url = url;
    }
    return location;
};