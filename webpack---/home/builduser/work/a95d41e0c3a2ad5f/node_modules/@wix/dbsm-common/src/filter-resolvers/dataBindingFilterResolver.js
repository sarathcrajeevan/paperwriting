'use strict'

const isPlainObject_ = require('lodash/isPlainObject')
const {
    DATA_BINDING
} = require('@wix/app-definition-ids')

const RESOLVER_KEY = require('./resolverKey')
const RESOLVER_VALUE = DATA_BINDING

module.exports.addResolver = filterExpression =>
    Object.assign({}, filterExpression, {
        [RESOLVER_KEY]: RESOLVER_VALUE
    })

module.exports.shouldResolve = filterExpression =>
    isPlainObject_(filterExpression) &&
    filterExpression[RESOLVER_KEY] === RESOLVER_VALUE