! function(e, t) {
    "object" == typeof exports && "object" == typeof module ? module.exports = t(require("lodash")) : "function" == typeof define && define.amd ? define(["lodash"], t) : "object" == typeof exports ? exports.viewerScript = t(require("lodash")) : e.viewerScript = t(e._)
}(self, (function(__WEBPACK_EXTERNAL_MODULE__8__) {
    return function(e) {
        var t = {};

        function i(r) {
            if (t[r]) return t[r].exports;
            var o = t[r] = {
                i: r,
                l: !1,
                exports: {}
            };
            return e[r].call(o.exports, o, o.exports, i), o.l = !0, o.exports
        }
        return i.m = e, i.c = t, i.d = function(e, t, r) {
            i.o(e, t) || Object.defineProperty(e, t, {
                enumerable: !0,
                get: r
            })
        }, i.r = function(e) {
            "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
                value: "Module"
            }), Object.defineProperty(e, "__esModule", {
                value: !0
            })
        }, i.t = function(e, t) {
            if (1 & t && (e = i(e)), 8 & t) return e;
            if (4 & t && "object" == typeof e && e && e.__esModule) return e;
            var r = Object.create(null);
            if (i.r(r), Object.defineProperty(r, "default", {
                    enumerable: !0,
                    value: e
                }), 2 & t && "string" != typeof e)
                for (var o in e) i.d(r, o, function(t) {
                    return e[t]
                }.bind(null, o));
            return r
        }, i.n = function(e) {
            var t = e && e.__esModule ? function() {
                return e.default
            } : function() {
                return e
            };
            return i.d(t, "a", t), t
        }, i.o = function(e, t) {
            return Object.prototype.hasOwnProperty.call(e, t)
        }, i.p = "https://static.parastorage.com/services/pro-gallery-santa-wrapper/33ba9f2f5e5288aa785f3aa9d0bbe2222f74613d0d04ac0e17923fb4/", i(i.s = 55)
    }([function(e, t, i) {
        "use strict";
        i.d(t, "a", (function() {
            return r
        })), i.d(t, "b", (function() {
            return o
        })), i.d(t, "c", (function() {
            return n
        })), i.d(t, "d", (function() {
            return a
        }));
        var r = function() {
            return (r = Object.assign || function(e) {
                for (var t, i = 1, r = arguments.length; i < r; i++)
                    for (var o in t = arguments[i]) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
                return e
            }).apply(this, arguments)
        };

        function o(e, t, i, r) {
            return new(i || (i = Promise))((function(o, n) {
                function a(e) {
                    try {
                        l(r.next(e))
                    } catch (e) {
                        n(e)
                    }
                }

                function s(e) {
                    try {
                        l(r.throw(e))
                    } catch (e) {
                        n(e)
                    }
                }

                function l(e) {
                    var t;
                    e.done ? o(e.value) : (t = e.value, t instanceof i ? t : new i((function(e) {
                        e(t)
                    }))).then(a, s)
                }
                l((r = r.apply(e, t || [])).next())
            }))
        }

        function n(e, t) {
            var i, r, o, n, a = {
                label: 0,
                sent: function() {
                    if (1 & o[0]) throw o[1];
                    return o[1]
                },
                trys: [],
                ops: []
            };
            return n = {
                next: s(0),
                throw: s(1),
                return: s(2)
            }, "function" == typeof Symbol && (n[Symbol.iterator] = function() {
                return this
            }), n;

            function s(n) {
                return function(s) {
                    return function(n) {
                        if (i) throw new TypeError("Generator is already executing.");
                        for (; a;) try {
                            if (i = 1, r && (o = 2 & n[0] ? r.return : n[0] ? r.throw || ((o = r.return) && o.call(r), 0) : r.next) && !(o = o.call(r, n[1])).done) return o;
                            switch (r = 0, o && (n = [2 & n[0], o.value]), n[0]) {
                                case 0:
                                case 1:
                                    o = n;
                                    break;
                                case 4:
                                    return a.label++, {
                                        value: n[1],
                                        done: !1
                                    };
                                case 5:
                                    a.label++, r = n[1], n = [0];
                                    continue;
                                case 7:
                                    n = a.ops.pop(), a.trys.pop();
                                    continue;
                                default:
                                    if (!(o = a.trys, (o = o.length > 0 && o[o.length - 1]) || 6 !== n[0] && 2 !== n[0])) {
                                        a = 0;
                                        continue
                                    }
                                    if (3 === n[0] && (!o || n[1] > o[0] && n[1] < o[3])) {
                                        a.label = n[1];
                                        break
                                    }
                                    if (6 === n[0] && a.label < o[1]) {
                                        a.label = o[1], o = n;
                                        break
                                    }
                                    if (o && a.label < o[2]) {
                                        a.label = o[2], a.ops.push(n);
                                        break
                                    }
                                    o[2] && a.ops.pop(), a.trys.pop();
                                    continue
                            }
                            n = t.call(e, a)
                        } catch (e) {
                            n = [6, e], r = 0
                        } finally {
                            i = o = 0
                        }
                        if (5 & n[0]) throw n[1];
                        return {
                            value: n[0] ? n[1] : void 0,
                            done: !0
                        }
                    }([n, s])
                }
            }
        }
        Object.create;

        function a() {
            for (var e = 0, t = 0, i = arguments.length; t < i; t++) e += arguments[t].length;
            var r = Array(e),
                o = 0;
            for (t = 0; t < i; t++)
                for (var n = arguments[t], a = 0, s = n.length; a < s; a++, o++) r[o] = n[a];
            return r
        }
        Object.create
    }, function(e, t, i) {
        "use strict";
        var r = i(26),
            o = {
                ITEM_CENTER: "ITEM_CENTER",
                IMAGE_CENTER: "IMAGE_CENTER",
                INFO_CENTER: "INFO_CENTER"
            },
            n = {
                CROP: "fill",
                FIT: "fit",
                MIN: "min",
                MAX: "max"
            },
            a = {
                SIDE_BAR_WIDTH: 430,
                STORE_SIDE_BAR_WIDTH: 560,
                MOBILE_PADDING: 120,
                NO_PADDING: 0
            },
            s = {
                APP_LOADED: "APP_LOADED",
                ITEM_CREATED: "ITEM_CREATED",
                ITEM_LOADED: "ITEM_LOADED",
                GALLERY_CHANGE: "GALLERY_CHANGE",
                ITEM_ACTION_TRIGGERED: "ITEM_ACTION_TRIGGERED",
                CURRENT_ITEM_CHANGED: "CURRENT_ITEM_CHANGED",
                NEED_MORE_ITEMS: "NEED_MORE_ITEMS",
                VIDEO_ENDED: "VIDEO_ENDED",
                VIDEO_ERROR: "VIDEO_ERROR",
                VIDEO_PLAYED: "VIDEO_PLAYED",
                HOVER_SET: "HOVER_SET",
                LOAD_MORE_CLICKED: "LOAD_MORE_CLICKED",
                ITEM_CLICKED: "ITEM_CLICKED",
                THUMBNAIL_CLICKED: "THUMBNAIL_CLICKED",
                ITEM_FOCUSED: "ITEM_FOCUSED",
                ITEM_LOST_FOCUS: "ITEM_LOST_FOCUS",
                GALLERY_SCROLLED: "GALLERY_SCROLLED"
            },
            l = i(21),
            u = i(22),
            c = {
                LEFT: "left",
                RIGHT: "right",
                CENTER: "center"
            },
            h = {
                FIT_TO_SCREEN: 0,
                SET_ITEMS_PER_ROW: 1
            },
            p = {
                MIDDLE: "MIDDLE",
                TOP: "TOP",
                LEFT: "LEFT",
                RIGHT: "RIGHT",
                BOTTOM: "BOTTOM"
            },
            d = {
                1: "1",
                "2v": "2v",
                "2h": "2h",
                "3r": "3r",
                "3b": "3b",
                "3t": "3t",
                "3l": "3l",
                "3v": "3v",
                "3h": "3h"
            },
            g = {
                NO_EFFECT: "NO_EFFECT",
                ZOOM_IN: "ZOOM_IN",
                BLUR: "BLUR",
                GRAYSCALE: "GRAYSCALE",
                SHRINK: "SHRINK",
                INVERT: "INVERT",
                COLOR_IN: "COLOR_IN",
                DARKENED: "DARKENED"
            },
            m = i(16),
            f = i(27),
            y = {
                COLUMNS: !0,
                ROWS: !1
            },
            S = {
                EXPAND: "expand",
                LINK: "link",
                NOTHING: "nothing",
                FULLSCREEN: "fullscreen",
                MAGNIFY: "magnify"
            },
            b = i(5),
            v = {
                LEFT_TO_RIGHT: !1,
                RIGHT_TO_LEFT: !0
            },
            _ = i(24),
            O = i(28),
            I = {
                PARTIAL: "partial",
                ALL: "all"
            },
            w = {
                EXPAND: "EXPAND",
                FADE: "FADE",
                CAROUSEL: "CAROUSEL",
                CROSSFADE: "CROSSFADE"
            },
            E = {
                NO_EFFECT: "NO_EFFECT",
                FADE_IN: "FADE_IN",
                EXPAND: "EXPAND",
                SLIDE_UP: "SLIDE_UP",
                SLIDE_RIGHT: "SLIDE_RIGHT",
                SLIDE_DOWN: "SLIDE_DOWN",
                SLIDE_LEFT: "SLIDE_LEFT"
            },
            P = i(6),
            x = {
                FILL: "fill",
                FIT: "fit",
                FULL: "full",
                VIDEO: "video"
            },
            T = {
                NO_EFFECT: "NO_EFFECT",
                FADE_IN: "FADE_IN",
                GRAYSCALE: "GRAYSCALE",
                SLIDE_UP: "SLIDE_UP",
                EXPAND: "EXPAND",
                SHRINK: "SHRINK",
                ZOOM_OUT: "ZOOM_OUT",
                ONE_COLOR: "ONE_COLOR",
                MAIN_COLOR: "MAIN_COLOR",
                BLUR: "BLUR"
            },
            C = i(29),
            D = i(11),
            A = {
                FACEBOOK: "facebook",
                TWITTER: "twitter",
                PINTEREST: "pinterest",
                EMAIL: "email",
                TUMBLR: "tumblr"
            },
            L = i(30),
            M = {
                BOTTOM: "bottom",
                LEFT: "left",
                TOP: "top",
                RIGHT: "right"
            },
            R = {
                HOVER: "hover",
                AUTO: "auto",
                ON_CLICK: "onClick"
            },
            B = i(18),
            k = {
                NO_EFFECT: "NO_EFFECT",
                SLIDE: "SLIDE"
            },
            j = {
                ease: "cubic-bezier(0.46,0.1,0.25,1)"
            },
            N = {
                LEFT: "LEFT",
                RIGHT: "RIGHT",
                BOTTOM: "BOTTOM",
                TOP: "TOP",
                CENTERED_VERTICALLY: "CENTERED_VERTICALLY",
                CENTERED_HORIZONTALLY: "CENTERED_HORIZONTALLY"
            },
            U = {
                PIXEL: "PIXEL",
                PERCENT: "PERCENT"
            },
            F = {
                INTERVAL: "interval",
                CONTINUOUS: "continuous"
            };
        t.a = {
            arrowsPosition: r.a,
            arrowsVerticalPosition: o,
            cubeType: n,
            dimensions: a,
            events: s,
            deviceType: l.a,
            gallerySizeType: u.a,
            galleryTextAlign: c,
            gridStyle: h,
            cubeFitPosition: p,
            groupTypes: d,
            imageHoverAnimations: g,
            infoBehaviourOnHover: m.a,
            infoType: f.a,
            isVertical: y,
            itemClick: S,
            layout: b.a,
            isLayout: b.b,
            layoutDirection: v,
            loadingMode: _.a,
            loadingWithColorMode: O.a,
            loadMoreAmount: I,
            mobileSwipeAnimations: w,
            overlayAnimations: E,
            placements: P.a,
            hasExternalAbovePlacement: P.b,
            hasExternalBelowPlacement: P.c,
            hasHoverPlacement: P.h,
            hasExternalRightPlacement: P.f,
            hasExternalLeftPlacement: P.e,
            hasExternalVerticalPlacement: P.g,
            hasExternalHorizontalPlacement: P.d,
            isExternalAbovePlacement: P.j,
            isExternalBelowPlacement: P.k,
            isHoverPlacement: P.p,
            isExternalRightPlacement: P.n,
            isExternalLeftPlacement: P.m,
            isExternalVerticalPlacement: P.o,
            isExternalHorizontalPlacement: P.l,
            isConstantVerticalPlacement: P.i,
            resizeMethods: x,
            scrollAnimations: T,
            slideAnimations: C.a,
            scrollDirection: D.a,
            socialNetworks: A,
            textBoxWidthCalculationOptions: L.a,
            thumbnailsAlignment: M,
            urlSizes: {
                RESIZED: "resized",
                MULTI: "multi",
                SCALED: "scaled",
                PIXEL: "pixel",
                THUMBNAIL: "thumbnail",
                SQUARE: "square",
                FULL: "full",
                SAMPLE: "sample",
                PRELOAD: "preload",
                DOWNLOAD: "download",
                DOWNLOAD_SAMPLE: "download_sample",
                MAGNIFIED: "magnified"
            },
            urlTypes: {
                HIGH_RES: "img",
                LOW_RES: "thumb",
                VIDEO: "video"
            },
            videoPlay: R,
            viewMode: B.a,
            imagePlacementAnimations: k,
            slideTransition: j,
            overlayPositions: N,
            overlaySizeType: U,
            autoSlideshowTypes: F
        }
    }, function(e, t, i) {
        "use strict";
        i.d(t, "c", (function() {
            return n
        })), i.d(t, "a", (function() {
            return o
        })), i.d(t, "b", (function() {
            return a
        })), i.d(t, "d", (function() {
            return l
        })), i.d(t, "e", (function() {
            return s
        }));
        var r = i(0);

        function o(e, t, i, o) {
            void 0 === o && (o = !0);
            var n = o ? Object(r.a)({}, e) : e,
                a = t.split("_"),
                s = a.pop(),
                l = n;
            return a.forEach((function(e) {
                "object" != typeof l[e] && (l[e] = {}), l = l[e]
            })), l[s] = i, n
        }

        function n(e) {
            var t = {};
            for (var i in e)
                if (e.hasOwnProperty(i))
                    if ("object" == typeof e[i] && !(e[i] instanceof Array) && null !== e[i] && Object.keys(e[i]).length > 0) {
                        var r = n(e[i]);
                        for (var o in r) r.hasOwnProperty(o) && (t[i + "_" + o] = r[o])
                    } else t[i] = e[i];
            return t
        }

        function a(e) {
            return Object.entries(e).reduce((function(e, t) {
                return o(e, t[0], t[1], !1)
            }), {})
        }

        function s(e) {
            return Object.keys(e).forEach((function(t) {
                return void 0 === e[t] ? delete e[t] : {}
            })), e
        }

        function l() {
            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
            return a(Object.assign.apply(Object, Object(r.d)([{}], e.map(n))))
        }
    }, function(e, t, i) {
        "use strict";
        i.d(t, "a", (function() {
            return r
        })), i.d(t, "d", (function() {
            return o
        })), i.d(t, "b", (function() {
            return n
        })), i.d(t, "c", (function() {
            return a
        }));
        var r = function() {
            return (r = Object.assign || function(e) {
                for (var t, i = 1, r = arguments.length; i < r; i++)
                    for (var o in t = arguments[i]) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
                return e
            }).apply(this, arguments)
        };

        function o(e, t) {
            var i = {};
            for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (i[r] = e[r]);
            if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
                var o = 0;
                for (r = Object.getOwnPropertySymbols(e); o < r.length; o++) t.indexOf(r[o]) < 0 && Object.prototype.propertyIsEnumerable.call(e, r[o]) && (i[r[o]] = e[r[o]])
            }
            return i
        }

        function n(e, t, i, r) {
            return new(i || (i = Promise))((function(o, n) {
                function a(e) {
                    try {
                        l(r.next(e))
                    } catch (e) {
                        n(e)
                    }
                }

                function s(e) {
                    try {
                        l(r.throw(e))
                    } catch (e) {
                        n(e)
                    }
                }

                function l(e) {
                    var t;
                    e.done ? o(e.value) : (t = e.value, t instanceof i ? t : new i((function(e) {
                        e(t)
                    }))).then(a, s)
                }
                l((r = r.apply(e, t || [])).next())
            }))
        }

        function a(e, t) {
            var i, r, o, n, a = {
                label: 0,
                sent: function() {
                    if (1 & o[0]) throw o[1];
                    return o[1]
                },
                trys: [],
                ops: []
            };
            return n = {
                next: s(0),
                throw: s(1),
                return: s(2)
            }, "function" == typeof Symbol && (n[Symbol.iterator] = function() {
                return this
            }), n;

            function s(n) {
                return function(s) {
                    return function(n) {
                        if (i) throw new TypeError("Generator is already executing.");
                        for (; a;) try {
                            if (i = 1, r && (o = 2 & n[0] ? r.return : n[0] ? r.throw || ((o = r.return) && o.call(r), 0) : r.next) && !(o = o.call(r, n[1])).done) return o;
                            switch (r = 0, o && (n = [2 & n[0], o.value]), n[0]) {
                                case 0:
                                case 1:
                                    o = n;
                                    break;
                                case 4:
                                    return a.label++, {
                                        value: n[1],
                                        done: !1
                                    };
                                case 5:
                                    a.label++, r = n[1], n = [0];
                                    continue;
                                case 7:
                                    n = a.ops.pop(), a.trys.pop();
                                    continue;
                                default:
                                    if (!(o = a.trys, (o = o.length > 0 && o[o.length - 1]) || 6 !== n[0] && 2 !== n[0])) {
                                        a = 0;
                                        continue
                                    }
                                    if (3 === n[0] && (!o || n[1] > o[0] && n[1] < o[3])) {
                                        a.label = n[1];
                                        break
                                    }
                                    if (6 === n[0] && a.label < o[1]) {
                                        a.label = o[1], o = n;
                                        break
                                    }
                                    if (o && a.label < o[2]) {
                                        a.label = o[2], a.ops.push(n);
                                        break
                                    }
                                    o[2] && a.ops.pop(), a.trys.pop();
                                    continue
                            }
                            n = t.call(e, a)
                        } catch (e) {
                            n = [6, e], r = 0
                        } finally {
                            i = o = 0
                        }
                        if (5 & n[0]) throw n[1];
                        return {
                            value: n[0] ? n[1] : void 0,
                            done: !0
                        }
                    }([n, s])
                }
            }
        }
    }, function(e, t, i) {
        "use strict";
        var r = i(3),
            o = function() {
                return {}
            },
            n = {
                y: 0,
                x: 0,
                width: 2560,
                height: 1440,
                innerWidth: 2560,
                innerHeight: 1440,
                clientWidth: 2560,
                clientHeight: 1440
            },
            a = {
                parentNode: Object(r.a)(Object(r.a)({}, n), {
                    getBoundingClientRect: function() {
                        return n
                    },
                    removeChild: o,
                    appendChild: o,
                    setAttribute: o
                }),
                removeChild: o,
                appendChild: o,
                setAttribute: o
            },
            s = Object(r.a)(Object(r.a)(Object(r.a)({}, n), a), {
                getBoundingClientRect: function() {
                    return n
                }
            }),
            l = {
                initCustomEvent: o,
                createEvent: o,
                composedPath: o,
                initEvent: o,
                preventDefault: o,
                stopImmediatePropagation: o,
                stopPropagation: o
            },
            u = Object(r.a)({
                addEventListener: o,
                removeEventListener: o,
                createEvent: function() {
                    return l
                },
                createElement: function() {
                    return s
                },
                getElementById: function() {
                    return s
                },
                getElementsByClassName: function() {
                    return [s]
                },
                getElementsByTagName: function() {
                    return [s]
                },
                querySelector: function() {
                    return [s]
                },
                documentElement: s,
                activeElement: s,
                style: n
            }, n);
        u.body = u;
        var c = Object(r.a)({
            isMock: !0,
            isSSR: !0,
            orientation: 0,
            devicePixelRatio: 1,
            scrollTop: 0,
            addEventListener: o,
            removeEventListener: o,
            createEvent: o,
            CustomEvent: o,
            screen: n,
            open: o,
            petri: {},
            search: {},
            location: {
                href: "http://mock.wix.com/",
                protocol: "http:",
                host: "mock.wix.com",
                hostname: "mock.wix.com",
                port: "",
                pathname: "/",
                search: "",
                hash: ""
            },
            postMessage: o,
            requestAnimationFrame: o,
            dispatchEvent: o,
            document: u,
            getComputedStyle: o,
            localStorage: {},
            frames: []
        }, n);
        c.parent = c;
        var h = c,
            p = (new(function() {
                function e() {
                    this.reset()
                }
                return e.prototype.windowIsAvailable = function() {
                    try {
                        return "undefined" != typeof window
                    } catch (e) {
                        return !1
                    }
                }, e.prototype.reset = function() {
                    this.isMock = !this.windowIsAvailable(), this.window = this.isMock ? h : window, this.isMock && (this.window.mockInstanceId = Math.floor(1e5 * Math.random()))
                }, e
            }())).window;
        t.a = p
    }, function(e, t, i) {
        "use strict";
        i.d(t, "b", (function() {
            return o
        }));
        var r = {
                JSON_FIXED: -3,
                DESIGNED_PRESET: -2,
                EMPTY: -1,
                COLLAGE: 0,
                MASONRY: 1,
                GRID: 2,
                THUMBNAIL: 3,
                SLIDER: 4,
                SLIDESHOW: 5,
                PANORAMA: 6,
                COLUMN: 7,
                MAGIC: 8,
                FULLSIZE: 9,
                BRICKS: 10,
                MIX: 11,
                ALTERNATE: 12,
                FUTURE_SLIDESHOW: 13
            },
            o = function(e) {
                return function(t) {
                    return t.galleryLayout === r[e]
                }
            };
        t.a = r
    }, function(e, t, i) {
        "use strict";
        i.d(t, "b", (function() {
            return n
        })), i.d(t, "c", (function() {
            return a
        })), i.d(t, "h", (function() {
            return o
        })), i.d(t, "f", (function() {
            return s
        })), i.d(t, "e", (function() {
            return l
        })), i.d(t, "g", (function() {
            return u
        })), i.d(t, "d", (function() {
            return c
        })), i.d(t, "j", (function() {
            return d
        })), i.d(t, "k", (function() {
            return g
        })), i.d(t, "p", (function() {
            return m
        })), i.d(t, "n", (function() {
            return f
        })), i.d(t, "m", (function() {
            return y
        })), i.d(t, "o", (function() {
            return h
        })), i.d(t, "l", (function() {
            return p
        })), i.d(t, "i", (function() {
            return S
        }));
        var r = {
                SHOW_ON_HOVER: "SHOW_ON_HOVER",
                SHOW_BELOW: "SHOW_BELOW",
                SHOW_ABOVE: "SHOW_ABOVE",
                SHOW_ON_THE_RIGHT: "SHOW_ON_THE_RIGHT",
                SHOW_ON_THE_LEFT: "SHOW_ON_THE_LEFT",
                ALTERNATE_HORIZONTAL: "ALTERNATE_HORIZONTAL",
                ALTERNATE_VERTICAL: "ALTERNATE_VERTICAL"
            },
            o = function(e) {
                return String(e).indexOf(r.SHOW_ON_HOVER) >= 0
            },
            n = function(e, t) {
                return String(e).indexOf(r.SHOW_ABOVE) >= 0 || t % 2 == 0 && String(e).indexOf(r.ALTERNATE_VERTICAL) >= 0
            },
            a = function(e, t) {
                return String(e).indexOf(r.SHOW_BELOW) >= 0 || t % 2 == 1 && String(e).indexOf(r.ALTERNATE_VERTICAL) >= 0
            },
            s = function(e, t) {
                return String(e).indexOf(r.SHOW_ON_THE_RIGHT) >= 0 || t % 2 == 0 && String(e).indexOf(r.ALTERNATE_HORIZONTAL) >= 0
            },
            l = function(e, t) {
                return String(e).indexOf(r.SHOW_ON_THE_LEFT) >= 0 || t % 2 == 1 && String(e).indexOf(r.ALTERNATE_HORIZONTAL) >= 0
            },
            u = function(e) {
                return n(e, 0) || a(e, 1)
            },
            c = function(e) {
                return s(e, 0) || l(e, 1)
            },
            h = function(e) {
                return u(e) && !c(e) && !o(e)
            },
            p = function(e) {
                return c(e) && !u(e) && !o(e)
            },
            d = function(e) {
                return String(e) === r.SHOW_ABOVE
            },
            g = function(e) {
                return String(e) === r.SHOW_BELOW
            },
            m = function(e) {
                return String(e) === r.SHOW_ON_HOVER
            },
            f = function(e) {
                return String(e) === r.SHOW_ON_THE_RIGHT
            },
            y = function(e) {
                return String(e) === r.SHOW_ON_THE_LEFT
            },
            S = function(e, t) {
                var i = e.split(","),
                    r = i.shift();
                return t || function(e) {
                    return d(e) || g(e)
                }(r) && i.every((function(e) {
                    return e === r
                }))
            };
        t.a = r
    }, function(e, t, i) {
        "use strict";
        i.d(t, "a", (function() {
            return S
        })), i.d(t, "d", (function() {
            return b
        })), i.d(t, "c", (function() {
            return v
        })), i.d(t, "e", (function() {
            return O
        }));
        var r = i(0),
            o = i(20),
            n = i(12),
            a = i(6),
            s = i(16),
            l = i(24),
            u = i(28),
            c = i(29),
            h = i(22),
            p = i(26),
            d = i(1),
            g = i(2),
            m = i(27),
            f = i(30);
        var y = function(e, t) {
                var i = Object(r.a)({}, e);
                return i.textBoxHeight = function(e, t) {
                    if (! function(e, t) {
                            return Object(a.g)(e.titlePlacement) && t
                        }(e, t)) return 0;
                    return e.textBoxHeight
                }(i, t), i.externalInfoHeight = function(e, t) {
                    var i = t;
                    t > 0 && Object(a.g)(e.titlePlacement) && e.imageInfoType === m.a.SEPARATED_BACKGROUND && (i += e.textImageSpace, i += 2 * e.textBoxBorderWidth);
                    return i
                }(i, i.textBoxHeight), i.externalInfoWidth = function(e, t) {
                    if (! function(e, t) {
                            var i = e.scrollDirection,
                                r = e.isVertical,
                                o = e.groupSize,
                                n = e.titlePlacement;
                            return i === d.a.scrollDirection.VERTICAL && r && 1 === o && Object(a.d)(n) && t
                        }(e, t)) return 0;
                    var i = e.targetItemSize,
                        r = e.calculateTextBoxWidthMode,
                        o = e.textBoxWidth,
                        n = e.textBoxWidthPercent,
                        s = 0;
                    s = r === f.a.PERCENT ? Math.min(100, Math.max(0, n)) / 100 : Math.min(i, o);
                    return s
                }(i, t), i
            },
            S = function(e, t) {
                return void 0 === t && (t = !1), e.gallerySizeType === h.a.PIXELS && e.gallerySizePx > 0 ? e.gallerySizePx : e.gallerySizeType === h.a.RATIO && e.gallerySizeRatio > 0 ? (n.a && n.a.innerWidth || 980) * (e.gallerySizeRatio / 100) : t || e.gallerySize
            },
            b = function(e) {
                var t = Object(r.a)({}, e);
                return (e.scrollDirection === d.a.scrollDirection.VERTICAL || e.isVertical) && (t.fixedColumns = "1" === String(e.gridStyle) ? Number(e.numberOfImagesPerRow) : 0, t.groupTypes = "1", t.groupSize = 1, t.collageAmount = 0, t.collageDensity = 0), t
            },
            v = function(e) {
                var t = Object(r.a)({}, e);
                if (!o.a.isUndefined(e.numberOfImagesPerCol) && e.scrollDirection === d.a.scrollDirection.HORIZONTAL) switch (t.fixedColumns = 0, e.numberOfImagesPerCol) {
                    case 1:
                    default:
                        t.groupTypes = "1", t.groupSize = 1, t.collageAmount = 0, t.collageDensity = 0;
                        break;
                    case 2:
                        t.groupTypes = "2v", t.groupSize = 2, t.collageAmount = 1, t.collageDensity = 1;
                        break;
                    case 3:
                        t.groupTypes = "3v", t.groupSize = 3, t.collageAmount = 1, t.collageDensity = 1
                }
                return t
            },
            _ = function(e) {
                var t = Object(r.a)({}, e);
                return ! function(e) {
                    if (d.a.isLayout("SLIDESHOW")(e)) return !0;
                    if (Object(a.g)(e.titlePlacement)) {
                        if (d.a.isLayout("SLIDER")(e) || d.a.isLayout("PANORAMA")(e) || d.a.isLayout("COLUMN")(e)) return !0;
                        if (d.a.isLayout("MASONRY")(e) && e.isVertical) return !0;
                        if (d.a.isLayout("GRID")(e) && 1 !== e.scrollDirection) return !0
                    }
                    return !1
                }(t) ? (o.a.isUndefined(t.itemFont) || (t = I("itemFont", "textDecorationTitle", t)), o.a.isUndefined(t.itemDescriptionFont) || (t = I("itemDescriptionFont", "textDecorationDesc", t))) : (o.a.isUndefined(t.itemFontSlideshow) || (t = I("itemFontSlideshow", "textDecorationTitle", t)), o.a.isUndefined(t.itemDescriptionFontSlideshow) || (t = I("itemDescriptionFontSlideshow", "textDecorationDesc", t))), t
            },
            O = function(e) {
                var t = Object(r.a)({}, e);
                return "fit" === t.cubeType && (t.itemBorderWidth = 0, t.itemBorderRadius = 0, t.itemEnableShadow = !1), t
            },
            I = function(e, t, i) {
                var o = Object(r.a)({}, i);
                return o[e].value = o[e].value.replace(/^font\s*:\s*/, ""), o[e].value = o[e].value.replace(/;$/, ""), o[e].value.indexOf("underline") > -1 || !0 === o[e].style.underline ? (o[e].value = o[e].value.replace("underline", ""), o[t] = "underline") : !1 === o[e].style.underline && (o[t] = "none"), o
            };
        t.b = function(e, t) {
            var i = Object(r.a)({}, e);
            return o.a.isMobile() && (i = function(e) {
                var t = Object(r.a)({}, e);
                return t.imageMargin > 0 && (t.imageMargin = Math.min(t.imageMargin, 50)), t
            }(i = _(i))), i = function(e) {
                var t = Object(r.a)({}, e);
                return t.gallerySizeType === h.a.PIXELS && t.gallerySizePx > 0 ? t.targetItemSize = t.gallerySizePx : t.gallerySizeType === h.a.RATIO && t.gallerySizeRatio > 0 && (t.targetItemSize = (n.a && n.a.innerWidth || 980) * (t.gallerySizeRatio / 100)), t
            }(i = function(e) {
                var t = Object(r.a)({}, e);
                return t.forceMobileCustomButton && (t.targetItemSize = Math.round(405), t.titlePlacement = a.a.SHOW_BELOW, t.galleryLayout = 2, t.fixedColumns = 1, t.numberOfImagesPerRow = 1), t
            }(i = function(e) {
                var t = Object(r.a)({}, e);
                return t.loadMoreButtonFont && o.a.isMobile() && (t.loadMoreButtonFont.value = t.loadMoreButtonFont.value.replace(/^font\s*:\s*/, ""), t.loadMoreButtonFont.value = t.loadMoreButtonFont.value.replace(/;$/, ""), t.loadMoreButtonFont.value.indexOf("underline") > -1 ? (t.loadMoreButtonFont.value = t.loadMoreButtonFont.value.replace("underline", ""), t.textDecorationLoadMore = "underline") : t.textDecorationLoadMore = "none"), t
            }(i = function(e) {
                var t = Object(r.a)({}, e);
                return (t.scrollDirection === d.a.scrollDirection.VERTICAL || t.groupSize > 1 || !t.cubeImages) && (t.slideAnimation = c.a.SCROLL), t
            }(i = function(e) {
                var t = Object(r.a)({}, e);
                return t.scrollDirection === d.a.scrollDirection.VERTICAL && (t.slideshowLoop = !1), t
            }(i = function(e) {
                var t = Object(r.a)({}, e);
                return t.scrollDirection === d.a.scrollDirection.HORIZONTAL && (t.isVertical = !1), t
            }(i = function(e) {
                var t = Object(r.a)({}, e);
                return t.arrowsPosition === p.a.OUTSIDE_GALLERY && (t.arrowsPadding = 0), t
            }(i = function(e) {
                var t = Object(r.a)({}, e);
                if (t.itemEnableShadow && t.scrollDirection === d.a.scrollDirection.VERTICAL) {
                    var i = Math.max(t.layoutParams.gallerySpacing, (t.itemShadowSize || 0) + (t.itemShadowBlur || 0));
                    t = Object(g.a)(t, "layoutParams_gallerySpacing", i)
                }
                return t
            }(i = function(e) {
                var t = Object(r.a)({}, e);
                return t.itemEnableShadow && t.scrollDirection === d.a.scrollDirection.HORIZONTAL && (t.itemEnableShadow = !1), t
            }(i = function(e) {
                var t = Object(r.a)({}, e);
                return t.imageLoadingMode === l.a.COLOR && t.imageLoadingWithColorMode === u.a.MAIN_COLOR && (t.imageLoadingMode = l.a.MAIN_COLOR), t
            }(i = function(e) {
                var t = Object(r.a)({}, e);
                return Object(a.h)(t.titlePlacement) || t.hoveringBehaviour === s.a.NEVER_SHOW || (t.hoveringBehaviour = s.a.APPEARS), t
            }(i = function(e) {
                var t = Object(r.a)({}, e);
                return d.a.isLayout("SLIDER")(t) || d.a.isLayout("COLUMN")(t) || d.a.isLayout("FUTURE_SLIDESHOW")(t) || (!t.isVertical || t.groupSize > 1) && (t.titlePlacement = a.a.SHOW_ON_HOVER), t
            }(i)))))))))))), i = function(e) {
                var t = Object(r.a)({}, e);
                return t.allowSlideshowCounter ? (t.isAutoSlideshow || (t.allowSlideshowCounter = !1), !1 === (d.a.isLayout("SLIDESHOW")(e) || d.a.isLayout("FUTURE_SLIDESHOW")(e)) && (t.allowSlideshowCounter = !1), t) : t
            }(i = function(e) {
                var t = Object(r.a)({}, e),
                    i = t.layoutParams.repeatingGroupTypes ? "1" == t.layoutParams.repeatingGroupTypes : "1" == t.groupTypes,
                    o = t.titlePlacement.split(",").filter((function(e) {
                        return !Object(a.p)(e)
                    })).join(",");
                return Object(a.i)(o, d.a.isLayout("SLIDESHOW")(e)) && i || (t.arrowsVerticalPosition = d.a.arrowsVerticalPosition.ITEM_CENTER), t
            }(i = y(i, t)))
        }
    }, function(e, t) {
        e.exports = __WEBPACK_EXTERNAL_MODULE__8__
    }, function(e, t, i) {
        "use strict";
        t.a = {
            imageRatioType: {
                FIXED: "FIXED",
                RESPONSIVE: "RESPONSIVE"
            },
            dimensions: {
                SIDE_BAR_WIDTH: 430,
                STORE_SIDE_BAR_WIDTH: 560,
                MOBILE_PADDING: 120,
                NO_PADDING: 0
            },
            mobileSwipeAnimations: {
                EXPAND: "EXPAND",
                FADE: "FADE",
                CAROUSEL: "CAROUSEL",
                CROSSFADE: "CROSSFADE"
            },
            expandAnimations: {
                NO_EFFECT: "NO_EFFECT",
                EXPAND: "EXPAND",
                FADE_IN: "FADE_IN",
                ZOOM: "ZOOM"
            },
            expandInfoPositions: {
                SIDE: "SIDE",
                BOTTOM: "BOTTOM"
            },
            dataSavedState: {
                SAVED: "SAVED",
                PUBLISHED: "PUBLISHED"
            },
            slideTransitions: {
                LINEAR: "linear",
                EASE_IN: "cubic-bezier(0.86,0,0.5,1)",
                EASE_OUT: "cubic-bezier(0.31,1.17,0.58,1.07)",
                EASE_IN_OUT: "cubic-bezier(0.46,0.1,0.25,1)",
                BOUNCE_IN: "cubic-bezier(0.49,-0.12,0.49,0.04)",
                BOUNCE_OUT: "cubic-bezier(0.58,1.65,0.29,0.95)",
                BOUNCE_IN_OUT: "cubic-bezier(0.6,-0.36,0.41,1.23)",
                EXPO: "cubic-bezier(0.86,0,0.07,1)"
            },
            autoSlideshowTypes: {
                INTERVAL: "interval",
                CONTINUOUS: "continuous"
            }
        }
    }, function(e, t, i) {
        "use strict";
        i.d(t, "b", (function() {
            return m
        })), i.d(t, "a", (function() {
            return f
        })), i.d(t, "c", (function() {
            return y
        }));
        var r = {};
        i.r(r), i.d(r, "pick", (function() {
            return l
        })), i.d(r, "throttle", (function() {
            return u
        })), i.d(r, "debounce", (function() {
            return c
        })), i.d(r, "get", (function() {
            return h
        })), i.d(r, "isFunction", (function() {
            return p
        })), i.d(r, "isEqual", (function() {
            return d
        })), i.d(r, "isNumber", (function() {
            return g
        }));
        var o = i(0),
            n = i(1),
            a = i(33),
            s = i(4),
            l = function(e, t) {
                var i = {};
                return Object.entries(e || {}).forEach((function(e) {
                    var r = e[0],
                        o = e[1];
                    t.indexOf(r) >= 0 && (i[r] = o)
                })), i
            },
            u = function(e, t) {
                var i = !1,
                    r = !1;
                return function() {
                    for (var o = [], n = 0; n < arguments.length; n++) o[n] = arguments[n];
                    i ? r = !0 : (r = !1, e.apply(void 0, o), i = !0, setTimeout((function() {
                        r && e.apply(void 0, o), i = !1
                    }), t))
                }
            },
            c = function(e, t) {
                var i;
                return function() {
                    for (var r = [], o = 0; o < arguments.length; o++) r[o] = arguments[o];
                    clearTimeout(i), i = setTimeout((function() {
                        e.apply(void 0, r)
                    }), t)
                }
            },
            h = function(e, t, i) {
                var r = String.prototype.split.call(t, /[,[\].]+?/).filter(Boolean).reduce((function(e, t) {
                    return null != e ? e[t] : e
                }), e);
                return void 0 === r || r === e ? i : r
            },
            p = function(e) {
                return "function" == typeof e
            },
            d = function(e, t) {
                try {
                    return JSON.stringify(e) === JSON.stringify(t)
                } catch (e) {
                    return !1
                }
            },
            g = function(e) {
                return !isNaN(parseFloat(e)) && isFinite(e)
            };

        function m(e) {
            var t;
            for (t in e) {
                "object" === typeof e[t] ? m(e[t]) : ("number" != typeof e[t] || e[t] <= 0) && delete e[t]
            }
            return e
        }
        var f = function() {
                function e() {
                    var e = this;
                    this.init = function() {
                        Object.assign(e, r)
                    }, this.init()
                }
                var t;
                return e.getBaseUrl = function(t, i) {
                    var r = e.parseViewMode(i);
                    return r === n.a.viewMode.PREVIEW || r === n.a.viewMode.EDIT ? "https://progallery.wixapps.net" : t.location.baseUrl.split("/").slice(0, 3).join("/")
                }, e.getUrlOverrideExperimentsParam = function(e) {
                    var t;
                    return null === (t = e.location.query) || void 0 === t ? void 0 : t.petri_ovr
                }, e.getExperiments = function(t, i) {
                    var r = e.parseViewMode(t.window.viewMode),
                        o = e.getBaseUrl(t, r),
                        n = e.getUrlOverrideExperimentsParam(t);
                    return fetch(o + "/_api/pro-gallery-webapp/v1/viewer/experiments" + (n ? "?petri_ovr=" + n : ""), {
                        credentials: "include",
                        headers: {
                            Authorization: i
                        }
                    }).then((function(e) {
                        return e.json()
                    })).then((function(e) {
                        return e.experiments
                    })).catch((function() {
                        return {}
                    }))
                }, e.parseViewMode = function(e) {
                    switch (e.toLowerCase()) {
                        case "editor":
                        case "edit":
                            return n.a.viewMode.EDIT;
                        case "preview":
                            return n.a.viewMode.PREVIEW;
                        case "site":
                        default:
                            return n.a.viewMode.SITE
                    }
                }, e.formFactorToDeviceType = function(e) {
                    switch (e.toLowerCase()) {
                        case "tablet":
                            return n.a.deviceType.TABLET;
                        case "mobile":
                        case "smartphone":
                            return n.a.deviceType.MOBILE;
                        case "desktop":
                        default:
                            return n.a.deviceType.DESKTOP
                    }
                }, e.verifyExperiments = function(e) {
                    return Object(o.b)(this, void 0, void 0, (function() {
                        return Object(o.c)(this, (function(t) {
                            return a.a.experimentsAreReady ? [2] : (e && this.getExperimentsAndInitWrapper()(e), [2, new Promise((function(e) {
                                a.a.onExperimentsReady((function(t) {
                                    return e(t)
                                }))
                            }))])
                        }))
                    }))
                }, e.prototype.isVerbose = function() {
                    return !this.isTest() && "true" === (this.safeLocalStorage() || {}).forceDevMode
                }, e.prototype.isTest = function() {
                    try {
                        return s.a.isTest
                    } catch (e) {
                        return !1
                    }
                }, e.prototype.safeLocalStorage = function() {
                    try {
                        return localStorage || s.a
                    } catch (e) {
                        return s.a
                    }
                }, e.prototype.isDev = function() {
                    return this.isLocal() || "true" === (this.safeLocalStorage() || {}).forceDevMode
                }, e.prototype.isLocal = function() {
                    var e = s.a.location.hostname || "";
                    return "local.wix.com" === e || "0.0.0.0" === e || e.indexOf("localhost") >= 0 || null !== /([0-9]{1,3}\.){3}[0-9]{1,3}:[0-9]{1,5}/.exec(e)
                }, e.prototype.isMobile = function(e) {
                    return e === n.a.deviceType.MOBILE
                }, e.prototype.isDimensionless = function(e) {
                    try {
                        if (!e.metaData.height || !e.metaData.width) return !0;
                        if (e.metaData.height <= 1 || e.metaData.width <= 1) return !0
                    } catch (t) {
                        console.error("corrupt item, cant check for dimensions", e, t)
                    }
                    return !1
                }, e.getExperimentsAndInitWrapper = (t = !1, function() {
                    return t ? function() {} : (t = !0, function(t, i, r) {
                        e.getExperiments(t, r).then((function(e) {
                            a.a.setExperiments(e)
                        })).catch((function(e) {
                            i && i(e), console.error("Waiting for experimentsPromise failed", e)
                        }))
                    })
                }), e
            }(),
            y = new f
    }, function(e, t, i) {
        "use strict";
        t.a = {
            VERTICAL: 0,
            HORIZONTAL: 1
        }
    }, function(e, t, i) {
        "use strict";
        var r = i(0),
            o = function() {
                return {}
            },
            n = {
                y: 0,
                x: 0,
                width: 2560,
                height: 1440,
                innerWidth: 2560,
                innerHeight: 1440,
                outerWidth: 2560,
                outerHeight: 1440,
                clientWidth: 2560,
                clientHeight: 1440
            },
            a = Object(r.a)(Object(r.a)({}, n), {
                getBoundingClientRect: function() {
                    return n
                }
            }),
            s = Object(r.a)({
                addEventListener: o,
                removeEventListener: o,
                createEvent: o,
                getElementById: function() {
                    return a
                },
                getElementsByClassName: function() {
                    return [a]
                },
                getElementsByTagName: function() {
                    return [a]
                },
                querySelector: function() {
                    return [a]
                },
                documentElement: a,
                activeElement: a,
                style: n
            }, n);
        s.body = s;
        var l = Object(r.a)({
            isMock: !0,
            isSSR: !0,
            orientation: 0,
            devicePixelRatio: 1,
            scrollTop: 0,
            addEventListener: o,
            removeEventListener: o,
            createEvent: o,
            CustomEvent: o,
            screen: n,
            open: o,
            petri: {},
            search: {},
            location: {
                href: "http://mock.wix.com/",
                protocol: "http:",
                host: "mock.wix.com",
                hostname: "mock.wix.com",
                port: "",
                pathname: "/",
                search: "",
                hash: ""
            },
            postMessage: o,
            requestAnimationFrame: o,
            dispatchEvent: o,
            document: s,
            getComputedStyle: o,
            localStorage: {},
            frames: []
        }, n);
        l.parent = l;
        var u = l,
            c = (new(function() {
                function e() {
                    this.reset()
                }
                return e.prototype.windowIsAvailable = function() {
                    try {
                        return "undefined" != typeof window
                    } catch (e) {
                        return !1
                    }
                }, e.prototype.reset = function() {
                    this.isMock = !this.windowIsAvailable(), this.window = this.isMock ? u : window, this.isMock && (this.window.mockInstanceId = Math.floor(1e5 * Math.random()))
                }, e
            }())).window;
        t.a = c
    }, function(e, t, i) {
        e.exports = i(34)
    }, function(e, t, i) {
        "use strict";
        i.d(t, "c", (function() {
            return r
        })), i.d(t, "b", (function() {
            return o
        })), i.d(t, "a", (function() {
            return n
        }));
        var r = {
                SENTRY_DSN: "https://dcd7075e345b43d991c2ca339000e980@sentry.wixpress.com/112",
                PG_APP_DEFINITION_ID: "14271d6f-ba62-d045-549b-ab972ae1f70e",
                GALLERY_WIDGET_ID: "142bb34d-3439-576a-7118-683e690a1e0d",
                MULTISHARE_WIDGET_ID: "1491fc25-fcd2-9c08-c74f-67b98b69ac4a",
                FULLSCREEN_PAGE_ID: "144f04b9-aab4-fde7-179b-780c11da4f46",
                PG_TEST_APP_DEFINITION_ID: "f27276e7-0858-460c-a450-4ba27cfe6eea",
                PG_TEST_GALLERY_WIDGET_ID: "c89921a0-ef16-45a8-931d-e7d3e5a02cdf"
            },
            o = {
                ARTSTORE_APP_DEFINITION_ID: "147ab90e-91c5-21b2-d6ca-444c28c8a23b",
                GALLERY_WIDGET_ID: "147ab9e6-2166-63ea-f9f1-3e81db0cbb4a",
                CART_WIDGET_ID: "1482a5fd-aaf4-0660-4c80-178d7d8a28f3",
                THANK_YOU_WIDGET_ID: "14ab724d-1a44-73f3-daaf-e6590508eb14",
                SENTRY_DSN: "https://1c9d600630e64cd6b5a4b0cda27df53d@sentry.wixpress.com/113",
                PROVIDERS: {
                    LOCAL: "14a0ee97-918b-2f0c-43f1-42e67948716b",
                    WIX: "147bec5f-d87e-d37b-b5cf-36f47c1815b4",
                    ORDERAPRINT: "14a9911b-a59e-b7f3-f878-3661e0d83f2f"
                }
            },
            n = {
                ALBUMS_APP_DEF_ID: "13ff8629-c1fc-e289-e81f-bc8c8968e9d6"
            }
    }, , function(e, t, i) {
        "use strict";
        t.a = {
            APPEARS: "APPEARS",
            DISAPPEARS: "DISAPPEARS",
            NO_CHANGE: "NO_CHANGE",
            NEVER_SHOW: "NEVER_SHOW"
        }
    }, function(e, t, i) {
        "use strict";
        i.d(t, "a", (function() {
            return p
        }));
        var r = {},
            o = "undefined" != typeof document ? document : {
                addEventListener: function() {},
                removeEventListener: function() {}
            },
            n = {
                closeWindow: function() {},
                addEventListener: function(e, t) {
                    o.addEventListener(e, t)
                },
                removeEventListener: function(e, t) {
                    o.removeEventListener(e, t)
                },
                stylesMock: {
                    fonts: {
                        testKey: {
                            cssFontFamily: "1111"
                        }
                    },
                    numbers: {},
                    colors: {},
                    booleans: {}
                },
                colorMock: {
                    colors: {
                        testColorKey: "color-1"
                    }
                },
                getBoundingRectAndOffsets: function(e) {
                    e({
                        offsets: {
                            x: 0,
                            y: 0
                        }
                    })
                },
                getCurrentPageId: function(e) {
                    e("")
                },
                Utils: {
                    navigateToSection: function() {},
                    getOrigCompId: function() {},
                    getCompId: function() {
                        return null
                    },
                    getViewMode: function() {},
                    getDemoMode: function() {},
                    getInstance: function() {
                        return null
                    },
                    getInstanceValue: function() {
                        return null
                    },
                    getInstanceId: function() {
                        return null
                    },
                    getBusinessId: function() {
                        return ""
                    },
                    isOverEditor: function() {
                        return !1
                    },
                    getSectionUrl: function(e, t) {
                        setTimeout((function() {
                            t("https://mock_section_url")
                        }), 0)
                    },
                    getSiteOwnerId: function() {
                        return ""
                    },
                    getUid: function() {
                        return ""
                    },
                    Media: {
                        getResizedImageUrl: function(e, t, i) {
                            return "/images/test-" + e + "-" + t + "-" + i + ".jpg"
                        }
                    }
                },
                setHeight: function() {},
                UI: {
                    create: function() {
                        return {}
                    },
                    initialize: function() {},
                    onChange: function(e, t) {
                        o.addEventListener(e, (function() {
                            t(r[e])
                        }))
                    },
                    get: function(e) {
                        return r[e]
                    },
                    set: function(e, t) {
                        r[e] = t
                    },
                    modelCache: r
                },
                Styles: {
                    getColorByreference: function() {
                        return {
                            value: "#123456"
                        }
                    },
                    getSiteColors: function() {
                        for (var e = [], t = 0; t < 31; t++) e[t] = t;
                        return e
                    },
                    getStyleParams: function(e) {
                        return e ? e(n.stylesMock) : n.stylesMock
                    },
                    getStyleParamsByStyleId: function(e, t, i) {
                        return i ? i(n.stylesMock) : n.stylesMock
                    },
                    restoreParam: function() {
                        n.stylesMock = {
                            fonts: {
                                testKey: {
                                    cssFontFamily: "1111"
                                }
                            },
                            numbers: {},
                            colors: {},
                            booleans: {}
                        }
                    },
                    setFontParam: function(e, t, i) {
                        n.stylesMock.fonts[e] = {
                            cssFontFamily: t.value.cssFontFamily
                        }, i && i()
                    },
                    setColorParam: function(e, t, i) {
                        n.colorMock.colors[e] = t, i && i()
                    },
                    getSiteTextPresets: function() {
                        return {
                            Title: {
                                editorKey: "font_0",
                                fontFamily: "fontFamilyTitle",
                                lineHeight: "1.4em",
                                size: "40px",
                                style: "normal",
                                value: "value",
                                weight: "normal"
                            }
                        }
                    },
                    getEditorFonts: function() {
                        return [{
                            language: "hebrew",
                            fonts: [{
                                cssFontFamily: "fontFamilyTitle0",
                                fontFamily: "fontFamilyTitle0",
                                genericFamily: "cursive0",
                                permissions: "all0",
                                provider: "google0",
                                spriteIndex: 132
                            }]
                        }, {
                            language: "latin",
                            fonts: [{
                                cssFontFamily: "fontFamilyTitle",
                                fontFamily: "fontFamilyTitle",
                                genericFamily: "cursive",
                                permissions: "all",
                                provider: "google",
                                spriteIndex: 154
                            }]
                        }, {
                            language: "arabic",
                            fonts: [{
                                cssFontFamily: "fontFamilyTitleArabic",
                                fontFamily: "fontFamilyTitleArabic",
                                genericFamily: "cursiveArabic",
                                permissions: "allArabic",
                                provider: "googleArabic",
                                spriteIndex: 160
                            }]
                        }]
                    },
                    getStyleId: function(e) {
                        e("mock-style-id")
                    }
                },
                Settings: {
                    openModal: function(e, t, i, r, o) {
                        o()
                    },
                    triggerSettingsUpdatedEvent: function() {},
                    getSiteInfo: function(e) {
                        return e({
                            baseUrl: "www.test.boost.co.il"
                        })
                    },
                    getDashboardAppUrl: function(e) {
                        e.call()
                    },
                    refreshApp: function() {
                        return ""
                    },
                    setExternalId: function() {},
                    addComponent: function() {},
                    MediaType: {
                        IMAGE: "photos",
                        BACKGROUND: "backgrounds",
                        AUDIO: "audio",
                        DOCUMENT: "documents",
                        SWF: "swf",
                        SECURE_MUSIC: "secure_music",
                        VIDEO: "video",
                        SHAPE: "shape",
                        MUSIC: "music",
                        CLIPART: "clipart",
                        BG_VIDEO: "bg_video",
                        ICON_DOCUMENT: "icon_document",
                        ICON_SOCIAL: "bg_social",
                        ICON_FAVICON: "bg_favicon",
                        MUSIC_PRO: "secure_music",
                        IMAGE_PRO: "secure_picture",
                        FLASH: "swf",
                        BG_IMAGE: "backgrounds"
                    }
                },
                Events: {
                    PUBLIC_DATA_CHANGED: "PUBLIC_DATA_CHANGED",
                    SETTINGS_UPDATED: "SETTINGS_UPDATED",
                    EDIT_MODE_CHANGE: "EDIT_MODE_CHANGE",
                    STYLE_PARAMS_CHANGE: "STYLE_PARAMS_CHANGE",
                    THEME_CHANGE: "THEME_CHANGE",
                    PAGE_NAVIGATION_IN: "PAGE_NAVIGATION_IN",
                    PAGE_NAVIGATION_OUT: "PAGE_NAVIGATION_OUT"
                },
                Theme: {
                    BARE: "bare"
                },
                scrollTo: function() {},
                scrollBy: function() {},
                getSiteInfo: function() {},
                Data: {
                    Public: {
                        get: function(e, t, i) {
                            i({
                                pg: 1
                            })
                        }
                    }
                },
                Features: {
                    isSupported: function() {},
                    Types: {
                        ADD_COMPONENT: "ADD_COMPONENT"
                    }
                },
                PubSub: {
                    subscribe: function() {},
                    publish: function() {}
                },
                getSitePages: function(e) {
                    "function" == typeof e && e([])
                },
                replaceSectionState: function() {},
                Performance: {
                    applicationLoaded: function() {},
                    applicationLoadingStep: function() {}
                },
                Activities: {
                    postActivity: function() {},
                    Type: {
                        SOCIAL_TRACK: "SOCIAL_TRACK"
                    }
                }
            },
            a = n,
            s = new(function() {
                function e() {
                    this.init()
                }
                return e.prototype.wixSdkIsAvailable = function() {
                    try {
                        return "undefined" != typeof window && void 0 !== window.Wix && "function" == typeof window.Wix.Utils.getCompId
                    } catch (e) {
                        return !1
                    }
                }, e.prototype.init = function() {
                    try {
                        this.wixSdkIsAvailable() ? (Object.assign(this, a, window.Wix), this.isMock = !1) : (Object.assign(this, a), this.isMock = !0)
                    } catch (e) {
                        Object.assign(this, a), this.isMock = !0
                    }
                }, e
            }()),
            l = i(8),
            u = i(32),
            c = i(4),
            h = function() {
                function e() {
                    this._cache = {}, this._hash2int = {}, this._params = {}, this._useCache = this.shouldUseCache(), this.setIsWixMobile = this.setIsWixMobile.bind(this)
                }
                return e.prototype.shouldUseCache = function() {
                    var e = !0;
                    try {
                        e = c.a && c.a.Wix && c.a.Wix.Utils && c.a.Wix.Utils.getViewMode()
                    } catch (e) {}
                    return !!this.isUndefined(e) || "editor" !== e && "preview" !== e
                }, e.prototype.isUndefined = function(e) {
                    return void 0 === e
                }, e.prototype.getOrPutFromCache = function(e, t) {
                    return !this._useCache || this.isSSR() ? t() : (void 0 !== this._cache[e] || (this._cache[e] = t()), this._cache[e])
                }, e.prototype.isDemo = function() {
                    return "1" === this.parseGetParam("demo")
                }, e.prototype.isInWix = function() {
                    return this.isTest() || this.getOrPutFromCache("isInWix", (function() {
                        try {
                            return top !== self && ("progallery.wix.com" === document.location.host || "progallery.wixapps.net" === document.location.host) && document.location.search.indexOf("instance=") >= 0
                        } catch (e) {
                            return !1
                        }
                    }))
                }, e.prototype.isSemiNative = function() {
                    try {
                        return c.a.semiNative
                    } catch (e) {
                        return !1
                    }
                }, e.prototype.hashToInt = function(e, t, i) {
                    var r = 0;
                    if (this.isUndefined(e) || 0 === e.length) return r;
                    if (!this._hash2int[e]) {
                        for (var o = 0; o < e.length; o++) r += e.charCodeAt(o);
                        this._hash2int[e] = r
                    }
                    return this.isUndefined(t) || this.isUndefined(i) ? this._hash2int[e] : this._hash2int[e] % (i - t + 1) + t
                }, e.prototype.parseGetParam = function(e, t) {
                    try {
                        if (!this.isUndefined(this._params[e])) return this._params[e];
                        var i = "",
                            r = [],
                            o = location;
                        if (t && (o = {
                                search: "?" + (t.split("?")[1] || ""),
                                pathname: (t.split("?")[0] || "").split("/")[1] || ""
                            }), o.search.substr(1).split("&").forEach((function(t) {
                                (r = t.split("="))[0] === e && (i = decodeURIComponent(r[1]))
                            })), !i) {
                            var n = decodeURIComponent(o.pathname).split("?")[1];
                            if (!n) return "";
                            n.split("&").forEach((function(t) {
                                (r = t.split("="))[0] === e && (i = decodeURIComponent(r[1]))
                            }))
                        }
                        return this._params[e] = i, i
                    } catch (e) {
                        return !1
                    }
                }, e.prototype.parsePathParam = function(e) {
                    for (var t = location.pathname.split("/"), i = 0; i < t.length; i++) {
                        var r = t[i];
                        if (r.indexOf(e) >= 0) return r
                    }
                    return ""
                }, e.prototype.parseHashParam = function(e) {
                    var t = "",
                        i = [],
                        r = location.href.split("#")[1] || "";
                    return r ? (r.substr(1).split("&").forEach((function(r) {
                        (i = r.split("="))[0] === e && (t = decodeURIComponent(i[1]))
                    })), t) : ""
                }, e.prototype.stripSlashes = function(e) {
                    var t = "";
                    return "string" == typeof e && (t = e.replace(/\\\//g, "/").replace(/\\'/g, "'").replace(/\\"/g, '"').replace(/\\0/g, "\0").replace(/\\\\/g, "\\")), t
                }, e.prototype.parseStringObject = function(e) {
                    if ("string" != typeof e) return e;
                    var t = this.stripSlashes(e);
                    if ("string" == typeof e && /^[\],:{}\s]*$/.test(t.replace(/\\["\\\/bfnrtu]/g, "@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, ""))) try {
                        return JSON.parse(t)
                    } catch (e) {}
                    return t
                }, e.prototype.isWixMobile = function() {
                    var e = this,
                        t = function() {
                            var t = e.parseGetParam("deviceType") || c.a.deviceType;
                            return !!("true" === e.parseGetParam("showMobileView")) || (t ? String(t).toLowerCase().indexOf("mobile") >= 0 : void 0)
                        };
                    return this.isSite() ? this.getOrPutFromCache("isWixMobile", t) : t()
                }, e.prototype.isUserAgentMobile = function() {
                    try {
                        var e = function() {
                            var e, t = !1;
                            return e = navigator.userAgent || navigator.vendor || c.a.opera, (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|pixel|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0, 4))) && (t = !0), t
                        };
                        return this.isSite() ? this.getOrPutFromCache("isUserAgentMobile", e) : e()
                    } catch (e) {
                        return !1
                    }
                }, e.prototype.setIsWixMobile = function(e) {
                    c.a.deviceType = e ? "mobile" : "desktop", this._cache.isWixMobile = e, this._cache.isMobile = e
                }, e.prototype.isMobile = function() {
                    var e = this,
                        t = function() {
                            var t = e.isWixMobile(),
                                i = e.isUserAgentMobile();
                            return e.isUndefined(t) ? i : t
                        };
                    return !this.isTest() && (this.isSite() ? this.getOrPutFromCache("isMobile", t) : t())
                }, e.prototype.isTest = function() {
                    try {
                        return c.a.isTest
                    } catch (e) {
                        return !1
                    }
                }, e.prototype.isDev = function() {
                    var e = this;
                    return this.getOrPutFromCache("isDev", (function() {
                        return e.isLocal() || e.isOOI() && !1 || e.shouldDebug("ph_local") || !!e.parseGetParam("debug") || "true" === (e.safeLocalStorage() || {}).forceDevMode
                    }))
                }, e.prototype.isVerbose = function() {
                    return !this.isTest() && ("true" === (this.safeLocalStorage() || {}).forceDevMode || this.shouldDebug("ph_verbose"))
                }, e.prototype.isLocal = function() {
                    return this.getOrPutFromCache("isLocal", (function() {
                        var e = c.a.location.hostname || "";
                        return "local.wix.com" === e || "0.0.0.0" === e || e.indexOf("localhost") >= 0 || null !== /([0-9]{1,3}\.){3}[0-9]{1,3}:[0-9]{1,5}/.exec(e)
                    }))
                }, e.prototype.isStoreGallery = function() {
                    var e = this;
                    return this.getOrPutFromCache("isStoreGallery", (function() {
                        if (e.isSemiNative()) return !1;
                        try {
                            return c.a.location.search.toLowerCase().indexOf("isstore") > -1
                        } catch (t) {
                            return e.isDev() && console.error("cant find window", t), !1
                        }
                    }))
                }, e.prototype.isDemoMode = function() {
                    return s && s.Utils && s.Utils.getInstanceValue && s.Utils.getInstanceValue("demoMode")
                }, e.prototype.isSSR = function() {
                    return !!c.a.isMock
                }, e.prototype.isOOI = function() {
                    return this.isSSR() || "undefined" != typeof top && "undefined" != typeof self && (top === self || self.location.href.includes("AlbumsGOGOOI") || self.location.origin.includes("editor.wix.com") || self.location.origin.includes("editorx.com"))
                }, e.prototype.isPremium = function() {
                    var e = this;
                    return this.getOrPutFromCache("isPremium", (function() {
                        var t = e.shouldDebug("ph_force_premium"),
                            i = e.shouldDebug("ph_force_freemium");
                        return !!t || !i
                    }))
                }, e.prototype.updateViewMode = function(e) {
                    if ("string" == typeof e && this.isOOI()) return this._cache.viewMode = e.toLowerCase(), this._cache.viewMode;
                    try {
                        if (c.a && c.a.Wix && c.a.Wix.Utils && c.a.Wix.Utils.getViewMode) return this._cache.viewMode = c.a.Wix.Utils.getViewMode(), this._cache.viewMode
                    } catch (e) {
                        return !1
                    }
                }, e.prototype.getViewModeFromCache = function() {
                    var e = this;
                    return this.getOrPutFromCache("viewMode", (function() {
                        try {
                            if (e.isOOI()) {
                                e.isVerbose() && console.warn("OOI - viewMode not found, returning site if not in wix.com(old test)");
                                try {
                                    return c.a.location.host.includes("wixapps.net") ? "undefined" : "site"
                                } catch (e) {
                                    return "undefined"
                                }
                            }
                            return e.isSSR() ? "site" : c.a && c.a.Wix && c.a.Wix.Utils && c.a.Wix.Utils.getViewMode ? c.a.Wix.Utils.getViewMode() : "undefined"
                        } catch (e) {
                            return !1
                        }
                    }))
                }, e.prototype.isEditor = function() {
                    return (this.isOOI() || !!this.isInWix()) && "editor" === this.getViewModeFromCache()
                }, e.prototype.isPreview = function() {
                    return (this.isOOI() || !!this.isInWix()) && "preview" === this.getViewModeFromCache()
                }, e.prototype.isSite = function() {
                    return this.isOOI() ? "site" === this.getViewModeFromCache() : !this.isEditor() && !this.isPreview()
                }, e.prototype.getUUID = function() {
                    return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (function(e) {
                        var t = 16 * Math.random() | 0;
                        return ("x" === e ? t : 3 & t | 8).toString(16)
                    }))
                }, e.prototype.generateUUID = function() {
                    return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (function(e) {
                        var t = Math.floor(16 * Math.random()) || 0;
                        return "x" === e ? t.toString(16) : e
                    }))
                }, e.prototype.isInSettings = function() {
                    return "1" === this.parseGetParam("expandsettingsmode")
                }, e.prototype.isExternalUrl = function(e) {
                    return /(^https?)|(^data)|(^blob)/.test(e)
                }, e.prototype.isMobileViewer = function() {
                    var e = this;
                    return this.getOrPutFromCache("isMobileViewer", (function() {
                        var t = e.isWixMobile(),
                            i = e.isUserAgentMobile();
                        return t && !i
                    }))
                }, e.prototype.isiOS = function() {
                    return this.getOrPutFromCache("isiOS", (function() {
                        try {
                            return /iPad|iPhone|iPod/.test(navigator.userAgent) && !c.a.MSStream
                        } catch (e) {
                            return !1
                        }
                    }))
                }, e.prototype.isiPhone = function() {
                    return this.getOrPutFromCache("isiPhone", (function() {
                        try {
                            return /iPhone/.test(navigator.userAgent) && !c.a.MSStream
                        } catch (e) {
                            return !1
                        }
                    }))
                }, e.prototype.isTouch = function() {
                    var e = this;
                    return this.getOrPutFromCache("isTouch", (function() {
                        try {
                            return e.isMobile() || "ontouchstart" in c.a.document.documentElement
                        } catch (e) {
                            return !1
                        }
                    }))
                }, e.prototype.browserIs = function(e) {
                    return this.getOrPutFromCache("browsers", (function() {
                        var e = {
                            chrome: !1,
                            chromeIos: !1,
                            explorer: !1,
                            firefox: !1,
                            safari: !1,
                            opera: !1
                        };
                        try {
                            return e.chrome = navigator.userAgent.indexOf("Chrome") > -1, e.chromeIos = navigator.userAgent.indexOf("CriOS") > -1, e.explorer = navigator.userAgent.indexOf("MSIE") > -1 || !!navigator.userAgent.match(/Trident.*rv\:11\./), e.firefox = navigator.userAgent.indexOf("Firefox") > -1, e.safari = navigator.userAgent.indexOf("Safari") > -1, e.opera = navigator.userAgent.toLowerCase().indexOf("op") > -1, e.chrome && e.safari && (e.safari = !1), e.chrome && e.opera && (e.chrome = !1), e
                        } catch (t) {
                            return e
                        }
                    }))[e]
                }, e.prototype.isPlayground = function() {
                    if (this.isInWix()) return !1;
                    try {
                        var e = !1;
                        try {
                            e = top.location.href.indexOf("playground.html") > 0
                        } catch (t) {
                            e = !1
                        }
                        return e
                    } catch (e) {
                        return !1
                    }
                }, e.prototype.isInAlbumsBuilder = function() {
                    if (!this.isInWix()) return !1;
                    try {
                        return c.a && c.a.debugApp && c.a.debugApp.indexOf("ph_source_albums") > -1
                    } catch (e) {
                        return !1
                    }
                }, e.prototype.isWixDomain = function() {
                    try {
                        return c.a.location.href.indexOf("wixapps.net") >= 0
                    } catch (e) {
                        return !1
                    }
                }, e.prototype.isLandscape = function() {
                    var e = this;
                    return !this.isSemiNative() && this.getOrPutFromCache("isLandscape", (function() {
                        if (!e.isMobile()) return !1;
                        try {
                            if (e.isUndefined(c.a.orientation)) {
                                var t = c.a.matchMedia("(orientation: landscape)");
                                return !(!t || !0 !== t.matches)
                            }
                            return 90 === c.a.orientation || -90 === c.a.orientation
                        } catch (e) {
                            return !1
                        }
                    }))
                }, e.prototype.isOnBoarding = function() {
                    try {
                        var e = Object(u.parse)(c.a.location.search);
                        return e.viewMode && "onboarding" === e.viewMode.toLowerCase()
                    } catch (e) {
                        return !1
                    }
                }, e.prototype.isAccessibilityEnabled = function() {
                    var e = this;
                    return this.getOrPutFromCache("isAccessibilityEnabled", (function() {
                        if (!e.isSite()) return !1;
                        if (e.isOOI()) return !1;
                        var t = e.shouldDebug("accessibility");
                        if (s && "function" == typeof s.isVisualFocusEnabled) try {
                            s.isVisualFocusEnabled((function(e) {
                                return e || t
                            }))
                        } catch (e) {}
                        return t
                    }))
                }, e.prototype.isDebugBuild = function() {
                    try {
                        return !1
                    } catch (e) {
                        return !1
                    }
                }, e.prototype.getDeviceType = function() {
                    return this.isWixMobile() ? "mobile" : "desktop"
                }, e.prototype.safeLocalStorage = function() {
                    try {
                        return localStorage || c.a
                    } catch (e) {
                        return c.a
                    }
                }, e.prototype.shouldDebug = function(e) {
                    try {
                        return !!this.safeLocalStorage()[e] || (c.a.debugApp || "").indexOf(e) >= 0 || (this.parseGetParam("debugApp") || "").indexOf(e) >= 0
                    } catch (e) {
                        return !1
                    }
                }, e.prototype.shouldLog = function(e) {
                    return this.shouldDebug("ph_log_" + e)
                }, e.prototype.getDateCreatedTicksFromStr = function(e) {
                    return !1 === isNaN(Date.parse(e)) ? Date.parse(e) : Date.parse("2017-07-09T14:08:21.000Z")
                }, e.prototype.deviceHasMemoryIssues = function() {
                    return this.isiOS()
                }, e.prototype.getUrlPrefix = function(e) {
                    try {
                        return c.a.location.protocol + "//" + (!e && this.isLocal() ? "local.wix.com:3001" : "progallery.wixapps.net") + "/"
                    } catch (e) {
                        return console.error("getUrlPrefix", {
                            e: e
                        }), "http://progallery.wixapps.net/"
                    }
                }, e.prototype.getFullscreenSectionId = function() {
                    return this.isStoreGallery() ? "fullscreen_store_page" : "fullscreen_page"
                }, e.prototype.getApiUrlPrefix = function() {
                    return this.getUrlPrefix(!0) + "api/v1/"
                }, e.prototype.generateUrl = function(e, t) {
                    t = t || {};
                    var i = this.isStoreGallery(),
                        r = this.getUrlPrefix() + e;
                    i && (t.isStore = !0);
                    var o = Object(u.stringify)(t);
                    return o ? r + "?" + o : r
                }, e.prototype.getTextEditorUrl = function() {
                    return this.generateUrl("text-editor.html")
                }, e.prototype.getManageMediaUrl = function() {
                    return this.generateUrl("photos.html")
                }, e.prototype.getExpandSettingsUrl = function(e) {
                    return this.generateUrl("settings-expand.html", e)
                }, e.prototype.getSettingsWatermarkDisableUrl = function() {
                    return this.generateUrl("settings-watermark-disable.html")
                }, e.prototype.getSettingsAddonsUrl = function(e) {
                    return void 0 === e && (e = {}), this.generateUrl("settings-addons.html", e)
                }, e.prototype.getProviderModalUrl = function(e) {
                    return void 0 === e && (e = {}), this.generateUrl("provider-modal.html", e)
                }, e.prototype.getTabIndex = function(e) {
                    var t = ["currentGalleryItem", "loadMoreButton", "slideshowNext", "slideshowPrev", "currentThumbnail", "slideshowLove", "slideshowShare", "cartIcon", "cartClose", "cartFrame", "fullscreenClose", "fullscreenNext", "fullscreenPrev", "fullscreenInfo", "fullscreenLink", "fullscreenProvider", "fullscreenCartButton", "fullscreenCheckout", "fullscreenExpand", "fullscreenVideoPlay", "fullscreenVideoBar", "fullscreenVideoMute", "fullscreenVideoVolume", "fullscreenCartIcon", "fullscreenDownload", "fullscreenLove", "fullscreenShare"].indexOf(e) + 1;
                    return t >= 0 && this.isOOI() ? 0 : t || -1
                }, e.prototype.safeSessionStorage = function() {
                    try {
                        return sessionStorage
                    } catch (e) {
                        return c.a || {}
                    }
                }, e.prototype.getLocalStorage = function() {
                    return this.isDev() ? this.safeSessionStorage() : this.safeLocalStorage() || this.safeSessionStorage()
                }, e.prototype.setStateAndLog = function(e, t, i, r) {
                    var o = this;
                    if (this.isVerbose()) {
                        console.log("State Change Called (" + t + ")", i);
                        var n = Object(l.clone)(e.state);
                        e.setState(i, (function() {
                            var i = Object(l.clone)(e.state),
                                a = o.printableObjectsDiff(n, i, "state");
                            Object(l.keys)(a).length > 0 && console.log("State Change Completed (" + t + ")", a), Object(l.isFunction)(r) && r.bind(e)()
                        }))
                    } else e.setState(i, (function() {
                        Object(l.isFunction)(r) && r.bind(e)()
                    }))
                }, e.prototype.printableObjectsDiff = function(e, t, i) {
                    var r = this;
                    void 0 === i && (i = "");
                    var o = function(e) {
                            return "" === e ? e = "''" : r.isUndefined(e) && (e = "undefined"), Object(l.toString)(e)
                        },
                        n = function(e, t, i) {
                            return Object(l.reduce)(e, (function(e, r, a) {
                                return Object(l.isEqual)(r, t[a]) || (Object(l.isArray)(t[a]) ? (r.length !== t[a].length && (e[a + ".length"] = "[" + r.length + "] => [" + t[a].length + "]"), e = Object(l.merge)(e, n(r, t[a], (i ? i + "." : "") + a))) : Object(l.isObject)(t[a]) ? e = Object(l.merge)(e, n(r, t[a], (i ? i + "." : "") + a)) : e[(i ? i + "." : "") + a] = o(r) + " => " + o(t[a])), e
                            }), {})
                        };
                    return n(e, t, i)
                }, e.prototype.setExternalId = function() {
                    var e = this;
                    try {
                        var t = this.getUUID();
                        this._setExternalId(t), this.setExternalIdTimeouts || (this.setExternalIdTimeouts = {});
                        for (var i = 1e3; i < 1e4; i += 1e3) this.setExternalIdTimeouts[i] && clearTimeout(this.setExternalIdTimeouts[i]), this.setExternalIdTimeouts[i] = setTimeout((function() {
                            return e._setExternalId(t)
                        }), i)
                    } catch (e) {
                        return console.error("Utils setExternalId - fail"), !1
                    }
                }, e.prototype._setExternalId = function(e) {
                    var t = this;
                    s.Settings.setExternalId(e, (function(i) {
                        t.isDev() && console.log("Utils setExternalId - success", e, i)
                    }), (function(t) {
                        console.error("Utils setExternalId - fail", e, t)
                    }))
                }, e.prototype.isWebpSupported = function() {
                    if (this.isTest()) return !1;
                    try {
                        var e = "object" == typeof document ? c.a.document.createElement("canvas") : {};
                        return e.width = e.height = 1, !!e.toDataURL && 5 === e.toDataURL("image/webp").indexOf("image/webp")
                    } catch (e) {
                        return !1
                    }
                }, e.prototype.getGalleryLayoutName = function(e) {
                    switch (e) {
                        case 0:
                            return "Collage";
                        case 1:
                            return "Masonry";
                        case 2:
                            return "Grid";
                        case 3:
                            return "Thumbnails";
                        case 4:
                            return "Slider";
                        case 5:
                            return "Slideshow";
                        case 6:
                            return "Strip";
                        case 7:
                            return "Columns";
                        case 8:
                            return "Magic";
                        case 10:
                            return "Bricks";
                        case 11:
                            return "Mix";
                        case 12:
                            return "Alternate";
                        default:
                            return ""
                    }
                }, e.prototype.shallowObjectsCompare = function(e, t) {
                    return Object.keys(e).length === Object.keys(t).length && Object.keys(e).every((function(i) {
                        return t.hasOwnProperty(i) && e[i] === t[i]
                    }))
                }, e.prototype.isSubset = function(e, t) {
                    return Object.keys(t).every((function(i) {
                        return t[i] === e[i]
                    }))
                }, e
            }(),
            p = new h
    }, function(e, t, i) {
        "use strict";
        t.a = {
            SITE: "SITE",
            EDIT: "EDIT",
            PREVIEW: "PREVIEW",
            SEO: "SEO"
        }
    }, function(e, t, i) {
        "use strict";
        var r = i(0),
            o = i(20),
            n = i(1),
            a = i(2),
            s = i(5),
            l = {
                groups: {
                    density: "layoutParams_groups_density",
                    groupByOrientation: "layoutParams_groups_groupByOrientation",
                    numberOfGroupsPerRow: "layoutParams_groups_numberOfGroupsPerRow",
                    allowedGroupTypes: "layoutParams_groups_allowedGroupTypes",
                    repeatingGroupTypes: "layoutParams_groups_repeatingGroupTypes",
                    groupSize: "layoutParams_groups_groupSize"
                },
                crop: {
                    method: "layoutParams_crop_method",
                    alignment: "layoutParams_crop_alignment",
                    enable: "layoutParams_crop_enable",
                    enableSmartCrop: "layoutParams_crop_enableSmartCrop",
                    cropOnlyFill: "layoutParams_crop_cropOnlyFill",
                    ratios: "layoutParams_crop_ratios"
                },
                structure: {
                    galleryLayout: "layoutParams_structure_galleryLayout",
                    enableStreching: "layoutParams_structure_enableStreching",
                    gallerySpacing: "layoutParams_structure_gallerySpacing",
                    itemSpacing: "layoutParams_structure_itemSpacing",
                    scrollDirection: "layoutParams_structure_scrollDirection",
                    numberOfColumns: "layoutParams_structure_numberOfColumns",
                    numberOfGridRows: "layoutParams_structure_numberOfGridRows",
                    responsiveMode: "layoutParams_structure_responsiveMode",
                    columnRatios: "layoutParams_structure_columnRatios",
                    scatter: {
                        randomScatter: "layoutParams_structure_scatter_randomScatter",
                        manualScatter: "layoutParams_structure_scatter_manualScatter"
                    },
                    layoutOrientation: "layoutParams_structure_layoutOrientation",
                    groupsOrder: "layoutParams_structure_groupsOrder"
                },
                thumbnails: {
                    enable: "layoutParams_thumbnails_enable",
                    spacing: "layoutParams_thumbnails_spacing",
                    size: "layoutParams_thumbnails_size",
                    alignment: "layoutParams_thumbnails_alignment"
                },
                navigationArrows: {
                    enable: "layoutParams_navigationArrows_enable",
                    size: "layoutParams_navigationArrows_size",
                    padding: "layoutParams_navigationArrows_padding",
                    position: "layoutParams_navigationArrows_position",
                    verticalAlignment: "layoutParams_navigationArrows_verticalAlignment"
                },
                info: {
                    sizeUnits: "layoutParams_info_sizeUnits",
                    width: "layoutParams_info_width",
                    height: "layoutParams_info_height",
                    spacing: "layoutParams_info_spacing",
                    layout: "layoutParams_info_layout",
                    border: {
                        width: "layoutParams_info_border_width",
                        color: "layoutParams_info_border_color",
                        radius: "layoutParams_info_border_radius"
                    },
                    placement: "layoutParams_info_placement"
                },
                targetItemSize: {
                    unit: "layoutParams_targetItemSize_unit",
                    value: "layoutParams_targetItemSize_value",
                    minimum: "layoutParams_targetItemSize_minimum"
                }
            },
            u = {
                item: {
                    clickAction: "behaviourParams_item_clickAction",
                    video: {
                        speed: "behaviourParams_item_video_speed",
                        volume: "behaviourParams_item_video_volume",
                        loop: "behaviourParams_item_video_loop",
                        playTrigger: "behaviourParams_item_video_playTrigger",
                        enablePlayButton: "behaviourParams_item_video_enablePlayButton",
                        enableControls: "behaviourParams_item_video_enableControls",
                        enablePlaceholder: "behaviourParams_item_video_enablePlaceholder"
                    },
                    overlay: {
                        hoveringBehaviour: "behaviourParams_item_overlay_hoveringBehaviour",
                        hoverAnimation: "behaviourParams_item_overlay_hoverAnimation",
                        position: "behaviourParams_item_overlay_position",
                        size: "behaviourParams_item_overlay_size",
                        sizeUnits: "behaviourParams_item_overlay_sizeUnits",
                        padding: "behaviourParams_item_overlay_padding"
                    },
                    content: {
                        hoverAnimation: "behaviourParams_item_content_hoverAnimation",
                        placementAnimation: "behaviourParams_item_content_placementAnimation",
                        loader: "behaviourParams_item_content_loader",
                        magnificationValue: "behaviourParams_item_content_magnificationValue"
                    }
                },
                gallery: {
                    layoutDirection: "behaviourParams_gallery_layoutDirection",
                    blockContextMenu: "behaviourParams_gallery_blockContextMenu",
                    scrollAnimation: "behaviourParams_gallery_scrollAnimation",
                    enableIndexingShareLinks: "behaviourParams_gallery_enableIndexingShareLinks",
                    vertical: {
                        loadMore: {
                            enable: "behaviourParams_gallery_vertical_loadMore_enable",
                            amount: "behaviourParams_gallery_vertical_loadMore_amount",
                            text: "behaviourParams_gallery_vertical_loadMore_text"
                        }
                    },
                    horizontal: {
                        enableScrollSnap: "behaviourParams_gallery_horizontal_enableScrollSnap",
                        slideAnimation: "behaviourParams_gallery_horizontal_slideAnimation",
                        slideTransition: "behaviourParams_gallery_horizontal_slideTransition",
                        blockScroll: "behaviourParams_gallery_horizontal_blockScroll",
                        navigationDuration: "behaviourParams_gallery_horizontal_navigationDuration",
                        loop: "behaviourParams_gallery_horizontal_loop",
                        autoSlide: {
                            behaviour: "behaviourParams_gallery_horizontal_autoSlide_behaviour",
                            interval: "behaviourParams_gallery_horizontal_autoSlide_interval",
                            pauseOnHover: "behaviourParams_gallery_horizontal_autoSlide_pauseOnHover",
                            speed: "behaviourParams_gallery_horizontal_autoSlide_speed"
                        },
                        slideshowInfo: {
                            buttonsAlignment: "behaviourParams_gallery_horizontal_slideshowInfo_buttonsAlignment",
                            enableCounter: "behaviourParams_gallery_horizontal_slideshowInfo_enableCounter",
                            enablePlayButton: "behaviourParams_gallery_horizontal_slideshowInfo_enablePlayButton"
                        }
                    }
                }
            },
            c = {
                arrowsColor: "stylingParams_arrowsColor",
                itemShadowBlur: "stylingParams_itemShadowBlur",
                itemShadowDirection: "stylingParams_itemShadowDirection",
                itemShadowOpacityAndColor: "stylingParams_itemShadowOpacityAndColor",
                itemShadowSize: "stylingParams_itemShadowSize",
                itemEnableShadow: "stylingParams_itemEnableShadow",
                itemBorderRadius: "stylingParams_itemBorderRadius",
                itemBorderWidth: "stylingParams_itemBorderWidth"
            },
            h = [
                ["galleryLayout", l.structure.galleryLayout],
                ["imageMargin", l.structure.itemSpacing],
                ["groupsPerStrip", l.groups.numberOfGroupsPerRow],
                ["cubeImages", l.crop.enable],
                ["smartCrop", l.crop.enableSmartCrop],
                ["cropOnlyFill", l.crop.cropOnlyFill],
                ["minItemSize", l.targetItemSize.minimum],
                ["scatter", l.structure.scatter.randomScatter],
                ["rotatingScatter", l.structure.scatter.manualScatter],
                ["numberOfImagesPerCol", l.structure.numberOfGridRows],
                ["collageDensity", l.groups.density],
                ["chooseBestGroup", l.groups.groupByOrientation],
                ["groupSize", l.groups.groupSize],
                ["hasThumbnails", l.thumbnails.enable],
                ["thumbnailSpacings", l.thumbnails.spacing],
                ["thumbnailSize", l.thumbnails.size],
                ["showArrows", l.navigationArrows.enable],
                ["arrowsPadding", l.navigationArrows.padding],
                ["arrowsVerticalPosition", l.navigationArrows.verticalAlignment],
                ["arrowsSize", l.navigationArrows.size],
                ["imageInfoType", l.info.layout],
                ["textImageSpace", l.info.spacing],
                ["textBoxBorderWidth", l.info.border.width],
                ["textBoxBorderColor", l.info.border.color],
                ["textBoxBorderRadius", l.info.border.radius]
            ],
            p = [
                ["useMaxDimensions", l.structure.enableStreching]
            ],
            d = [
                ["magnificationLevel", u.item.content.magnificationValue],
                ["videoLoop", u.item.video.loop],
                ["showVideoControls", u.item.video.enableControls],
                ["enableVideoPlaceholder", u.item.video.enablePlaceholder],
                ["overlayAnimation", u.item.overlay.hoverAnimation],
                ["overlayPosition", u.item.overlay.position],
                ["overlaySize", u.item.overlay.size],
                ["overlaySizeType", u.item.overlay.sizeUnits],
                ["overlayPadding", u.item.overlay.padding],
                ["imageHoverAnimation", u.item.content.hoverAnimation],
                ["imagePlacementAnimation", u.item.content.placementAnimation],
                ["imageLoadingMode", u.item.content.loader],
                ["scrollSnap", u.gallery.horizontal.enableScrollSnap],
                ["scrollAnimation", u.gallery.scrollAnimation],
                ["shouldIndexDirectShareLinkInSEO", u.gallery.enableIndexingShareLinks],
                ["loadMoreButtonText", u.gallery.vertical.loadMore.text],
                ["slideAnimation", u.gallery.horizontal.slideAnimation],
                ["slideTransition", u.gallery.horizontal.slideTransition],
                ["scrollDuration", u.gallery.horizontal.navigationDuration],
                ["slideshowLoop", u.gallery.horizontal.loop],
                ["autoSlideshowInterval", u.gallery.horizontal.autoSlide.interval],
                ["pauseAutoSlideshowOnHover", u.gallery.horizontal.autoSlide.pauseOnHover],
                ["autoSlideshowContinuousSpeed", u.gallery.horizontal.autoSlide.speed],
                ["allowSlideshowCounter", u.gallery.horizontal.slideshowInfo.enableCounter],
                ["playButtonForAutoSlideShow", u.gallery.horizontal.slideshowInfo.enablePlayButton]
            ],
            g = [
                ["enableInfiniteScroll", u.gallery.vertical.loadMore.enable],
                ["allowContextMenu", u.gallery.blockContextMenu],
                ["hidePlay", u.item.video.enablePlayButton],
                ["enableScroll", u.gallery.horizontal.blockScroll]
            ],
            m = [
                ["itemShadowBlur", c.itemShadowBlur],
                ["itemShadowDirection", c.itemShadowDirection],
                ["itemShadowOpacityAndColor", c.itemShadowOpacityAndColor],
                ["arrowsColor", c.arrowsColor],
                ["itemShadowSize", c.itemShadowSize],
                ["itemEnableShadow", c.itemEnableShadow],
                ["itemBorderRadius", c.itemBorderRadius],
                ["itemBorderWidth", c.itemBorderWidth]
            ];

        function f(e, t) {
            for (var i = Object(r.a)({}, e), o = 0, n = t; o < n.length; o++) {
                var a = n[o];
                i = S(i, a[0], a[1])
            }
            return i
        }

        function y(e, t) {
            for (var i = Object(r.a)({}, e), o = 0, n = t; o < n.length; o++) {
                var a = n[o];
                i = b(i, a[0], a[1])
            }
            return i
        }

        function S(e, t, i) {
            return void 0 === e[i] && void 0 !== e[t] && (e[i] = e[t]), delete e[t], e
        }

        function b(e, t, i) {
            return void 0 === e[i] && void 0 !== e[t] && (e[i] = !e[t]), delete e[t], e
        }

        function v(e) {
            var t, i, o, n, c, b = (n = e, c = f(c = Object(r.a)({}, n), Object(r.d)(h).map((function(e) {
                return Object(r.d)(e).reverse()
            }))), c = f(c = function(e) {
                var t = e;
                switch ((t = S(t, l.navigationArrows.position, "arrowsPosition")).arrowsPosition) {
                    case "ON_GALLERY":
                        t.arrowsPosition = 0;
                        break;
                    case "OUTSIDE_GALLERY":
                        t.arrowsPosition = 1
                }
                return t
            }(c = function(e) {
                var t, i, r = e;
                return Object(s.b)("SLIDESHOW")({
                    galleryLayout: e.galleryLayout >= -3 ? e.galleryLayout : null === (i = null === (t = e.layoutParams) || void 0 === t ? void 0 : t.structure) || void 0 === i ? void 0 : i.galleryLayout
                }) ? (r = S(r, l.info.height, "slideshowInfoSize")).textBoxHeight = r.slideshowInfoSize : (r = S(r, l.info.height, "textBoxHeight")).slideshowInfoSize = r.textBoxHeight, r
            }(c = function(e) {
                var t = e;
                return t.layoutParams_gallerySpacing = t.galleryMargin = t.layoutParams_structure_gallerySpacing, delete t.layoutParams_structure_gallerySpacing, t
            }(c = function(e) {
                var t = e;
                return t.groupTypes = t[l.groups.allowedGroupTypes] ? t[l.groups.allowedGroupTypes].join ? t[l.groups.allowedGroupTypes].join(",") : "" : void 0, delete t[l.groups.allowedGroupTypes], t
            }(c = function(e) {
                var t = e,
                    i = t[l.groups.repeatingGroupTypes] && t[l.groups.repeatingGroupTypes].join(",");
                return t.layoutParams_repeatingGroupTypes = t.rotatingGroupTypes = i, delete t[l.groups.repeatingGroupTypes], t
            }(c = function(e) {
                var t, i = e;
                return (i = S(i, l.crop.method, "cubeType")).cubeType = null === (t = i.cubeType) || void 0 === t ? void 0 : t.toLowerCase(), i
            }(c = function(e) {
                var t = e;
                return (t = S(t, l.structure.columnRatios, "columnWidths")).columnWidths = t.columnWidths ? t.columnWidths.join ? t.columnWidths.join(",") : "" : void 0, t
            }(c = function(e) {
                var t = e;
                switch ((t = S(t, l.info.sizeUnits, "calculateTextBoxWidthMode")).calculateTextBoxWidthMode) {
                    case "PERCENT":
                        t.calculateTextBoxWidthMode = "PERCENT", (t = S(t, l.info.width, "textBoxWidthPercent")).textBoxWidth = t.textBoxWidth || 200;
                        break;
                    case "PIXEL":
                        t.calculateTextBoxWidthMode = "MANUAL", (t = S(t, l.info.width, "textBoxWidth")).textBoxWidthPercent = t.textBoxWidthPercent || 50
                }
                return t
            }(c = function(e) {
                var t, i = e,
                    o = i[l.crop.ratios] && Object(r.d)(i[l.crop.ratios]),
                    n = o || [];
                return t = n.length > 1 ? n.slice(0).join(",") : 0 === (null == o ? void 0 : o.length) ? "" : void 0, i.layoutParams_cropRatio = i.cubeRatio = n[0], i.rotatingCropRatios = t, delete i[l.crop.ratios], i
            }(c = function(e) {
                var t = e;
                switch ((t = S(t, l.crop.alignment, "cubeFitPosition")).cubeFitPosition) {
                    case "CENTER":
                        t.cubeFitPosition = "MIDDLE"
                }
                return t
            }(c = function(e) {
                var t = e,
                    i = t[l.targetItemSize.value],
                    r = t.gallerySizeType;
                return t.gallerySize = t.gallerySizePx = t.gallerySizeRatio = void 0, t[{
                    smart: "gallerySize",
                    px: "gallerySizePx",
                    ratio: "gallerySizeRatio"
                }[r]] = i, delete t[l.targetItemSize.value], t
            }(c = function(e) {
                var t = e;
                switch ((t = S(t, l.targetItemSize.unit, "gallerySizeType")).gallerySizeType) {
                    case "PIXEL":
                        t.gallerySizeType = "px";
                        break;
                    case "PERCENT":
                        t.gallerySizeType = "ratio";
                        break;
                    case "SMART":
                        t.gallerySizeType = "smart"
                }
                return t
            }(c = function(e) {
                var t = e;
                return t.fixedColumns = t.fixedColumns || void 0, t.numberOfImagesPerRow = t[l.structure.numberOfColumns], delete t[l.structure.numberOfColumns], t
            }(c = function(e) {
                var t = e;
                switch ((t = S(t, l.structure.responsiveMode, "gridStyle")).gridStyle) {
                    case "FIT_TO_SCREEN":
                        t.gridStyle = 0;
                        break;
                    case "SET_ITEMS_PER_ROW":
                        t.gridStyle = 1
                }
                return t
            }(c = function(e) {
                var t = e;
                switch ((t = S(t, l.structure.groupsOrder, "placeGroupsLtr")).placeGroupsLtr) {
                    case "LEFT_TO_RIGHT":
                        t.placeGroupsLtr = !0;
                        break;
                    case "RIGHT_TO_LEFT":
                    case "BY_HEIGHT":
                        t.placeGroupsLtr = !1;
                        break;
                    default:
                        t.placeGroupsLtr = void 0
                }
                return t
            }(c = function(e) {
                var t = e;
                switch ((t = S(t, l.structure.layoutOrientation, "isVertical")).isVertical) {
                    case "VERTICAL":
                        t.isVertical = !0;
                        break;
                    case "HORIZONTAL":
                        t.isVertical = !1
                }
                return t
            }(c = function(e) {
                var t = e;
                switch ((t = S(t, l.structure.scrollDirection, "scrollDirection")).scrollDirection) {
                    case "VERTICAL":
                        t.scrollDirection = 0;
                        break;
                    case "HORIZONTAL":
                        t.scrollDirection = 1
                }
                return t
            }((t = c = y(c, Object(r.d)(p).map((function(e) {
                return Object(r.d)(e).reverse()
            }))), (o = S(o = t, l.thumbnails.alignment, "galleryThumbnailsAlignment")).galleryThumbnailsAlignment = null === (i = o.galleryThumbnailsAlignment) || void 0 === i ? void 0 : i.toLowerCase(), c = o)))))))))))))))))), Object(r.d)(d).map((function(e) {
                return Object(r.d)(e).reverse()
            }))), c = f(c = function(e) {
                var t, i = e;
                return (i = S(i, u.gallery.horizontal.slideshowInfo.buttonsAlignment, "galleryTextAlign")).galleryTextAlign = null === (t = i.galleryTextAlign) || void 0 === t ? void 0 : t.toLowerCase(), i
            }(c = function(e) {
                var t = e;
                switch (t[u.gallery.horizontal.autoSlide.behaviour]) {
                    case "OFF":
                        t.isAutoSlideshow = !1, t.autoSlideshowType = "interval";
                        break;
                    case "INTERVAL":
                        t.isAutoSlideshow = !0, t.autoSlideshowType = "interval";
                        break;
                    case "CONTINUOUS":
                        t.isAutoSlideshow = !0, t.autoSlideshowType = "continuous"
                }
                return delete t[u.gallery.horizontal.autoSlide.behaviour], t
            }(c = function(e) {
                var t, i = e;
                return (i = S(i, u.gallery.vertical.loadMore.amount, "loadMoreAmount")).loadMoreAmount = null === (t = i.loadMoreAmount) || void 0 === t ? void 0 : t.toLowerCase(), i
            }(c = function(e) {
                var t = e;
                switch ((t = S(t, u.gallery.layoutDirection, "isRTL")).isRTL) {
                    case "RIGHT_TO_LEFT":
                        t.isRTL = !0;
                        break;
                    case "LEFT_TO_RIGHT":
                        t.isRTL = !1
                }
                return t
            }(c = function(e) {
                var t = e;
                switch ((t = S(t, l.info.placement, "titlePlacement")).titlePlacement) {
                    case "OVERLAY":
                        t.titlePlacement = "SHOW_ON_HOVER";
                        break;
                    case "BELOW":
                        t.titlePlacement = "SHOW_BELOW";
                        break;
                    case "ABOVE":
                        t.titlePlacement = "SHOW_ABOVE";
                        break;
                    case "RIGHT":
                        t.titlePlacement = "SHOW_ON_THE_RIGHT";
                        break;
                    case "LEFT":
                        t.titlePlacement = "SHOW_ON_THE_LEFT";
                        break;
                    case "ALTERNATE_HORIZONTALLY":
                        t.titlePlacement = "ALTERNATE_HORIZONTAL";
                        break;
                    case "ALTERNATE_VERTICALLY":
                        t.titlePlacement = "ALTERNATE_VERTICAL"
                }
                return t
            }(c = function(e) {
                var t = e;
                switch ((t = S(t, u.item.overlay.hoveringBehaviour, "hoveringBehaviour")).hoveringBehaviour) {
                    case "ALWAYS_VISIBLE":
                        t.hoveringBehaviour = "NO_CHANGE";
                        break;
                    case "NEVER_VISIBLE":
                        t.hoveringBehaviour = "NEVER_SHOW"
                }
                return t
            }(c = function(e) {
                var t = e;
                return (t = S(t, u.item.video.speed, "videoSpeed")).videoSpeed = t.videoSpeed >= 0 ? String(t.videoSpeed) : void 0, t
            }(c = function(e) {
                var t = e;
                return (t = S(t, u.item.video.volume, "videoSound")).videoSound = void 0 === t.videoSound ? void 0 : !!t.videoSound, t
            }(c = function(e) {
                var t, i = e;
                return (i = S(i, u.item.video.playTrigger, "videoPlay")).videoPlay = null === (t = i.videoPlay) || void 0 === t ? void 0 : t.toLowerCase(), i
            }(c = function(e) {
                var t, i = e;
                switch ((i = S(i, u.item.clickAction, "itemClick")).itemClick = null === (t = i.itemClick) || void 0 === t ? void 0 : t.toLowerCase(), i.itemClick) {
                    case "action":
                        i.itemClick = "expand"
                }
                return i
            }(c = y(c, Object(r.d)(g).map((function(e) {
                return Object(r.d)(e).reverse()
            }))))))))))))), Object(r.d)(m).map((function(e) {
                return Object(r.d)(e).reverse()
            }))));
            return Object(r.a)(Object(r.a)({}, Object(a.e)(b)), Object(a.e)(e))
        }

        function _(e) {
            var t = v(function(e) {
                var t = (b = e, v = Object(r.a)({}, b), v = f(v, h), v = f(v = function(e) {
                        var t = e;
                        switch ((t = S(t, "arrowsPosition", l.navigationArrows.position))[l.navigationArrows.position]) {
                            case 0:
                                t[l.navigationArrows.position] = "ON_GALLERY";
                                break;
                            case 1:
                                t[l.navigationArrows.position] = "OUTSIDE_GALLERY"
                        }
                        return t
                    }(v = function(e) {
                        var t = e;
                        return delete(t = Object(s.b)("SLIDESHOW")({
                            galleryLayout: e.galleryLayout >= -3 ? e.galleryLayout : e[l.structure.galleryLayout]
                        }) ? S(t, "slideshowInfoSize", l.info.height) : S(t, "textBoxHeight", l.info.height)).slideshowInfoSize, delete t.textBoxHeight, t
                    }(v = function(e) {
                        if (void 0 !== e[l.structure.gallerySpacing]) return e;
                        var t, i = e;
                        return i["layoutParams.gallerySpacing"] >= 0 ? t = i["layoutParams.gallerySpacing"] : i.galleryMargin >= 0 && (t = i.galleryMargin), i[l.structure.gallerySpacing] = t, delete i.layoutParams_gallerySpacing, delete i.galleryMargin, i
                    }(v = function(e) {
                        var t = e;
                        switch ((t = S(t, "gridStyle", l.structure.responsiveMode))[l.structure.responsiveMode]) {
                            case 0:
                                t[l.structure.responsiveMode] = "FIT_TO_SCREEN";
                                break;
                            case 1:
                                t[l.structure.responsiveMode] = "SET_ITEMS_PER_ROW"
                        }
                        return t
                    }(v = function(e) {
                        var t, i = e;
                        return (i = S(i, "cubeType", l.crop.method))[l.crop.method] = null === (t = i[l.crop.method]) || void 0 === t ? void 0 : t.toUpperCase(), i
                    }(v = function(e) {
                        var t, i, o, n = e;
                        return n = S(n, "columnWidths", l.structure.columnRatios), 0 === (null === (t = n[l.structure.columnRatios]) || void 0 === t ? void 0 : t.length) ? n[l.structure.columnRatios] = [] : n[l.structure.columnRatios] = n[l.structure.columnRatios] ? (null === (i = n[l.structure.columnRatios]) || void 0 === i ? void 0 : i.split) ? Object(r.d)(null === (o = n[l.structure.columnRatios]) || void 0 === o ? void 0 : o.split(",").map(Number)) : n[l.structure.columnRatios] : void 0, n
                    }(v = function(e) {
                        var t = e;
                        switch ((t = S(t, "calculateTextBoxWidthMode", l.info.sizeUnits))[l.info.sizeUnits]) {
                            case "PERCENT":
                                t[l.info.sizeUnits] = "PERCENT", delete(t = S(t, "textBoxWidthPercent", l.info.width)).textBoxWidth;
                                break;
                            case "MANUAL":
                                t[l.info.sizeUnits] = "PIXEL", delete(t = S(t, "textBoxWidth", l.info.width)).textBoxWidthPercent
                        }
                        return t
                    }(v = function(e) {
                        if (void 0 !== e[l.crop.ratios]) return e;
                        var t, i = e,
                            r = i.rotatingCropRatios,
                            o = i.cubeRatio || i.layoutParams_cropRatio;
                        return t = "string" == typeof r && "" !== r ? r : o, i[l.crop.ratios] = t && String(t).split(",").map((function(e) {
                            return Number(e) >= 0 ? Number(e) : e
                        })), delete i.cubeRatio, delete i.layoutParams_cropRatio, delete i.rotatingCropRatios, i
                    }(v = function(e) {
                        var t = e;
                        switch ((t = S(t, "cubeFitPosition", l.crop.alignment))[l.crop.alignment]) {
                            case "MIDDLE":
                                t[l.crop.alignment] = "CENTER"
                        }
                        return t
                    }(v = function(e) {
                        var t, i = e;
                        switch (i[l.targetItemSize.unit]) {
                            case "PIXEL":
                                t = "gallerySizePx";
                                break;
                            case "SMART":
                                t = "gallerySize";
                                break;
                            case "PERCENT":
                                t = "gallerySizeRatio"
                        }
                        return delete(i = S(i, t, l.targetItemSize.value)).gallerySizePx, delete i.gallerySizeRatio, delete i.gallerySize, i
                    }(v = function(e) {
                        var t = e;
                        switch ((t = S(t, "gallerySizeType", l.targetItemSize.unit))[l.targetItemSize.unit]) {
                            case "px":
                                t[l.targetItemSize.unit] = "PIXEL";
                                break;
                            case "ratio":
                                t[l.targetItemSize.unit] = "PERCENT";
                                break;
                            case "smart":
                                t[l.targetItemSize.unit] = "SMART"
                        }
                        return t
                    }(v = function(e) {
                        if (void 0 !== e[l.structure.numberOfColumns]) return e;
                        var t = e,
                            i = e.fixedColumns,
                            r = e.numberOfImagesPerRow,
                            o = r >= 0 ? r : i >= 0 ? i : void 0;
                        return t[l.structure.numberOfColumns] = o, delete t.fixedColumns, delete t.numberOfImagesPerRow, t
                    }(v = function(e) {
                        var t;
                        if (void 0 !== e[l.groups.allowedGroupTypes]) return e;
                        var i = e;
                        return i[l.groups.allowedGroupTypes] = (null === (t = i.groupTypes) || void 0 === t ? void 0 : t.split) ? i.groupTypes.split(",") : i.groupTypes ? i.groupTypes : void 0, delete i.groupTypes, i
                    }(v = function(e) {
                        if (void 0 !== e[l.groups.repeatingGroupTypes]) return e;
                        var t, i = e,
                            r = i.rotatingGroupTypes || i.layoutParams_repeatingGroupTypes;
                        return t = "string" == typeof r && "" !== r ? r.split(",") : "string" == typeof r && "" === r ? [] : void 0, i[l.groups.repeatingGroupTypes] = t, delete i.layoutParams_repeatingGroupTypes, delete i.rotatingGroupTypes, i
                    }(v = function(e) {
                        var t = e;
                        switch ((t = S(t, "placeGroupsLtr", l.structure.groupsOrder))[l.structure.groupsOrder]) {
                            case !0:
                                t[l.structure.groupsOrder] = "LEFT_TO_RIGHT";
                                break;
                            case !1:
                                t[l.structure.groupsOrder] = "BY_HEIGHT"
                        }
                        return t
                    }(v = function(e) {
                        var t = e;
                        switch ((t = S(t, "isVertical", l.structure.layoutOrientation))[l.structure.layoutOrientation]) {
                            case !0:
                                t[l.structure.layoutOrientation] = "VERTICAL";
                                break;
                            case !1:
                                t[l.structure.layoutOrientation] = "HORIZONTAL"
                        }
                        return t
                    }(v = function(e) {
                        var t = e;
                        switch ((t = S(t, "scrollDirection", l.structure.scrollDirection))[l.structure.scrollDirection]) {
                            case 0:
                                t[l.structure.scrollDirection] = "VERTICAL";
                                break;
                            case 1:
                                t[l.structure.scrollDirection] = "HORIZONTAL"
                        }
                        return t
                    }((o = v = y(v, p), c = o, (c = S(c, "galleryThumbnailsAlignment", l.thumbnails.alignment))[l.thumbnails.alignment] = null === (n = c[l.thumbnails.alignment]) || void 0 === n ? void 0 : n.toUpperCase(), v = c)))))))))))))))))), d), delete(v = f(v = function(e) {
                        var t, i = e;
                        return (i = S(i, "galleryTextAlign", u.gallery.horizontal.slideshowInfo.buttonsAlignment))[u.gallery.horizontal.slideshowInfo.buttonsAlignment] = null === (t = i[u.gallery.horizontal.slideshowInfo.buttonsAlignment]) || void 0 === t ? void 0 : t.toUpperCase(), i
                    }(v = function(e) {
                        if (void 0 !== e[u.gallery.horizontal.autoSlide.behaviour]) return e;
                        var t, i = e,
                            r = i.isAutoSlideshow,
                            o = i.autoSlideshowType;
                        return t = void 0 === r ? void 0 : r ? "interval" === o ? "INTERVAL" : "CONTINUOUS" : "OFF", i[u.gallery.horizontal.autoSlide.behaviour] = t, delete i.isAutoSlideshow, delete i.autoSlideshowType, i
                    }(v = function(e) {
                        var t, i = e;
                        return (i = S(i, "loadMoreAmount", u.gallery.vertical.loadMore.amount))[u.gallery.vertical.loadMore.amount] = null === (t = i[u.gallery.vertical.loadMore.amount]) || void 0 === t ? void 0 : t.toUpperCase(), i
                    }(v = function(e) {
                        var t = e;
                        switch ((t = S(t, "isRTL", u.gallery.layoutDirection))[u.gallery.layoutDirection]) {
                            case !0:
                                t[u.gallery.layoutDirection] = "RIGHT_TO_LEFT";
                                break;
                            case !1:
                                t[u.gallery.layoutDirection] = "LEFT_TO_RIGHT"
                        }
                        return t
                    }(v = function(e) {
                        var t = e;
                        switch ((t = S(t, "titlePlacement", l.info.placement))[l.info.placement]) {
                            case "SHOW_ON_HOVER":
                                t[l.info.placement] = "OVERLAY";
                                break;
                            case "SHOW_BELOW":
                                t[l.info.placement] = "BELOW";
                                break;
                            case "SHOW_ABOVE":
                                t[l.info.placement] = "ABOVE";
                                break;
                            case "SHOW_ON_THE_RIGHT":
                                t[l.info.placement] = "RIGHT";
                                break;
                            case "SHOW_ON_THE_LEFT":
                                t[l.info.placement] = "LEFT";
                                break;
                            case "ALTERNATE_HORIZONTAL":
                                t[l.info.placement] = "ALTERNATE_HORIZONTALLY";
                                break;
                            case "ALTERNATE_VERTICAL":
                                t[l.info.placement] = "ALTERNATE_VERTICALLY"
                        }
                        return t
                    }(v = function(e) {
                        var t = e;
                        switch ((t = S(t, "hoveringBehaviour", u.item.overlay.hoveringBehaviour))[u.item.overlay.hoveringBehaviour]) {
                            case "NO_CHANGE":
                                t[u.item.overlay.hoveringBehaviour] = "ALWAYS_VISIBLE";
                                break;
                            case "NEVER_SHOW":
                                t[u.item.overlay.hoveringBehaviour] = "NEVER_VISIBLE"
                        }
                        return t
                    }(v = function(e) {
                        var t = e;
                        return (t = S(t, "videoSpeed", u.item.video.speed))[u.item.video.speed] = Number(t[u.item.video.speed]) >= 0 ? Number(t[u.item.video.speed]) : void 0, t
                    }(v = function(e) {
                        var t = e;
                        return void 0 !== (t = S(t, "videoSound", u.item.video.volume))[u.item.video.volume] && (t[u.item.video.volume] = Number(t[u.item.video.volume])), t
                    }(v = function(e) {
                        var t, i = e;
                        return (i = S(i, "videoPlay", u.item.video.playTrigger))[u.item.video.playTrigger] = null === (t = i[u.item.video.playTrigger]) || void 0 === t ? void 0 : t.toUpperCase(), i
                    }(v = function(e) {
                        var t, i = e;
                        switch ((i = S(i, "itemClick", u.item.clickAction))[u.item.clickAction] = null === (t = i[u.item.clickAction]) || void 0 === t ? void 0 : t.toUpperCase(), i[u.item.clickAction]) {
                            case "FULLSCREEN":
                            case "EXPAND":
                                i[u.item.clickAction] = "ACTION"
                        }
                        return i
                    }(v = y(v, g))))))))))), m)).enableLeanGallery, delete v.fullscreen, delete v.magicLayoutSeed, v),
                    i = Object(r.a)(Object(r.a)({}, Object(a.e)(t)), Object(a.e)(e));
                var o, n, c;
                var b, v;
                return delete i.oldRefactoredOptionInCore, i
            }(Object(a.c)(e)));
            return Object(a.b)(t)
        }
        var O = new(function() {
                function e() {
                    this._hash2int = {}
                }
                return e.prototype.stripSlashes = function(e) {
                    var t = "";
                    return "string" == typeof e && (t = e.replace(/\\\//g, "/").replace(/\\'/g, "'").replace(/\\"/g, '"').replace(/\\0/g, "\0").replace(/\\\\/g, "\\")), t
                }, e.prototype.parseStringObject = function(e) {
                    if ("string" != typeof e) return e;
                    var t = this.stripSlashes(e);
                    if ("string" == typeof e && /^[\],:{}\s]*$/.test(t.replace(/\\["\\\/bfnrtu]/g, "@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, ""))) try {
                        return JSON.parse(t)
                    } catch (e) {}
                    return t
                }, e.prototype.hashToInt = function(e, t, i) {
                    var r = 0;
                    if (void 0 === e || 0 === e.length) return r;
                    if (!this._hash2int[e]) {
                        for (var o = 0; o < e.length; o++) r += e.charCodeAt(o);
                        this._hash2int[e] = r
                    }
                    return void 0 === t || void 0 === i ? this._hash2int[e] : this._hash2int[e] % (i - t + 1) + t
                }, e.prototype.hashToRandomInt = function(e, t, i) {
                    return void 0 === t && (t = 0), void 0 === i && (i = 1e5), void 0 === e || 0 === e.length ? 0 : (t = Math.round(t), i = Math.round(i), e += e.length + t + i, this._hash2int[e] || (this._hash2int[e] = Math.round(Math.random() * (i - t) + t)), this._hash2int[e])
                }, e.prototype.addDefaultStyleParams = function(e) {
                    var t, i, r, o, n = {
                            layoutParams: {
                                gallerySpacing: 0,
                                cropRatio: 1,
                                repeatingGroupTypes: ""
                            },
                            cubeImages: !1,
                            cubeType: "fill",
                            rotatingCropRatios: "",
                            smartCrop: !1,
                            imageMargin: 10,
                            scatter: 0,
                            rotatingScatter: "",
                            chooseBestGroup: !0,
                            groupSize: 3,
                            groupTypes: "1,2h,2v,3h,3v,3t,3b,3l,3r",
                            isVertical: !0,
                            minItemSize: 120,
                            scrollDirection: 0,
                            targetItemSize: 500,
                            collageDensity: 50,
                            fixedColumns: 0,
                            columnWidths: ""
                        },
                        s = _(e);
                    return _((t = s, i = Object(a.c)(n), r = Object(a.c)(t), o = Object.assign({}, i, r), Object.keys(o).forEach((function(e) {
                        void 0 === o[e] && (o[e] = n[e])
                    })), Object(a.b)(o)))
                }, e.prototype.convertContainer = function(e, t) {
                    var i = Object(r.a)({
                        bounds: {}
                    }, e);
                    return e.width >= 0 && !(e.galleryWidth >= 0) && (i.galleryWidth = e.width + 2 * ((t.imageMargin / 2 || 0) - (t.layoutParams.gallerySpacing || 0)), delete i.width), e.height >= 0 && !(e.galleryHeight >= 0) && (i.galleryHeight = e.height + ((t.imageMargin / 2 || 0) - (t.layoutParams.gallerySpacing || 0)), delete i.height), t.externalInfoHeight >= 0 && 1 === t.scrollDirection && (i.galleryHeight -= t.externalInfoHeight), i
                }, e
            }()),
            I = function() {
                function e(e) {
                    if (this.style = {}, this.visibility = {}, (e = e || {}).dto || (console.error("Item has no DTO", e), e.dto = {}), this.config = e, this.dto = e.dto, this.idx = e.idx, this.inGroupIdx = e.inGroupIdx, this.container = e.container, this.cubeType = "fill", e.styleParams) {
                        var t = e.styleParams;
                        this.cubeType = t.cubeType, this.cubeImages = t.cubeImages, this._cropRatio = t.layoutParams.cropRatio, this.rotatingCropRatios = t.rotatingCropRatios, this.smartCrop = t.smartCrop, this.cropOnlyFill = t.cropOnlyFill, this.imageMargin = t.imageMargin, this.gallerySpacing = t.layoutParams.gallerySpacing, this.scatter = t.scatter, this.rotatingScatter = t.rotatingScatter, this.smartCrop = t.smartCrop, this.useMaxDimensions = t.useMaxDimensions && "text" !== this.itemType, this.cubeFitPosition = t.cubeFitPosition
                    }
                    this._groupOffset = {
                        top: 0,
                        left: 0,
                        right: 0,
                        bottom: 0
                    }, this._group = {}, this.calcPinOffset = function() {
                        return 0
                    }, this.resize(1)
                }
                return e.prototype.fixMetadataVerticalVideoRatio = function(e) {
                    if (e.qualities && e.qualities[0]) {
                        var t = e.qualities,
                            i = t[t.length - 1],
                            r = i.height,
                            o = i.width;
                        e.height = r, e.width = o
                    }
                }, e.prototype.resize = function(e) {
                    var t = 1;
                    if (!1 !== e) {
                        if (e > 0) t = e;
                        else if ("object" == typeof e) {
                            if (e.width) t = Math.max(1, e.width) / this.width;
                            else if (e.height) {
                                t = Math.max(1, e.height) / this.height
                            }
                        }
                        return this.width *= t, this.height *= t, this.resized = !0, this
                    }
                }, e.prototype.pinToCorner = function(e, t) {
                    var i = this;
                    void 0 === t && (t = !1);
                    var r = e.indexOf("top") >= 0,
                        o = e.indexOf("left") >= 0;
                    this.style.top = r ? 0 : "auto", this.style.bottom = r ? "auto" : 0, this.style.left = o ? 0 : "auto", this.style.right = o ? "auto" : 0, this.pin = e, this.isPinnedTop = r, this.isPinnedLeft = o, this.pinAfter = t, this.pinAfterType = r ? "top" : o ? "left" : "", this.calcPinOffset = function(e, t) {
                        if (i.pinAfter) {
                            if (i.pin === t) {
                                var r = i.imageMargin / 2;
                                return "top" === t ? i.pinAfter.height + 2 * r : "left" === t ? i.pinAfter.width + 2 * r : 0
                            }
                            return 0
                        }
                        return 0
                    }
                }, e.prototype.setPosition = function(e) {
                    this.style.position = e
                }, e.prototype.getPosition = function(e) {
                    return parseInt(e, 10) >= 0 ? e : "auto"
                }, e.prototype.calcScatter = function(e) {
                    var t = this.imageMargin / 2,
                        i = this.gallerySpacing,
                        r = e.left > 0 ? t : i,
                        o = this.container.galleryWidth - e.right > 2 * t ? t : i,
                        n = e.top > 0 ? t : i,
                        a = this.container.galleryHeight - e.bottom > 2 * t ? t : i;
                    if (!(this.rotatingScatter.length > 0)) {
                        if (this.scatter > 0) {
                            var s = this.scatter / 100 * .4;
                            l = O.hashToRandomInt(this.seed + e.right + "x", -r, o);
                            l *= this.scatter / 100, l *= 1 - s, l += (l > 0 ? s * o : s * r) * Math.sign(l), l = Math.round(l);
                            u = O.hashToRandomInt(this.seed + e.right + "y", -n, a);
                            return u *= this.scatter / 100, u *= 1 - s, u += (u > 0 ? s * a : s * n) * Math.sign(u), {
                                x: l,
                                y: u = Math.round(u)
                            }
                        }
                        return {
                            x: 0,
                            y: 0
                        }
                    }
                    try {
                        var l, u, c = this.rotatingScatter.split(","),
                            h = c[this.idx % c.length].split("/").map((function(e) {
                                return parseInt(e)
                            })).map((function(e) {
                                return e / 100
                            })),
                            p = h[0],
                            d = h[1];
                        return {
                            x: l = p * (p > 0 ? o : r),
                            y: u = d * (d > 0 ? a : n)
                        }
                    } catch (e) {
                        console.error("Cannot calculate rotating scatter", e)
                    }
                }, Object.defineProperty(e.prototype, "top", {
                    get: function() {
                        return this.getPosition(this.style.top)
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "left", {
                    get: function() {
                        return this.getPosition(this.style.left)
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "right", {
                    get: function() {
                        return this.getPosition(this.style.right)
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "bottom", {
                    get: function() {
                        return this.getPosition(this.style.bottom)
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "group", {
                    get: function() {
                        return this._group
                    },
                    set: function(e) {
                        Object.assign(this._group, e)
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "groupOffset", {
                    set: function(e) {
                        Object.assign(this._groupOffset, e)
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "offset", {
                    get: function() {
                        var e, t = {
                                top: this._groupOffset.top + (this.isPinnedTop ? this.calcPinOffset(this._group.height, "top") : this._group.height - this.outerHeight) || 0,
                                left: this._groupOffset.left + (this.isPinnedLeft ? this.calcPinOffset(this._group.width, "left") : this._group.width - this.outerWidth) || 0
                            },
                            i = this.dimensions,
                            r = i.fixTop,
                            o = void 0 === r ? 0 : r,
                            n = i.fixLeft,
                            a = void 0 === n ? 0 : n,
                            s = i.fixRight,
                            l = void 0 === s ? 0 : s,
                            u = i.fixBottom,
                            c = void 0 === u ? 0 : u;
                        if (t.innerTop = o, t.innerLeft = a, t.innerRight = l, t.innerBottom = c, t.right = t.left + this.width, t.bottom = t.top + this.height, this.scatter > 0 || (null === (e = this.rotatingScatter) || void 0 === e ? void 0 : e.length) > 0) {
                            var h = this.calcScatter(t),
                                p = h.x,
                                d = h.y;
                            t.left += p, t.top += d, t.right = t.left + this.width, t.bottom = t.top + this.height
                        }
                        return t
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "id", {
                    get: function() {
                        return this.dto.id || this.dto.photoId || this.dto.itemId
                    },
                    set: function(e) {
                        this.dto.itemId = this.dto.photoId = this.dto.id = e
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "hash", {
                    get: function() {
                        return this.dto.hash || this.dto.mediaUrl || this.dto.id
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "seed", {
                    get: function() {
                        return this.dto.seed || O.hashToInt(this.hash)
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "metadata", {
                    get: function() {
                        return this.dto.metadata || this.dto.metaData || {}
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "itemType", {
                    get: function() {
                        return this.metadata.type || "image"
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "maxWidth", {
                    get: function() {
                        return this.dto.width || this.dto.w
                    },
                    set: function(e) {
                        this.dto.width = e
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "outerWidth", {
                    get: function() {
                        return this.width + 2 * this.margins
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "infoWidth", {
                    get: function() {
                        return this.Group ? this.Group.infoWidth : 0
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "orgWidth", {
                    get: function() {
                        return this.style.orgWidth || this.dto.width || this.dto.w || 1
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "width", {
                    get: function() {
                        var e;
                        return e = this.cubeImages && this.ratio >= this.cropRatio ? this.style.cubedWidth || this.orgHeight * this.cropRatio : this.orgWidth, Math.max(e, 1)
                    },
                    set: function(e) {
                        this.style.cubedWidth = this.style.orgWidth = this.style.width = Math.max(1, e);
                        var t = this.dimensions,
                            i = t.fixLeft,
                            r = void 0 === i ? 0 : i,
                            o = t.fixRight,
                            n = void 0 === o ? 0 : o;
                        this.style.innerWidth = this.style.width - r - n
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "outerHeight", {
                    get: function() {
                        return this.height + 2 * this.margins
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "orgHeight", {
                    get: function() {
                        return this.style.orgHeight || this.dto.height || this.dto.h || 1
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "height", {
                    get: function() {
                        var e;
                        return e = this.cubeImages && this.ratio < this.cropRatio ? this.style.cubedHeight || this.orgWidth / this.cropRatio : this.orgHeight, Math.max(e, 1)
                    },
                    set: function(e) {
                        this.style.cubedHeight = this.style.orgHeight = this.style.height = Math.max(1, e);
                        var t = this.dimensions,
                            i = t.fixTop,
                            r = void 0 === i ? 0 : i,
                            o = t.fixBottom,
                            n = void 0 === o ? 0 : o;
                        this.style.innerHeight = this.style.height - n - r
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "maxHeight", {
                    get: function() {
                        return this.dto.height || this.dto.h
                    },
                    set: function(e) {
                        this.dto.height
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "infoHeight", {
                    get: function() {
                        return this.Group ? this.Group.infoHeight : 0
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "margins", {
                    get: function() {
                        return this.imageMargin / 2 || 0
                    },
                    set: function(e) {
                        this.imageMargin = e
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "dimensions", {
                    get: function() {
                        var e = this,
                            t = this.cubeImages && "fit" === this.cubeType,
                            i = this.width,
                            r = this.height,
                            o = function(t, o) {
                                t ? (i = e.useMaxDimensions ? Math.min(e.width, e.maxWidth) : e.width, r = i / o) : (r = e.useMaxDimensions ? Math.min(e.height, e.maxHeight) : e.height, i = r * o)
                            },
                            n = this.ratio >= this.cropRatio;
                        t ? o(n, this.ratio) : this.useMaxDimensions && (this.width > this.maxWidth || this.height > this.maxHeight) && (this.cubeImages ? o(!n, this.cropRatio) : o(!n, this.ratio));
                        var a = {
                            fixTop: (this.height - r) / 2,
                            fixLeft: (this.width - i) / 2,
                            fixRight: (this.width - i) / 2,
                            fixBottom: (this.height - r) / 2
                        };
                        switch (this.cubeFitPosition) {
                            case "TOP":
                                a.fixTop = 0, a.fixBottom *= 2;
                                break;
                            case "BOTTOM":
                                a.fixTop *= 2, a.fixBottom = 0;
                                break;
                            case "LEFT":
                                a.fixLeft = 0, a.fixRight *= 2;
                                break;
                            case "RIGHT":
                                a.fixLeft *= 2, a.fixRight = 0
                        }
                        return a
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "cropRatio", {
                    get: function() {
                        var e, t = this;
                        if (this.rotatingCropRatio) e = this.rotatingCropRatio;
                        else if (this.rotatingCropRatios && this.rotatingCropRatios.length > 0) {
                            var i = String(this.rotatingCropRatios).split(",");
                            e = this.rotatingCropRatio = i[this.idx % i.length]
                        }
                        if (e || "function" != typeof this._cropRatio || (e = this._cropRatio()), !e && this.cropOnlyFill && "fit" === this.cubeType && (e = this.ratio), e || (e = this._cropRatio || this.ratio), null !== this.dynamicCropRatios && "string" == typeof e) {
                            if (!this.dynamicCropRatios) {
                                var r = /^\d*\.?\d*(%|px)\/\d*\.?\d*(%|px)$/.exec(e);
                                this.dynamicCropRatios = r ? e.split("/").map((function(e, t) {
                                    return e.indexOf("%") > 0 ? {
                                        type: "%",
                                        val: parseFloat(e.replace("%", "")) / 100,
                                        dim: 0 === t ? "galleryWidth" : "galleryHeight"
                                    } : {
                                        type: "px",
                                        val: parseInt(e.replace("px", ""))
                                    }
                                })) : null
                            }
                            if (this.dynamicCropRatios) {
                                var o = this.dynamicCropRatios.map((function(e) {
                                    if ("%" === e.type) {
                                        var i = t.container[e.dim] + ("galleryHeight" === e.dim ? t.imageMargin / 2 : 0);
                                        return e.val * i - t.imageMargin
                                    }
                                    return e.val
                                }));
                                e = o[0] / o[1]
                            }
                        }
                        return e = Number(e), !0 === this.smartCrop && (e = this.isPortrait ? Math.min(e, 1 / e) : Math.max(e, 1 / e)), "min" === this.cubeType ? e = Math.max(e, this.orgRatio) : "max" === this.cubeType && (e = Math.min(e, this.orgRatio)), e
                    },
                    set: function(e) {
                        "number" == typeof this._cropRatio && (this._cropRatio = e, this.style.cubedHeight = this.style.cubedWidth = 0)
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "orientation", {
                    get: function() {
                        return this.ratio < .999 ? "portrait" : "landscape"
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "isPortrait", {
                    get: function() {
                        return "portrait" === this.orientation
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "isLandscape", {
                    get: function() {
                        return "landscape" === this.orientation
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "ratio", {
                    get: function() {
                        return this.orgRatio || (this.orgRatio = this.orgWidth / this.orgHeight), this.orgRatio
                    },
                    set: function(e) {
                        this.orgRatio = e
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "roundedStyle", {
                    get: function() {
                        return Object(r.a)(Object(r.a)({}, this.style), {
                            width: Math.round(this.style.width),
                            height: Math.round(this.style.height)
                        })
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "scheme", {
                    get: function() {
                        return {
                            id: this.id,
                            idx: this.idx,
                            inGroupIdx: this.inGroupIdx,
                            dto: this.dto,
                            type: this.type,
                            style: this.style,
                            roundedStyle: this.roundedStyle,
                            width: this.width,
                            maxWidth: this.maxWidth,
                            outerWidth: this.outerWidth,
                            infoWidth: this.infoWidth,
                            margins: this.margins,
                            ratio: this.ratio,
                            dimensions: this.dimensions,
                            cropRatio: this.cropRatio,
                            isCropped: this.cubeImages,
                            cropType: this.cubeType,
                            height: this.height,
                            maxHeight: this.maxHeight,
                            outerHeight: this.outerHeight,
                            infoHeight: this.infoHeight,
                            group: this.group,
                            offset: this.offset,
                            groupOffset: this._groupOffset,
                            orientation: this.orientation,
                            isPortrait: this.isPortrait,
                            isLandscape: this.isLandscape,
                            visibility: this.visibility
                        }
                    },
                    enumerable: !1,
                    configurable: !0
                }), e
            }(),
            w = function() {
                function e(e) {
                    this.uniqueId = o.a.generateUUID(), this.isGalleryItem = !0, this.createdBy = e.createdBy, this.createUrl = this.createUrl.bind(this), this.createMagnifiedUrl = this.createMagnifiedUrl.bind(this), this.update(e)
                }
                return e.prototype.update = function(e) {
                    if (this.createMediaUrl = e.createMediaUrl, e.dto && e.dto.dto && (e.dto = e.dto.dto, o.a.isDev() && console.warn("Item core is created with already existing item core")), this.dto = Object(r.a)({}, e.dto), e.scheme) this.processScheme(e.scheme);
                    else {
                        var t = {};
                        Object.assign(t, this.dto, this.metadata), this.processScheme(new I({
                            dto: t
                        }).scheme)
                    }
                    if (this.dto) {
                        var i = this.dto.metaData || this.dto.metadata;
                        i && (this.dto.metaData = o.a.parseStringObject(i))
                    }
                    this.sharpParams = Object(r.a)({}, e.sharpParams), this.sharpParams.quality || (this.sharpParams.quality = 90), this.sharpParams.usm || (this.sharpParams.usm = {}), this.thumbnailSize = e.thumbnailSize || 120, this.resetUrls(), this.updateSharpParams()
                }, e.prototype.processScheme = function(e) {
                    this.id = e.id, this.idx = e.idx, this.type = e.type, this.style = e.style, this.width = e.width, this.maxWidth = e.maxWidth, this.infoWidth = e.infoWidth, this.height = e.height, this.maxHeight = e.maxHeight, this.infoHeight = e.infoHeight, this.margins = e.margins, this.ratio = e.ratio, this.cropRatio = e.cropRatio, this.cubeImages = e.isCropped, this.cubeType = e.cropType || n.a.resizeMethods.FILL, this.offset = e.offset, this.group = e.group, this.orientation = e.orientation, this.visibility = e.visibility
                }, e.prototype.renderProps = function(e) {
                    return Object(r.a)({
                        className: "image",
                        key: this.key,
                        idx: this.idx,
                        photoId: this.photoId,
                        id: this.id,
                        hash: this.id,
                        html: this.html,
                        type: this.type,
                        isVideoPlaceholder: this.isVideoPlaceholder,
                        url: this.url,
                        alt: this.alt,
                        calculatedAlt: this.calculatedAlt,
                        directLink: this.directLink,
                        directShareLink: this.directShareLink,
                        linkUrl: this.linkUrl,
                        linkType: this.linkType,
                        linkOpenType: this.linkOpenType,
                        linkData: this.linkData,
                        title: this.title,
                        fileName: this.fileName,
                        description: this.description,
                        createUrl: this.createUrl,
                        createMagnifiedUrl: this.createMagnifiedUrl,
                        cubeImages: this.cubeImages,
                        cubeType: this.cubeType,
                        cropRatio: this.cropRatio,
                        isTransparent: this.isTransparent,
                        offset: this.offset,
                        style: Object(r.a)({
                            ratio: this.ratio,
                            bgColor: this.bgColor,
                            maxWidth: this.maxWidth,
                            maxHeight: this.maxHeight,
                            infoWidth: this.infoWidth,
                            infoHeight: this.infoHeight,
                            orientation: this.orientation
                        }, this.style),
                        isDemo: this.isDemo,
                        videoUrl: this.videoUrl,
                        isExternalVideo: this.isExternalVideo
                    }, e)
                }, e.prototype.getDataForShop = function() {
                    var e = this.focalPoint,
                        t = this.metadata;
                    return {
                        isDemo: t.isDemo,
                        orderIndex: this.orderIndex,
                        itemId: this.dto.itemId,
                        itemUrl: this.url,
                        itemHeight: t.height,
                        title: t.title,
                        itemWidth: t.width,
                        itemType: t.type || "image",
                        imageUrl: this.processedMediaUrl(n.a.resizeMethods.FIT, 200, 200, null, null).img(),
                        imagePurchasedUrl: this.dto.mediaUrl,
                        fpX: e[0],
                        fpY: e[1]
                    }
                }, e.prototype.getHighestMp4Resolution = function(e) {
                    var t = e.filter((function(e) {
                        return "mp4" === e.formats[0]
                    })).sort((function(e, t) {
                        return t.width - e.width
                    }))[0];
                    return {
                        width: t.width,
                        height: t.height
                    }
                }, e.prototype.processedMediaUrl = function(e, t, i, a, s) {
                    var l, u = this;
                    void 0 === s && (s = !1);
                    var c = function(e, t, i, r, n, a, l) {
                        var c;
                        if (void 0 === a && (a = null), void 0 === l && (l = null), "function" == typeof u.createMediaUrl) try {
                            var h = String(o.a.hashCode(JSON.stringify({
                                url: t,
                                resizeMethod: i,
                                requiredWidth: r,
                                requiredHeight: n,
                                sharpParams: a,
                                focalPoint: l
                            })));
                            u._cachedUrls[h] || (u._cachedUrls[h] = u.createMediaUrl({
                                item: e,
                                originalUrl: t,
                                resizeMethod: i,
                                requiredWidth: r,
                                requiredHeight: n,
                                sharpParams: a,
                                focalPoint: l,
                                createMultiple: s
                            }) || ""), c = u._cachedUrls[h]
                        } catch (o) {
                            console.error("Cannot create url", o, e, t, i, r, n, a, l), c = String(t)
                        } else c = String(t);
                        return c
                    };
                    t = Math.ceil(t), i = Math.ceil(i);
                    var h = e === n.a.resizeMethods.FILL && this.isCropped && this.focalPoint,
                        p = {},
                        d = this.url;
                    return this.isText ? Object.assign.apply(Object, Object(r.d)([{}], Object.values(n.a.urlTypes).map((function(e) {
                        var t;
                        return (t = {})[e] = function() {
                            return ""
                        }, t
                    })))) : ((this.isVideo || this.isVideoPlaceholder) && (d = null === (l = this.poster) || void 0 === l ? void 0 : l.url, o.a.isExternalUrl(this.url) ? p[n.a.urlTypes.VIDEO] = function() {
                        return u.url
                    } : p[n.a.urlTypes.VIDEO] = function() {
                        return c(u, u.url, n.a.resizeMethods.VIDEO, t, i)
                    }), p[n.a.urlTypes.HIGH_RES] = function() {
                        return c(u, d, e, t, i, a, h)
                    }, p[n.a.urlTypes.LOW_RES] = function() {
                        return c(u, d, u.cubeImages && e !== n.a.resizeMethods.FIT ? n.a.resizeMethods.FILL : n.a.resizeMethods.FIT, 250, 250, Object(r.a)(Object(r.a)({}, a), {
                            quality: 30,
                            blur: 30
                        }), h)
                    }, p)
                }, e.prototype.resetUrls = function() {
                    var e = this.maxWidth || this.dto.width || this.metadata.width,
                        t = this.maxHeight || this.dto.height || this.metadata.height;
                    this.resizeWidth = Math.min(e, Math.ceil(this.width)), this.resizeHeight = Math.min(t, Math.ceil(this.height)), this._cachedUrls = {}, this.urls = {}
                }, e.prototype.createUrl = function(e, t) {
                    try {
                        return this[e + "_url"][t]()
                    } catch (e) {
                        return ""
                    }
                }, e.prototype.createMagnifiedUrl = function(e) {
                    if (void 0 === e && (e = 1), !this.urls.magnified_url) {
                        var t = this.style,
                            i = t.innerWidth,
                            r = t.innerHeight;
                        this.urls.magnified_url = this.processedMediaUrl(this.cubeType, i * e, r * e, this.sharpParams, !0)
                    }
                    return this.urls.magnified_url[n.a.urlTypes.HIGH_RES]()
                }, Object.defineProperty(e.prototype, "resized_url", {
                    get: function() {
                        return this.urls.resized_url || (this.urls.resized_url = this.processedMediaUrl(this.cubeType, this.resizeWidth, this.resizeHeight, this.sharpParams)), this.urls.resized_url
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "multi_url", {
                    get: function() {
                        return this.urls.multi_url || (this.urls.multi_url = this.processedMediaUrl(this.cubeType, this.resizeWidth, this.resizeHeight, this.sharpParams, !0)), this.urls.multi_url
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "scaled_url", {
                    get: function() {
                        if (!this.urls.scaled_url) {
                            var e = this.maxWidth / this.maxHeight,
                                t = this.resizeWidth / this.resizeHeight < e;
                            this.urls.scaled_url = this.processedMediaUrl(n.a.resizeMethods.FILL, t ? e * this.resizeHeight : this.resizeWidth, t ? this.resizeHeight : this.resizeWidth / e, this.sharpParams)
                        }
                        return this.urls.scaled_url
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "pixel_url", {
                    get: function() {
                        return this.urls.pixel_url || (this.urls.pixel_url = this.processedMediaUrl(n.a.resizeMethods.FILL, 1, 1, {
                            quality: 5
                        })), this.urls.pixel_url
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "thumbnail_url", {
                    get: function() {
                        return this.urls.thumbnail_url || (this.urls.thumbnail_url = this.processedMediaUrl(n.a.resizeMethods.FILL, this.thumbnailSize, this.thumbnailSize, {
                            quality: 70
                        })), this.urls.thumbnail_url
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "square_url", {
                    get: function() {
                        return this.urls.square_url || (this.urls.square_url = this.processedMediaUrl(n.a.resizeMethods.FILL, 100, 100, {
                            quality: 80
                        })), this.urls.square_url
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "full_url", {
                    get: function() {
                        return this.urls.full_url || (this.urls.full_url = this.processedMediaUrl(n.a.resizeMethods.FULL, this.maxWidth, this.maxHeight, this.sharpParams)), this.urls.full_url
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "sample_url", {
                    get: function() {
                        return this.urls.sample_url || (this.urls.sample_url = this.processedMediaUrl(n.a.resizeMethods.FIT, 500, 500, this.sharpParams)), this.urls.sample_url
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "preload_url", {
                    get: function() {
                        return this.urls.preload_url || (this.urls.preload_url = this.processed_url), this.urls.preload_url
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "download_url", {
                    get: function() {
                        return this.createDownloadUrl(this.full_url)
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "download_sample_url", {
                    get: function() {
                        return this.createDownloadUrl(this.sample_url)
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.createDownloadUrl = function(e) {
                    var t = this;
                    return this.urls.download_url || (this.urls.download_url = e, this.urls.download_url._img = this.urls.download_url.img, this.urls.download_url.img = function() {
                        var e = t.urls.download_url._img();
                        return e + (e.includes("?") ? "&" : "?") + "dn=" + t.fileName
                    }), this.urls.download_url
                }, e.prototype.updateSharpParams = function() {
                    if (this.dto.metaData && this.dto.metaData.sharpParams && this.dto.metaData.sharpParams.L) {
                        var e = this.dto.metaData.sharpParams.L;
                        e.quality && !0 === e.overrideQuality && (this.sharpParams.quality = e.quality), e.usm && !0 === e.overrideUsm && (this.sharpParams.usm = e.usm)
                    }
                }, Object.defineProperty(e.prototype, "itemId", {
                    get: function() {
                        return this.id
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.updateId = function(e) {
                    this.dto.itemId = this.id = e
                }, Object.defineProperty(e.prototype, "metadata", {
                    get: function() {
                        var e = this.dto.metaData || this.dto.metadata;
                        return o.a.isUndefined(e) && (e = {}), e
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "metaData", {
                    get: function() {
                        return this.metadata
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "bgColor", {
                    get: function() {
                        return this.isText ? this.metadata && (this.metadata.textStyle && this.metadata.textStyle.backgroundColor || this.metadata.backgroundColor) : "none"
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "isCropped", {
                    get: function() {
                        return this.cubeImages && this.cubeType === n.a.resizeMethods.FILL
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "focalPoint", {
                    get: function() {
                        return this.metadata.focalPoint || [.5, .5]
                    },
                    set: function(e) {
                        this.metadata.focalPoint = e
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "photoId", {
                    get: function() {
                        return this.id
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "key", {
                    get: function() {
                        return this._key || (this._key = (this.dto.key || this.id || this.dto.url || "no_key_found").replace(/\W/g, "")), this._key
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "orderIndex", {
                    get: function() {
                        return this.dto.orderIndex || this.dto.o || 0
                    },
                    set: function(e) {
                        this.dto.orderIndex = e
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.updateOrderIndex = function(e) {
                    var t = this.orderIndex !== e;
                    return this.orderIndex = e, t
                }, Object.defineProperty(e.prototype, "url", {
                    get: function() {
                        return this.dto.file_url || this.dto.mediaUrl || this.dto.url || this.dto.src || ""
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "mediaUrl", {
                    get: function() {
                        return this.url
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "html", {
                    get: function() {
                        return this.dto.html || this.dto.text || this.metadata.html || this.metadata.text
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "lastModified", {
                    get: function() {
                        return this.metadata.lastModified
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "seed", {
                    get: function() {
                        return o.a.hashToInt(this.url)
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "isImage", {
                    get: function() {
                        return "image" === this.type
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "isImportant", {
                    get: function() {
                        return !!this.dto.i
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "videoUrl", {
                    get: function() {
                        return this.metadata.videoUrl
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "poster", {
                    get: function() {
                        return this.metadata.poster || this.metadata.customPoster && this.metadata.customPoster || (this.metadata.posters ? this.metadata.posters[this.metadata.posters.length - 1] : null)
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "qualities", {
                    get: function() {
                        return this.metadata.qualities
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "isExternalVideo", {
                    get: function() {
                        return this.metadata.isExternal
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "isExternal", {
                    get: function() {
                        return !0 === this.metadata.isExternal
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "type", {
                    get: function() {
                        switch (this._type || this.dto.type || this.metadata.type || this.dto.media_type) {
                            case "dummy":
                                return "dummy";
                            case "v":
                            case "video":
                                return "video";
                            case "h":
                            case "html":
                            case "text":
                                return "text";
                            case "i":
                            case "image":
                            default:
                                return "image"
                        }
                    },
                    set: function(e) {
                        this._type = e
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "isVideoPlaceholder", {
                    get: function() {
                        return !!(this.dto.isVideoPlaceholder || this.metadata.isVideoPlaceholder || this.dto.media_isVideoPlaceholder)
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "calculatedAlt", {
                    get: function() {
                        return o.a.isMeaningfulString(this.alt) && this.alt || this.title || this.description || this.fileName || ""
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "alt", {
                    get: function() {
                        return this.metadata.alt || ""
                    },
                    set: function(e) {
                        this.metadata.alt = e
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "title", {
                    get: function() {
                        return this.metadata.title || ""
                    },
                    set: function(e) {
                        this.metadata.title = e
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "fileName", {
                    get: function() {
                        return this.metadata.fileName || "file"
                    },
                    set: function(e) {
                        this.metadata.fileName = e
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "description", {
                    get: function() {
                        return this.metadata.description || ""
                    },
                    set: function(e) {
                        this.metadata.description = e
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "exif", {
                    get: function() {
                        return this.metadata.exif || ""
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "hasLink", {
                    get: function() {
                        switch (this.linkType) {
                            case "wix":
                                return !!this.linkData.type;
                            default:
                                return !!this.linkUrl
                        }
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "link", {
                    get: function() {
                        return this.metadata.link || {}
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "linkData", {
                    get: function() {
                        return this.metadata.link && this.metadata.link.data ? this.metadata.link.data : this.isWixUrl ? {
                            type: "web",
                            url: this.linkUrl
                        } : {}
                    },
                    set: function(e) {
                        this.metadata.link || (this.metadata.link = {}), this.metadata.link.data = e
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "linkType", {
                    get: function() {
                        return this.metadata.link && !o.a.isUndefined(this.metadata.link.type) ? this.metadata.link.type : this.linkUrl ? "web" : "none"
                    },
                    set: function(e) {
                        this.metadata.link || (this.metadata.link = {}), this.metadata.link = {
                            type: e,
                            url: void 0,
                            text: void 0,
                            title: void 0,
                            target: "_blank"
                        }
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "defaultLinkText", {
                    get: function() {
                        var e = this.linkData;
                        switch (this.linkType) {
                            case "wix":
                                if (!e) return "Go to Link";
                                switch (e.type) {
                                    case "PageLink":
                                        return "Go to Page " + e.pageName;
                                    case "AnchorLink":
                                        return "Scroll to " + e.anchorName;
                                    case "ExternalLink":
                                        return "" + e.url;
                                    case "EmailLink":
                                        return "Email " + e.recipient;
                                    case "PhoneLink":
                                        return "Call " + e.phoneNumber;
                                    case "DocumentLink":
                                        return "Open " + e.name;
                                    default:
                                        return "Go to Link"
                                }
                            case "web":
                                return this.linkTitleFromUrl || this.linkUrl;
                            case "page":
                                return this.linkTitle;
                            default:
                                return ""
                        }
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "defaultLinkValue", {
                    get: function() {
                        var e = this.linkData;
                        switch (this.linkType) {
                            case "wix":
                                if (!e) return "Add a Link";
                                switch (e.type) {
                                    case "PageLink":
                                        return e.pageName ? "PAGE - " + e.pageName : "PAGE";
                                    case "AnchorLink":
                                        return "ANCHOR - " + e.anchorName;
                                    case "ExternalLink":
                                        return "LINK - " + e.url;
                                    case "EmailLink":
                                        return "EMAIL - " + e.recipient;
                                    case "PhoneLink":
                                        return "PHONE - " + e.phoneNumber;
                                    case "DocumentLink":
                                        return "DOCUMENT - " + e.name;
                                    default:
                                        return "Add a Link"
                                }
                            case "web":
                                return this.linkUrl;
                            case "page":
                                return this.linkTitle;
                            default:
                                return ""
                        }
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "linkText", {
                    get: function() {
                        return this.metadata.link && this.metadata.link.text || this.defaultLinkText
                    },
                    set: function(e) {
                        this.metadata.link || (this.metadata.link = {}), this.metadata.link.text = e
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "linkTitle", {
                    get: function() {
                        return this.metadata.link && this.metadata.link.title
                    },
                    set: function(e) {
                        this.metadata.link || (this.metadata.link = {}), this.metadata.link.title = e
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "linkUrl", {
                    get: function() {
                        return this.metadata.link && this.metadata.link.url
                    },
                    set: function(e) {
                        this.metadata.link || (this.metadata.link = {}), this.metadata.link.url = e
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "isWixUrl", {
                    get: function() {
                        return this.linkUrl && 0 === this.linkUrl.indexOf("wix")
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "linkTitleFromUrl", {
                    get: function() {
                        var e = /[^/]*\.\w+$/g.exec(this.linkUrl),
                            t = e && e[0];
                        return t && t.split(".")[0]
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "unprotectedLinkOpenType", {
                    get: function() {
                        return o.a.get(this, "metadata.link.target")
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "linkOpenType", {
                    get: function() {
                        return this.metadata.link && !o.a.isUndefined(this.metadata.link.target) ? this.unprotectedLinkOpenType : this.metadata.link && !o.a.isUndefined(this.metadata.link.targetBlank) ? this.metadata.link.targetBlank ? "_blank" : "_top" : "_blank"
                    },
                    set: function(e) {
                        this.metadata.link || (this.metadata.link = {}), this.metadata.link.target = e
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "initialLinkObject", {
                    get: function() {
                        return {
                            type: "none",
                            url: void 0,
                            text: void 0,
                            title: void 0,
                            target: "_blank"
                        }
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "isDemo", {
                    get: function() {
                        return this.metadata.isDemo || this.dto.isDemo || "public" === this.metadata.sourceName || this.metadata.tags && Array.isArray(this.metadata.tags) && this.metadata.tags.indexOf("_paid") >= 0
                    },
                    set: function(e) {
                        this.metadata.isDemo = e
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "isText", {
                    get: function() {
                        return "text" === this.type
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "isVideo", {
                    get: function() {
                        return "video" === this.type
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "isVisible", {
                    get: function() {
                        return !0
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "isRendered", {
                    get: function() {
                        return !0
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "isDimensionless", {
                    get: function() {
                        return !(this.maxWidth > 1 || this.maxHeight > 1)
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "isTransparent", {
                    get: function() {
                        return this.url && (this.url.indexOf(".png") > 0 || this.url.indexOf(".gif") > 0)
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "directLink", {
                    get: function() {
                        return this.dto.directLink || ""
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "directShareLink", {
                    get: function() {
                        return this.dto.directShareLink || ""
                    },
                    enumerable: !1,
                    configurable: !0
                }), e
            }(),
            E = {
                lll: "1,2h",
                llp: "1,3r",
                lpl: "1,2h",
                pll: "1,2h,3l",
                lpp: "1,2h,3r,3h",
                plp: "1,2h,3l,3r,3h",
                ppl: "1,2h,3l,3h",
                ppp: "1,2h,3l,3r,3h"
            },
            P = {
                lll: "1,2v,3t,3b,3v",
                llp: "1,2v,3t,3v",
                lpl: "1,2v,3t,3b,3v",
                pll: "1,2v,3b,3v",
                lpp: "1,2v,3t",
                plp: "1,2v",
                ppl: "1,3b",
                ppp: "1,2h"
            },
            x = {
                1: [
                    [1]
                ],
                2: [
                    [1],
                    [1, 2],
                    [2]
                ],
                3: [
                    [1],
                    [1, 2],
                    [1, 2, 3],
                    [2, 3],
                    [3]
                ]
            },
            T = function() {
                function e(e) {
                    var t = this;
                    if (this.idx = e.idx, this.stripIdx = e.stripIdx, this.inStripIdx = e.inStripIdx, this.top = e.top, this.showAllItems = e.showAllItems, this.isLastItems = e.isLastItems, this.dummyItems = [], this.targetItemSize = e.targetItemSize, this.items = e.items.map((function(e) {
                            return e.Group = t, e
                        })), e.styleParams) {
                        var i = e.styleParams;
                        this.scrollDirection = i.scrollDirection, this.cubeType = i.cubeType, this.cubeImages = i.cubeImages, this.isVertical = i.isVertical, this.minItemSize = i.minItemSize, this.collageAmount = i.collageAmount, this.collageDensity = i.collageDensity, this.groupTypes = String(i.groupTypes), this.repeatingGroupTypes = String(i.layoutParams.repeatingGroupTypes), this.rotatingCropRatios = String(i.rotatingCropRatios), this.chooseBestGroup = i.chooseBestGroup, this.externalInfoHeight = i.externalInfoHeight, this.externalInfoWidth = i.externalInfoWidth, this.imageMargin = i.imageMargin, this.groupSize = i.groupSize
                    }
                    this.visible = !0, this.rendered = !0, this.required = !0;
                    for (var r = this.items.length; !this.isWithinMinItemSize && r > 0;) this.placeItems(r), this.resize(), r--
                }
                return e.prototype.resize = function() {
                    this.isVertical ? this.resizeToWidth(this.targetItemSize) : this.resizeToHeight(this.targetItemSize), this.setLeft(this.left), this.setTop(this.top)
                }, e.prototype.safeGetItem = function(e) {
                    if (this.items[e]) return this.items[e];
                    if (this.dummyItems[e]) return this.dummyItems[e];
                    var t = new I(Object(r.a)({}, this.items[this.items.length - 1].config));
                    return t.idx = t.config.idx + e - (this.items.length - 1), t.type = "dummy", this.dummyItems[e] = t, t
                }, e.prototype.setCubedHeight = function(e) {
                    var t = this.cubeImages && 1 === this.groupSize && ["fill", "fit"].includes(this.cubeType) && 0 === this.repeatingGroupTypes.length && 0 === this.rotatingCropRatios.length;
                    this.cubedHeight = t ? e : null
                }, e.prototype.round = function() {
                    this.isLastGroup && 0 === this.scrollDirection ? this.width = this.stripWidth - this.left : this.width = Math.round(this.width), this.height = Math.round(this.height);
                    for (var e = 0, t = this.items; e < t.length; e++) {
                        var i = t[e];
                        i.width = Math.round(i.width), i.height = Math.round(i.height), i.group = {
                            width: this.width,
                            height: this.height
                        }
                    }
                    var r = this.imageMargin;
                    switch (this.type) {
                        default:
                            case "1":
                            this.safeGetItem(0).width = this.width - r,
                        this.safeGetItem(0).height = this.height - r;
                        break;
                        case "2v":
                                this.safeGetItem(0).width = this.safeGetItem(1).width = this.width - r,
                            this.safeGetItem(0).height = this.height - this.safeGetItem(1).height - 2 * r;
                            break;
                        case "2h":
                                this.safeGetItem(0).height = this.safeGetItem(1).height = this.height - r,
                            this.safeGetItem(0).width = this.width - this.safeGetItem(1).width - 2 * r;
                            break;
                        case "3t":
                                this.safeGetItem(0).width = this.width - r,
                            this.safeGetItem(0).height = this.height - this.safeGetItem(1).height - 2 * r,
                            this.safeGetItem(1).width = this.width - this.safeGetItem(2).width - 2 * r,
                            this.safeGetItem(2).height = this.safeGetItem(1).height;
                            break;
                        case "3b":
                                this.safeGetItem(0).width = this.width - this.safeGetItem(1).width - 2 * r,
                            this.safeGetItem(1).height = this.safeGetItem(0).height,
                            this.safeGetItem(2).height = this.height - this.safeGetItem(1).height - 2 * r,
                            this.safeGetItem(2).width = this.width - r;
                            break;
                        case "3l":
                                this.safeGetItem(1).height = this.height - this.safeGetItem(2).height - 2 * r,
                            this.safeGetItem(2).width = this.safeGetItem(1).width,
                            this.safeGetItem(0).width = this.width - this.safeGetItem(1).width - 2 * r,
                            this.safeGetItem(0).height = this.height - r;
                            break;
                        case "3r":
                                this.safeGetItem(0).height = this.height - this.safeGetItem(1).height - 2 * r,
                            this.safeGetItem(1).width = this.safeGetItem(0).width,
                            this.safeGetItem(2).width = this.width - this.safeGetItem(1).width - 2 * r,
                            this.safeGetItem(2).height = this.height - r;
                            break;
                        case "3v":
                                this.safeGetItem(0).width = this.width - r,
                            this.safeGetItem(1).width = this.width - r,
                            this.safeGetItem(2).width = this.width - r,
                            this.safeGetItem(2).height = this.height - this.safeGetItem(0).height - this.safeGetItem(1).height - 3 * r;
                            break;
                        case "3h":
                                this.safeGetItem(0).height = this.height - r,
                            this.safeGetItem(1).height = this.height - r,
                            this.safeGetItem(2).height = this.height - r,
                            this.safeGetItem(2).width = this.width - this.safeGetItem(0).width - this.safeGetItem(1).width - 3 * r
                    }
                }, e.prototype.getGroupType = function(e) {
                    if (this.repeatingGroupTypes) {
                        var t = String(this.repeatingGroupTypes).split(",");
                        return t[this.idx % t.length]
                    }
                    var i = this.isVertical,
                        r = void 0;
                    if (this.chooseBestGroup) {
                        var o = this.items.map((function(e) {
                            return e.orientation.slice(0, 1)
                        })).join("");
                        r = (i ? E : P)[o]
                    } else 3 !== this.items.length && 3 !== e || (r = i ? "1,2h,3l,3r,3h" : "1,2v,3t,3b,3v");
                    2 !== this.items.length && 2 !== e || (r = i ? "1,2h" : "1,2v"), 1 !== this.items.length && 1 !== e || (r = "1");
                    var n = r.length > 0 ? r.split(",") : [];
                    if (this.groupTypes) {
                        var a = this.groupTypes.split(",");
                        a.length > 1 ? 0 === (n = n.filter((function(e) {
                            return a.indexOf(e) >= 0
                        }))).length && (n = ["1"]) : n = a
                    }
                    if (this.collageDensity >= 0) {
                        var s = this.collageDensity,
                            l = parseInt(n[n.length - 1]),
                            u = x[l],
                            c = u[Math.floor(s * (u.length - 1))];
                        0 === (n = n.filter((function(e) {
                            return c.indexOf(parseInt(e)) >= 0
                        }))).length && (n = ["1"])
                    }
                    return n[this.calculateRandomSeed(n.length)] || "1"
                }, e.prototype.calculateRandomSeed = function(e) {
                    var t;
                    return t = this.isVertical ? this.items[0].seed % e : (this.inStripIdx + this.stripIdx) % e, Math.round(Math.min(Math.max(0, t), e - 1))
                }, e.prototype.placeItems = function(e) {
                    this.type = this.getGroupType(e);
                    var t, i = [],
                        r = 0,
                        o = 0;
                    switch (this.type) {
                        default:
                            case "1":
                            (t = this.safeGetItem(0)).pinToCorner("top-left"),
                        i.push(t),
                        r = t.width,
                        o = t.height;
                        break;
                        case "2v":
                                (t = this.safeGetItem(0)).pinToCorner("top-left"),
                            i.push(t),
                            r = t.width,
                            o = t.height,
                            (t = this.safeGetItem(1)).pinToCorner("bottom-left"),
                            t.resize(r / t.width),
                            o += t.height,
                            i.push(t);
                            break;
                        case "2h":
                                (t = this.safeGetItem(0)).pinToCorner("top-left"),
                            t.innerOffset = [0, 0],
                            i.push(t),
                            r = t.width,
                            o = t.height,
                            (t = this.safeGetItem(1)).pinToCorner("top-right"),
                            t.innerOffset = [0, 0],
                            t.resize(o / t.height),
                            r += t.width,
                            i.push(t);
                            break;
                        case "3b":
                                (t = this.safeGetItem(0)).pinToCorner("top-left"),
                            i.push(t),
                            r = t.width,
                            o = t.height,
                            (t = this.safeGetItem(1)).pinToCorner("top-right"),
                            t.resize(o / t.height),
                            r += t.width,
                            i.push(t),
                            (t = this.safeGetItem(2)).pinToCorner("bottom-left"),
                            t.resize(r / t.width),
                            o += t.height,
                            i.push(t);
                            break;
                        case "3t":
                                (t = this.safeGetItem(1)).pinToCorner("bottom-left"),
                            i.push(t),
                            r = t.width,
                            o = t.height,
                            (t = this.safeGetItem(2)).pinToCorner("bottom-right"),
                            t.resize(o / t.height),
                            r += t.width,
                            i.push(t),
                            (t = this.safeGetItem(0)).pinToCorner("top-left"),
                            t.resize(r / t.width),
                            o += t.height,
                            i = [t].concat(i);
                            break;
                        case "3r":
                                (t = this.safeGetItem(0)).pinToCorner("top-left"),
                            i.push(t),
                            r = t.width,
                            o = t.height,
                            (t = this.safeGetItem(1)).pinToCorner("bottom-left"),
                            t.resize(r / t.width),
                            o += t.height,
                            i.push(t),
                            (t = this.safeGetItem(2)).pinToCorner("top-right"),
                            t.resize(o / t.height),
                            r += t.width,
                            i.push(t);
                            break;
                        case "3l":
                                (t = this.safeGetItem(1)).pinToCorner("top-right"),
                            i.push(t),
                            r = t.width,
                            o = t.height,
                            (t = this.safeGetItem(2)).pinToCorner("bottom-right"),
                            t.resize(r / t.width),
                            o += t.height,
                            i.push(t),
                            (t = this.safeGetItem(0)).pinToCorner("top-left"),
                            t.resize(o / t.height),
                            r += t.width,
                            i = [t].concat(i);
                            break;
                        case "3v":
                                (t = this.safeGetItem(0)).pinToCorner("top-left"),
                            t.setPosition("relative"),
                            i.push(t),
                            r = t.width,
                            o = t.height,
                            (t = this.safeGetItem(2)).pinToCorner("bottom-left"),
                            t.setPosition("relative"),
                            t.resize(r / t.width),
                            o += t.height,
                            i.push(t),
                            (t = this.safeGetItem(1)).setPosition("relative"),
                            t.resize(r / t.width),
                            o += t.height,
                            t.pinToCorner("top", i[0]),
                            i = [i[0], t, i[1]];
                            break;
                        case "3h":
                                (t = this.safeGetItem(0)).pinToCorner("top-left"),
                            t.setPosition("relative"),
                            i.push(t),
                            r = t.width,
                            o = t.height,
                            (t = this.safeGetItem(2)).pinToCorner("top-right"),
                            t.setPosition("relative"),
                            t.resize(o / t.height),
                            r += t.width,
                            i.push(t),
                            (t = this.safeGetItem(1)).setPosition("relative"),
                            t.resize(o / t.height),
                            r += t.width,
                            t.pinToCorner("left", i[0]),
                            i = [i[0], t, i[1]]
                    }
                    this.width = r, this.height = o, this.items = i, this.placed = !0
                }, e.prototype.resizeToHeight = function(e) {
                    this.height = e, this.width = this.getWidthByHeight(e), this.resizeItems()
                }, e.prototype.resizeToWidth = function(e) {
                    this.width = e, this.height = this.getHeightByWidth(e), this.resizeItems()
                }, e.prototype.resizeItems = function() {
                    var e = this,
                        t = ["3b", "3r"].indexOf(this.type) >= 0 ? this.items.slice().reverse() : this.items;
                    t.forEach((function(i, r) {
                        i.resize(e.getItemDimensions(t, r)), i.group = {
                            top: e.top,
                            left: e.left,
                            width: e.width,
                            height: e.height
                        }, i.groupOffset = {
                            bottom: e.top + e.height,
                            right: e.left + e.width
                        }
                    }))
                }, e.prototype.getItemDimensions = function(e, t) {
                    var i = this.imageMargin;
                    switch (this.type) {
                        default:
                            case "1":
                            case "2v":
                            case "3v":
                            return {
                            width: this.width - i
                        };
                        case "2h":
                                case "3h":
                                return {
                                height: this.height - i
                            };
                        case "3t":
                                case "3b":
                                return 0 === t ? {
                                width: this.width - i
                            } : {
                                height: this.height - e[0].height - 2 * i
                            };
                        case "3r":
                                case "3l":
                                return 0 === t ? {
                                height: this.height - i
                            } : {
                                width: this.width - e[0].width - 2 * i
                            }
                    }
                }, e.prototype.getHeightByWidth = function(e) {
                    var t = 1,
                        i = 1,
                        r = this.imageMargin,
                        o = this.items.map((function(e) {
                            return e.width / e.height
                        }));
                    switch (this.type) {
                        default:
                            case "1":
                            i = 1 - (t = 1 / o[0]);
                        break;
                        case "2h":
                                i = 1 - 2 * (t = 1 / (o[0] + o[1]));
                            break;
                        case "2v":
                                i = 2 - (t = 1 / o[0] + 1 / o[1]);
                            break;
                        case "3h":
                                i = 1 - 3 * (t = 1 / (o[0] + o[1] + o[2]));
                            break;
                        case "3v":
                                i = 3 - (t = 1 / o[0] + 1 / o[1] + 1 / o[2]);
                            break;
                        case "3t":
                                t = 1 / (o[2] + o[1]) + 1 / o[0],
                            i = 2 - 2 / (o[2] + o[1]) + 1 / o[0];
                            break;
                        case "3b":
                                t = 1 / (o[0] + o[1]) + 1 / o[2],
                            i = 2 - 2 / (o[0] + o[1]) + 1 / o[2];
                            break;
                        case "3l":
                                i = 2 - (t = (o[1] + o[2]) / (o[0] * o[1] + o[1] * o[2] + o[0] * o[2])) * (2 + o[0]);
                            break;
                        case "3r":
                                i = 2 - (t = (o[0] + o[1]) / (o[0] * o[1] + o[1] * o[2] + o[0] * o[2])) * (2 + o[2])
                    }
                    return e * t + r * i
                }, e.prototype.getWidthByHeight = function(e) {
                    var t = 1,
                        i = 1,
                        r = this.imageMargin,
                        o = this.items.map((function(e) {
                            return e.width / e.height
                        }));
                    switch (this.type) {
                        default:
                            case "1":
                            i = 1 - (t = o[0]);
                        break;
                        case "2h":
                                i = 2 - (t = o[0] + o[1]);
                            break;
                        case "2v":
                                i = 1 - 2 * (t = 1 / (1 / o[0] + 1 / o[1]));
                            break;
                        case "3h":
                                i = 3 - (t = o[0] + o[1] + o[2]);
                            break;
                        case "3v":
                                i = 1 - 3 * (t = 1 / (1 / o[0] + 1 / o[1] + 1 / o[2]));
                            break;
                        case "3t":
                                t = 1 / (1 / (o[2] + o[1]) + 1 / o[0]),
                            i = (2 / (o[2] + o[1]) + 1 / o[0] - 2) * t;
                            break;
                        case "3b":
                                t = 1 / (1 / (o[0] + o[1]) + 1 / o[2]),
                            i = (2 / (o[0] + o[1]) + 1 / o[2] - 2) * t;
                            break;
                        case "3l":
                                t = (o[0] * o[1] + o[1] * o[2] + o[0] * o[2]) / (o[1] + o[2]),
                            i = 2 + o[0] - 2 * t;
                            break;
                        case "3r":
                                t = (o[0] * o[1] + o[1] * o[2] + o[0] * o[2]) / (o[0] + o[1]),
                            i = 2 + o[2] - 2 * t
                    }
                    return e * t + r * i
                }, e.prototype.setTop = function(e) {
                    this.top = e || 0;
                    for (var t = 0, i = this.items; t < i.length; t++) {
                        i[t].groupOffset = {
                            top: e,
                            bottom: e + this.height
                        }
                    }
                }, e.prototype.setLeft = function(e) {
                    this.left = e || 0;
                    for (var t = 0, i = this.items; t < i.length; t++) {
                        i[t].groupOffset = {
                            left: e,
                            right: e + this.width
                        }
                    }
                }, Object.defineProperty(e.prototype, "id", {
                    get: function() {
                        return "g" + this.idx + "_" + (this.items[0] || {}).id
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "ratio", {
                    get: function() {
                        return this.width / this.height
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "height", {
                    get: function() {
                        return this.cubedHeight || this._height
                    },
                    set: function(e) {
                        this._height = e
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "totalHeight", {
                    get: function() {
                        return this.height + this.infoHeight
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "infoHeight", {
                    get: function() {
                        return this.externalInfoHeight || 0
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "infoWidth", {
                    get: function() {
                        return this.Column ? this.Column.infoWidth : this.externalInfoWidth || 0
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "bottom", {
                    get: function() {
                        return this.top + this.height
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "right", {
                    get: function() {
                        return this.left + this.width
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "items", {
                    get: function() {
                        return this._items
                    },
                    set: function(e) {
                        this._items = e
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "realItems", {
                    get: function() {
                        return this._items.filter((function(e) {
                            return "dummy" !== e.type
                        }))
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "isWithinMinItemSize", {
                    get: function() {
                        var e = this;
                        return !(0 === this.items.length || !this.placed) && (1 === this.items.length || this.items.reduce((function(t, i) {
                            var r = Math.min(i.width, i.height) >= e.minItemSize;
                            return t && r
                        }), !0))
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "scheme", {
                    get: function() {
                        return {
                            id: this.id,
                            idx: this.idx,
                            stripIdx: this.stripIdx,
                            inStripIdx: this.inStripIdx,
                            isLastGroup: this.isLastGroup,
                            items: this.items.map((function(e) {
                                return e.scheme
                            })),
                            type: this.type,
                            width: this.width,
                            height: this.height,
                            infoHeight: this.infoHeight,
                            infoWidth: this.infoWidth,
                            ratio: this.ratio,
                            top: this.top,
                            left: this.left,
                            right: this.right,
                            bottom: this.bottom,
                            visible: this.visible,
                            rendered: this.rendered,
                            required: this.required
                        }
                    },
                    enumerable: !1,
                    configurable: !0
                }), e
            }(),
            C = function() {
                function e(e) {
                    this.uniqueId = o.a.generateUUID(), this.isGalleryGroup = !0, e.dto && e.dto.dto && (e.dto = e.dto.dto, o.a.isDev() && console.warn("Item core is created with already existing item core")), this.dto = Object.assign({}, e.dto), e.scheme ? this.processScheme(e.scheme) : this.processScheme(new T({
                        dto: e.dto
                    }).scheme), e.items ? this.items = e.items : console.warn("Pro Gallery created Gallery Group without items", e)
                }
                return e.prototype.processScheme = function(e) {
                    this.id = e.id, this.idx = e.idx, this.width = e.width, this.height = e.height, this.totalHeight = e.totalHeight, this.ratio = e.ratio, this.top = e.top, this.left = e.left, this.right = e.right, this.bottom = e.bottom, this.visible = e.visible, this.rendered = e.rendered, this.required = e.required
                }, e.prototype.renderProps = function(e) {
                    return {
                        className: "group",
                        id: this.id,
                        idx: this.idx,
                        key: this.key,
                        type: this.type,
                        top: this.top,
                        left: this.left,
                        right: this.right,
                        bottom: this.bottom,
                        width: this.width,
                        height: this.height,
                        totalHeight: this.totalHeight,
                        items: this.items,
                        visible: this.visible,
                        rendered: this.rendered,
                        required: this.required,
                        galleryConfig: e
                    }
                }, Object.defineProperty(e.prototype, "key", {
                    get: function() {
                        return "group_" + this.id
                    },
                    enumerable: !1,
                    configurable: !0
                }), e
            }(),
            D = function() {
                function e() {}
                return e.convertDtoToLayoutItem = function(e) {
                    if (!!(e.id && e.width > 0 && e.height > 0)) return e;
                    var t = e.metadata || e.metaData,
                        i = "object" == typeof t ? t : o.a.parseStringObject(t) || {};
                    return Object(r.a)({
                        id: e.itemId || e.photoId,
                        width: i.width,
                        height: i.height
                    }, e)
                }, e.convertToGalleryItems = function(e, t, i) {
                    void 0 === t && (t = {}), void 0 === i && (i = []), e.galleryItems = [];
                    for (var o = 0; o < e.columns.length; o++) {
                        var n = e.columns[o];
                        n.galleryGroups = [];
                        for (var a = n.groups || n, s = 0; s < a.length; s++) {
                            for (var l = a[s], u = [], c = 0; c < l.items.length; c++) {
                                var h = l.items[c],
                                    p = Object(r.a)({
                                        scheme: h,
                                        dto: h.dto
                                    }, t),
                                    d = i[h.idx],
                                    g = void 0;
                                d && d.id && d.id === h.id ? (g = d).update(p) : g = new w(p), u[c] = g, e.galleryItems[h.idx] = u[c]
                            }
                            n.galleryGroups[s] = new C({
                                scheme: l,
                                dto: l.dto,
                                items: u
                            })
                        }
                    }
                    return e
                }, e.convertExistingStructureToGalleryItems = function(e, t, i) {
                    void 0 === i && (i = {}), o.a.isVerbose() && console.time("convertToGalleryItems"), e.galleryItems || (e.galleryItems = []);
                    var r = e.columns.slice(-1)[0].galleryGroups.pop();
                    r && e.galleryItems.splice(-r.items.length);
                    for (var n = 0; n < t.columns.length; n++) {
                        var a = t.columns[n],
                            s = e.columns[n] || a;
                        s.galleryGroups || (s.galleryGroups = []);
                        for (var l = a.groups || a, u = 0; u < l.length; u++) {
                            for (var c = l[u], h = [], p = 0; p < c.items.length; p++) {
                                var d = c.items[p];
                                e.galleryItems[d.idx] ? e.galleryItems[d.idx].processScheme(d) : (h[p] = new w(Object.assign({
                                    scheme: d,
                                    dto: d.dto
                                }, i)), e.galleryItems[d.idx] = h[p])
                            }
                            s.galleryGroups[u] ? s.galleryGroups[u].processScheme(c) : s.galleryGroups[u] = new C({
                                scheme: c,
                                dto: c.dto,
                                items: h
                            })
                        }
                        a.galleryGroups = s.galleryGroups
                    }
                    return t.galleryItems = e.galleryItems, o.a.isVerbose() && console.timeEnd("convertToGalleryItems"), t
                }, e
            }(),
            A = function() {
                function e(e) {
                    this.ratio = 0, this.groups = [], this.width = 0, this.height = 0, this.isFullWidth = !0, this.idx = e.idx, this.groupsPerStrip = e.groupsPerStrip, this.scrollDirection = e.scrollDirection, this.targetItemSize = e.targetItemSize, this.container = e.container
                }
                return e.prototype.addGroup = function(e) {
                    this.hasGroups && (this.lastGroup.isLastGroup = !1), this.groups.push(e), e.stripIdx = this.idx, e.Strip = this, this.lastGroup.isLastGroup = !0, this.lastGroup.stripWidth = this.height * this.ratio
                }, e.prototype.markAsIncomplete = function() {
                    this.isFullWidth = !1, this.lastGroup.isLastGroup = !1
                }, e.prototype.canRemainIncomplete = function() {
                    return !(this.groupsPerStrip > 0) && 1.5 * this.targetItemSize < this.height
                }, e.prototype.setWidth = function(e) {
                    this.width = e, this.hasGroups && (this.lastGroup.stripWidth = e)
                }, e.prototype.resizeToHeight = function(e) {
                    this.height = e;
                    for (var t = 0, i = 0, r = 0, o = this.groups; r < o.length; r++) {
                        var n = o[r];
                        n.setLeft(t), n.width += i, n.resizeToHeight(e), i = n.width, n.round(), i -= n.width, t += n.width
                    }
                }, e.prototype.isFull = function(e, t) {
                    if (!this.hasGroups) return !1;
                    var i = this.groupsPerStrip,
                        r = this.scrollDirection,
                        o = this.targetItemSize;
                    if (i > 0) return this.groups.length >= i;
                    var n, a = this.container.galleryWidth;
                    if (1 === r) n = !1;
                    else {
                        var s = a / (this.ratio + e.ratio) - o,
                            l = a / this.ratio - o;
                        (n = !isNaN(s) && !isNaN(l) && (l < 0 || s < 0 && Math.abs(l) < Math.abs(s))) && t && (n = Number(Math.abs(l)) < Math.abs(s))
                    }
                    return n
                }, Object.defineProperty(e.prototype, "hasGroups", {
                    get: function() {
                        return this.groups.length > 0
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "lastGroup", {
                    get: function() {
                        return this.groups[this.groups.length - 1]
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "scheme", {
                    get: function() {
                        return {
                            idx: this.idx,
                            groups: this.groups.map((function(e) {
                                return e.scheme
                            })),
                            width: this.width,
                            height: this.height,
                            ratio: this.ratio,
                            isFullWidth: this.isFullWidth
                        }
                    },
                    enumerable: !1,
                    configurable: !0
                }), e
            }(),
            L = function() {
                function e(e, t, i, r, o) {
                    this.idx = e, this.groups = [], this.height = 0, this.width = t, this.left = i, this.cubedHeight = r, this.infoWidth = o || 0
                }
                return e.prototype.addGroup = function(e) {
                    this.addGroups([e])
                }, e.prototype.addGroups = function(e) {
                    var t = this;
                    this.groups = this.groups.concat(e), e.forEach((function(e) {
                        e.columnIdx = t.idx, e.Column = t
                    }))
                }, Object.defineProperty(e.prototype, "totalWidth", {
                    get: function() {
                        return this.width + this.infoWidth
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "scheme", {
                    get: function() {
                        return {
                            idx: this.idx,
                            groups: this.groups.map((function(e) {
                                return e.scheme
                            })),
                            width: this.width,
                            height: this.height
                        }
                    },
                    enumerable: !1,
                    configurable: !0
                }), e
            }(),
            M = new(function() {
                function e() {}
                return Object.defineProperty(e.prototype, "layout", {
                    get: function() {
                        return this._layout
                    },
                    set: function(e) {
                        this._layout = Object(r.a)({}, e)
                    },
                    enumerable: !1,
                    configurable: !0
                }), e
            }()),
            R = function() {
                function e(e) {
                    this.ready = !1, this.pointer = 0, this.layoutItems = [], this.findNeighborItem = this.findNeighborItem.bind(this), this.updateParams(e), !1 !== this.createLayoutOnInit && this.createLayout(e)
                }
                return e.prototype.updateParams = function(e) {
                    this.srcItems = e.items, this.styleParams = O.addDefaultStyleParams(e.styleParams), this.container = O.convertContainer(e.container, this.styleParams);
                    var t = e.options || {};
                    this.useExistingLayout = !!t.useExistingLayout, this.createLayoutOnInit = t.createLayoutOnInit, this.showAllItems = !!t.showAllItems || !!e.showAllItems, this.useLayoutStore = !!t.useLayoutStore
                }, e.prototype.verifyGalleryState = function() {
                    if (!this.container.galleryWidth) throw this.ready = !1, new Error("Layouter: cannot create layout, galleryWidth is undefined or 0");
                    if (!this.styleParams.targetItemSize) throw this.ready = !1, new Error("Layouter: cannot create layout, targetItemSize is undefined or 0")
                }, e.prototype.calcNumberOfColumns = function(e, t) {
                    var i = 1;
                    if (this.styleParams.isVertical)
                        if (this.styleParams.fixedColumns > 0) i = this.styleParams.fixedColumns;
                        else {
                            var r = e / t,
                                o = [Math.floor, Math.ceil],
                                n = o.map((function(e) {
                                    return e(r)
                                })).map((function(t) {
                                    return Math.round(e / t)
                                })).map((function(e) {
                                    return Math.abs(t - e)
                                }));
                            i = (0, o[n.indexOf(Math.min.apply(Math, n))])(r) || 1
                        }
                    else i = 1;
                    return i
                }, e.prototype.findShortestColumn = function(e, t) {
                    var i = e[0];
                    if (this.styleParams.placeGroupsLtr) i = e[t % e.length];
                    else
                        for (var r = -1, o = 0, n = e; o < n.length; o++) {
                            var a = n[o],
                                s = a.height;
                            (s < r || r < 0) && (r = s, i = a)
                        }
                    return i
                }, e.prototype.saveExistingLayout = function() {
                    this.useLayoutStore && (M.layout = {
                        pointer: this.pointer,
                        layoutItems: this.layoutItems,
                        groups: this.groups,
                        strips: this.strips,
                        groupIdx: this.groupIdx,
                        groupItems: this.groupItems,
                        group: this.group,
                        strip: this.strip,
                        targetItemSize: this.targetItemSize,
                        galleryHeight: this.galleryHeight,
                        columns: this.columns
                    })
                }, e.prototype.prepareLayoutParams = function() {
                    var e = this;
                    if (this.useExistingLayout && this.pointer > 0) {
                        if (this.useLayoutStore) Object.assign(this, M.layout);
                        else if (this.styleParams.isVertical) {
                            this.groups.slice(-3).forEach((function(t) {
                                var i = e.columns[t.columnIdx];
                                i && (i.height -= t.totalHeight, i.groups.splice(-1, 1)), e.groups.splice(-1, 1), t.realItems.forEach((function() {
                                    e.layoutItems.splice(-1, 1), e.pointer--
                                })), e.groupIdx--
                            }))
                        } else {
                            if (1 === this.scrollDirection) {
                                this.groups.slice(-1).forEach((function(t) {
                                    var i = e.columns[0];
                                    i && i.groups.splice(-1, 1);
                                    var r = e.strips[0];
                                    r && (r.setWidth(r.width - t.width), r.ratio = r.width / r.height, r.groups.splice(-1, 1), e.strip = r), e.strips = [], e.groups.splice(-1, 1), t.realItems.forEach((function() {
                                        e.layoutItems.splice(-1, 1), e.pointer--
                                    })), e.groupIdx--
                                })), this.galleryHeight = 0
                            } else {
                                var t = this.strips.slice(-2);
                                t && (t.forEach((function(t) {
                                    t && (e.strips.splice(-1, 1), t.groups.forEach((function(t) {
                                        e.groups.splice(-1, 1), t.items.forEach((function() {
                                            e.layoutItems.splice(-1, 1), e.pointer--
                                        })), e.groupIdx--
                                    })))
                                })), this.galleryHeight = this.strips.reduce((function(e, t) {
                                    return e + t.height
                                }), 0), this.strip = new A({
                                    idx: this.strips.length + 1,
                                    container: this.container,
                                    groupsPerStrip: this.styleParams.groupsPerStrip,
                                    scrollDirection: this.styleParams.scrollDirection,
                                    targetItemSize: this.targetItemSize
                                }))
                            }
                            this.groupItems = []
                        }
                        this.item = {}, this.pointer = Math.max(0, this.pointer), this.maxLoops = 10 * this.srcItems.length
                    } else {
                        if (this.pointer = 0, this.firstGroup = !1, this.layoutItems = [], this.groups = [], this.strips = [], this.styleParams.forceFullHeight) this.targetItemSize = Math.sqrt(this.container.galleryHeight * this.container.galleryWidth / this.srcItems.length);
                        else {
                            var i = void 0;
                            i = "function" == typeof this.styleParams.targetItemSize ? this.styleParams.targetItemSize() : this.styleParams.targetItemSize, this.targetItemSize = Math.floor(i) + Math.ceil(2 * (this.styleParams.imageMargin / 2 - this.styleParams.layoutParams.gallerySpacing))
                        }
                        this.galleryWidth = Math.floor(this.container.galleryWidth), this.maxGroupSize = this.getMaxGroupSize(), this.groupIdx = 0, this.item = {}, this.groupItems = [], this.group = {}, this.bounds = this.container.bounds || {}, this.strip = new A({
                            idx: 1,
                            container: this.container,
                            groupsPerStrip: this.styleParams.groupsPerStrip,
                            scrollDirection: this.styleParams.scrollDirection,
                            targetItemSize: this.targetItemSize
                        }), this.galleryHeight = 0, this.numOfCols = this.calcNumberOfColumns(this.galleryWidth, this.targetItemSize), this.targetItemSize = this.styleParams.isVertical ? Math.floor(this.galleryWidth / this.numOfCols) : this.targetItemSize;
                        var r = this.styleParams,
                            o = r.columnWidths,
                            n = r.externalInfoWidth,
                            a = r.imageMargin,
                            s = this.styleParams.layoutParams.cropRatio,
                            l = !1;
                        if (o && o.length > 0) {
                            for (l = o.split(",").map(Number); l.length < this.numOfCols;) l.push.apply(l, l);
                            l = l.slice(0, this.numOfCols);
                            var u = this.galleryWidth / l.reduce((function(e, t) {
                                return e + t
                            }), 0);
                            l = l.map((function(e) {
                                return Math.round(e *= u)
                            }))
                        }
                        var c, h = 0,
                            p = this.galleryWidth;
                        this.columns = Array(this.numOfCols).fill(0).map((function(t, i) {
                            var r = l ? l[i] : Math.round(p / (e.numOfCols - i)),
                                o = h;
                            h += r, p -= r;
                            var u = Math.round(n > 1 ? n : n * r) || 0;
                            return r -= u, c = c || (e.targetItemSize - u - a) / s + a, new L(i, r, o, c, u)
                        })), this.maxLoops = 10 * this.srcItems.length
                    }
                }, e.prototype.createLayout = function(e) {
                    for (void 0 !== e && this.updateParams(e), this.verifyGalleryState(), this.prepareLayoutParams(); this.srcItems[this.pointer];) {
                        if (6 === this.imagesLeft && this.saveExistingLayout(), this.maxLoops--, this.maxLoops <= 0) return console.error("Cannot create layout, maxLoops reached!!!"), !1;
                        if (this.item = new I({
                                idx: this.pointer,
                                inGroupIdx: this.groupItems.length + 1,
                                scrollTop: this.galleryHeight,
                                dto: this.srcItems[this.pointer],
                                container: this.container,
                                styleParams: this.styleParams
                            }), this.layoutItems[this.pointer] = this.item, this.groupItems.push(this.item), this.groupItems.length < this.maxGroupSize && this.srcItems[this.pointer + 1]) this.pointer++;
                        else {
                            if (this.group = new T({
                                    idx: this.groupIdx,
                                    stripIdx: this.strip.idx,
                                    inStripIdx: this.strip.groups.length + 1,
                                    top: this.galleryHeight,
                                    items: this.groupItems,
                                    isLastItems: this.isLastImages,
                                    targetItemSize: this.targetItemSize,
                                    showAllItems: this.showAllItems,
                                    container: this.container,
                                    styleParams: this.styleParams
                                }), this.groups[this.groupIdx] = this.group, this.pointer += this.group.realItems.length - this.groupItems.length, this.groupIdx++, this.groupItems = [], this.styleParams.isVertical) {
                                var t = this.findShortestColumn(this.columns, this.groups.length - 1);
                                this.group.setCubedHeight(t.cubedHeight), this.group.resizeToWidth(t.width), this.group.round(), this.group.setTop(t.height), this.group.setLeft(t.left), t.addGroup(this.group), t.height += this.group.totalHeight, this.galleryHeight < t.height && (this.galleryHeight = t.height)
                            } else {
                                if (this.strip.isFull(this.group, this.isLastImage)) {
                                    this.strip.resizeToHeight(this.galleryWidth / this.strip.ratio), this.strip.setWidth(this.galleryWidth), this.galleryHeight += this.strip.height, this.columns[0].addGroups(this.strip.groups), this.strips.push(this.strip), this.strip = new A({
                                        idx: this.strip.idx + 1,
                                        container: this.container,
                                        groupsPerStrip: this.styleParams.groupsPerStrip,
                                        scrollDirection: this.styleParams.scrollDirection,
                                        targetItemSize: this.targetItemSize
                                    }), this.pointer -= this.group.realItems.length - 1, this.groupIdx--;
                                    continue
                                }
                                this.group.setTop(this.galleryHeight), this.strip.ratio += this.group.ratio, this.strip.height = this.galleryWidth / this.strip.ratio, this.strip.setWidth(this.galleryWidth), this.strip.addGroup(this.group), this.isLastImage && this.strip.hasGroups && (1 === this.styleParams.scrollDirection ? this.strip.height = this.container.galleryHeight + (this.styleParams.imageMargin / 2 - this.styleParams.layoutParams.gallerySpacing) : this.strip.canRemainIncomplete() && (this.strip.height = this.targetItemSize, this.strip.markAsIncomplete()), this.strip.resizeToHeight(this.strip.height), this.galleryHeight += this.strip.height, this.columns[0].addGroups(this.strip.groups), this.strips.push(this.strip))
                            }
                            this.firstGroup || (this.firstGroup = this.group), this.pointer++
                        }
                    }
                    if (this.styleParams.forceFullHeight) {
                        var i = this.container.galleryHeight / this.galleryHeight;
                        this.items.map((function(e) {
                            return e.cubeImages = !0, e.cropRatio = e.ratio = e.width / (e.height * i), e.height *= i, e
                        })), this.groups.map((function(e) {
                            return e.height *= i, e.setTop(e.top * i), e.resizeItems(), e
                        }))
                    }
                    return this.lastGroup = this.group, this.colWidth = Math.floor(this.galleryWidth / this.numOfCols), this.height = this.galleryHeight - 2 * (this.styleParams.imageMargin / 2 - this.styleParams.layoutParams.gallerySpacing), this.width = this.lastGroup.left + this.lastGroup.width, this.ready = !0, this.scheme
                }, e.prototype.lastVisibleItemIdxInHeight = function(e) {
                    for (var t = this.items.length - 1; t >= 0; t--) {
                        if (this.items[t].offset.top < e) return t
                    }
                    return this.items.length - 1
                }, e.prototype.lastVisibleItemIdx = function() {
                    return this.lastVisibleItemIdxInHeight(this.container.galleryHeight - 100)
                }, e.prototype.findNeighborItem = function(e, t) {
                    var i, r = this,
                        o = this.layoutItems[e],
                        n = function(e, t, i) {
                            var o, n, a, s = null,
                                l = {};
                            return r.layoutItems.forEach((function(r) {
                                o = r.offset.top + r.height / 2, n = r.offset.left + r.width / 2, a = Math.sqrt(Math.pow(o - t, 2) + Math.pow(n - e, 2)), (null === s || a > 0 && a < s) && i(e, t, n, o) && (s = a, l = r)
                            })), l
                        };
                    switch (t) {
                        case "up":
                            i = n(o.offset.left + o.width / 2, o.offset.top, (function(e, t, i, r) {
                                return r < t
                            }));
                            break;
                        case "left":
                            i = n(o.offset.left, o.offset.top + o.height / 2, (function(e, t, i) {
                                return i < e
                            }));
                            break;
                        case "down":
                            i = n(o.offset.left + o.width / 2, o.offset.bottom, (function(e, t, i, r) {
                                return r > t
                            }));
                            break;
                        default:
                        case "right":
                            i = n(o.offset.right, o.offset.top + o.height / 2, (function(e, t, i) {
                                return i > e
                            }))
                    }
                    return i.idx >= 0 ? i.idx : (console.warn("Could not find offset for itemIdx", e, t), e)
                }, e.prototype.getMaxGroupSize = function() {
                    var e = 1;
                    try {
                        var t = "string" == typeof this.styleParams.groupTypes && this.styleParams.groupTypes.length > 0 ? this.styleParams.groupTypes.split(",") : this.styleParams.groupTypes;
                        e = t.length > 0 ? t.reduce((function(e, t) {
                            return Math.max(e, parseInt(t))
                        }), 1) : Number(t), e = Math.min(e, this.styleParams.groupSize)
                    } catch (t) {
                        console.error("couldn't calculate max group size - returing 3 (?)", t), e = 3
                    }
                    return e
                }, Object.defineProperty(e.prototype, "isLastImage", {
                    get: function() {
                        return !this.srcItems[this.pointer + 1]
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "isLastImages", {
                    get: function() {
                        return !this.srcItems[this.pointer + 1]
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "imagesLeft", {
                    get: function() {
                        return this.srcItems.length - this.pointer - 1
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "items", {
                    get: function() {
                        return this.layoutItems
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(e.prototype, "scheme", {
                    get: function() {
                        return {
                            items: this.items.map((function(e) {
                                return e.scheme
                            })),
                            groups: this.groups.map((function(e) {
                                return e.scheme
                            })),
                            strips: this.strips.map((function(e) {
                                return e.scheme
                            })),
                            columns: this.columns.map((function(e) {
                                return e.scheme
                            })),
                            height: this.height,
                            width: this.width
                        }
                    },
                    enumerable: !1,
                    configurable: !0
                }), e
            }(),
            B = {
                layoutParams: {
                    gallerySpacing: 0,
                    cropRatio: 1
                },
                isRTL: !1,
                isVertical: !1,
                minItemSize: 120,
                groupSize: 3,
                chooseBestGroup: !0,
                groupTypes: "1,2h,2v,3t,3b,3l,3r",
                cubeImages: !1,
                cubeType: "fill",
                smartCrop: !1,
                fullscreen: !0,
                videoLoop: !0,
                videoSound: !1,
                videoPlay: "hover",
                videoSpeed: 1,
                numberOfImagesPerRow: 3,
                collageDensity: .8,
                galleryTextAlign: "center",
                imageMargin: 10,
                fixedColumns: 0,
                showArrows: !0,
                hasThumbnails: !1,
                galleryThumbnailsAlignment: "bottom",
                gridStyle: 0,
                titlePlacement: n.a.placements.SHOW_ON_HOVER,
                hoveringBehaviour: n.a.infoBehaviourOnHover.APPEARS,
                isAutoSlideshow: !1,
                slideshowLoop: !1,
                playButtonForAutoSlideShow: !1,
                pauseAutoSlideshowOnHover: !0,
                allowSlideshowCounter: !1,
                autoSlideshowInterval: 4,
                arrowsSize: 23,
                slideshowInfoSize: 200,
                imageLoadingMode: n.a.loadingMode.BLUR,
                scrollAnimation: n.a.scrollAnimations.NO_EFFECT,
                overlayAnimation: n.a.overlayAnimations.NO_EFFECT,
                imageHoverAnimation: n.a.imageHoverAnimations.NO_EFFECT,
                itemBorderWidth: 0,
                itemBorderRadius: 0,
                itemEnableShadow: !1,
                itemShadowBlur: 20,
                loadMoreAmount: "all",
                itemShadowDirection: 135,
                itemShadowSize: 10,
                imageInfoType: n.a.infoType.NO_BACKGROUND,
                textBoxBorderRadius: 0,
                textBoxBorderWidth: 0,
                textBoxHeight: 200,
                textImageSpace: 10,
                scrollDirection: 0,
                slideAnimation: n.a.slideAnimations.SCROLL,
                autoSlideshowType: n.a.autoSlideshowTypes.INTERVAL,
                autoSlideshowContinuousSpeed: 200
            },
            k = Object(a.d)(B, {
                layoutParams: {
                    repeatingGroupTypes: ""
                },
                behaviourParams: {
                    item: {
                        content: {
                            magnificationValue: 2
                        }
                    }
                },
                galleryLayout: -1,
                gallerySizePx: 0,
                gallerySizeRatio: 0,
                gallerySizeType: n.a.gallerySizeType.SMART,
                itemShadowOpacityAndColor: "",
                arrowsColor: "",
                textBoxBorderColor: "",
                allowContextMenu: !1,
                hidePlay: !1,
                gallerySize: 30,
                cropOnlyFill: !1,
                rotatingCropRatios: "",
                columnWidths: "",
                numberOfImagesPerCol: 1,
                groupsPerStrip: 0,
                imageMargin: 10,
                scatter: 0,
                rotatingScatter: "",
                placeGroupsLtr: !1,
                enableInfiniteScroll: !0,
                thumbnailSpacings: 4,
                enableScroll: !0,
                scrollSnap: !1,
                itemClick: n.a.itemClick.NOTHING,
                slideAnimation: n.a.slideAnimations.SCROLL,
                scrollDuration: 400,
                arrowsPosition: n.a.arrowsPosition.ON_GALLERY,
                arrowsVerticalPosition: n.a.arrowsVerticalPosition.ITEM_CENTER,
                arrowsPadding: 23,
                thumbnailSize: 120,
                magicLayoutSeed: 1,
                imagePlacementAnimation: n.a.imagePlacementAnimations.NO_EFFECT,
                calculateTextBoxWidthMode: n.a.textBoxWidthCalculationOptions.PERCENT,
                textBoxWidth: 200,
                textBoxWidthPercent: 50,
                loadMoreButtonText: "",
                videoSpeed: "1",
                showVideoControls: !1,
                shouldIndexDirectShareLinkInSEO: !0,
                slideTransition: n.a.slideTransition.ease,
                useMaxDimensions: !1,
                enableVideoPlaceholder: !0,
                overlayPosition: n.a.overlayPositions.LEFT,
                overlaySize: 100,
                overlaySizeType: n.a.overlaySizeType.PERCENT,
                overlayPadding: 0,
                cubeFitPosition: n.a.cubeFitPosition.MIDDLE,
                magnificationLevel: 2
            });
        var j = i(7),
            N = i(48),
            U = new(function() {
                function e() {
                    this.options = {}, this.container = {}, this.id = "", this._cache = {}
                }
                return e.prototype.getOrPutInCache = function(e, t) {
                    return this._cache[e] || (this._cache[e] = t()), this._cache[e]
                }, e.prototype.dumpCache = function() {
                    this._cache = {}
                }, e.prototype.updateParams = function(e) {
                    var t = e.options,
                        i = e.container,
                        r = e.id;
                    this.dumpCache(), this.id = r || this.id, this.options = t || this.options, this.container = i || this.container
                }, e.prototype.getGalleryDimensions = function() {
                    var e = this;
                    return this.getOrPutInCache("galleryDimensions", (function() {
                        var t = {
                            galleryWidth: Math.ceil(e.getGalleryWidth()),
                            galleryHeight: Math.ceil(e.getGalleryHeight()),
                            scrollBase: e.container.scrollBase ? Math.ceil(e.container.scrollBase) : 0,
                            height: Math.ceil(e.container.height),
                            width: Math.ceil(e.container.width)
                        };
                        if (e.container.externalScrollBase && (t.scrollBase += e.container.externalScrollBase), e.options.hasThumbnails) {
                            var i = e.options.thumbnailSize + e.options.layoutParams.gallerySpacing + 3 * e.options.thumbnailSpacings;
                            switch (e.options.galleryThumbnailsAlignment) {
                                case "top":
                                case "bottom":
                                    t.galleryHeight -= i;
                                    break;
                                case "left":
                                case "right":
                                    t.galleryWidth -= i
                            }
                        } else n.a.isLayout("SLIDESHOW")(e.options) && (t.galleryHeight -= e.options.slideshowInfoSize);
                        return t
                    }))
                }, e.prototype.getGalleryWidth = function() {
                    var e = this;
                    return this.getOrPutInCache("galleryWidth", (function() {
                        var t = Math.floor(e.container.width) + 2 * e.getDimensionFix();
                        return e.options.arrowsPosition === n.a.arrowsPosition.OUTSIDE_GALLERY && e.options.scrollDirection === n.a.scrollDirection.HORIZONTAL && (t -= 2 * (e.options.arrowsSize + 40 + e.options.imageMargin / 2)), t
                    }))
                }, e.prototype.getGalleryHeight = function() {
                    var e = this;
                    return this.getOrPutInCache("galleryHeight", (function() {
                        return Math.floor((e.container.height > 0 ? e.container.height : 0) + (e.options.scrollDirection === n.a.scrollDirection.HORIZONTAL ? e.getDimensionFix() : 0))
                    }))
                }, e.prototype.getDimensionFix = function() {
                    var e = this;
                    return this.getOrPutInCache("dimensionFix", (function() {
                        return Number(e.options.imageMargin / 2) - Number(e.options.layoutParams.gallerySpacing)
                    }))
                }, e.prototype.getGalleryRatio = function() {
                    var e = this;
                    return this.getOrPutInCache("galleryRatio", (function() {
                        var t = e.getGalleryDimensions();
                        return t.galleryWidth / t.galleryHeight
                    }))
                }, e
            }()),
            F = new(function() {
                function e() {}
                return e.prototype.createBlueprint = function(e) {
                    var t = e.params,
                        i = e.lastParams,
                        r = e.existingBlueprint,
                        o = e.blueprintManagerId,
                        a = e.isUsingCustomInfoElements,
                        s = {};
                    try {
                        var l = t.container,
                            u = t.items,
                            c = t.options,
                            h = i.container,
                            p = i.items,
                            d = i.options,
                            g = this.formatItemsIfNeeded(u, p),
                            m = g.formattedItems,
                            f = g.changed,
                            y = this.formatOptionsIfNeeded(c, d, a),
                            S = y.formattedOptions,
                            b = y.changed,
                            v = this.formatContainerIfNeeded(l, h, d, S || r.options, b),
                            _ = v.formattedContainer,
                            O = v.changed,
                            I = f || b || O;
                        if (s = {
                                itemsChanged: f,
                                optionsChanged: b,
                                containerChanged: O
                            }, I || !r) {
                            r || (r = {});
                            var w = this.createStructure({
                                formattedContainer: _ || r.container,
                                formattedItems: m || r.items,
                                formattedOptions: S || r.options
                            }, I);
                            S && (r.options = S), m && (r.items = m), _ && (r.container = _), r.structure = w, r.options.scrollDirection === n.a.scrollDirection.VERTICAL && r.options.enableInfiniteScroll && (r.container.height = r.container.galleryHeight = w.height)
                        }
                    } catch (e) {
                        console.error("Could not create blueprint, error:", e)
                    }
                    return {
                        blueprint: r,
                        changedParams: s,
                        blueprintManagerId: o
                    }
                }, e.prototype.formatItemsIfNeeded = function(e, t) {
                    var i, r = {
                            items: "",
                            itemsAdded: ""
                        },
                        o = t,
                        n = !1;
                    return ! function(e, t) {
                        if (e === t) return r.itemsAdded = "items are the same object.", !1;
                        if (!e) return r.itemsAdded = "new items do not exist.", !1;
                        if (!t || t && 0 === t.length) return r.itemsAdded = "old items do not exist.", !1;
                        if (t.length >= e.length) return r.itemsAdded = "more old items than new items.", !1;
                        var i = t.reduce((function(t, i, r) {
                            return t && i.id === e[r].itemId
                        }), !0);
                        return i || (r.itemsAdded = "items ids were changed. "), i
                    }(e, o) ? function(e, t) {
                        return e === t ? (r.items = "items are the same object.", !1) : e ? !t || t && 0 === t.length ? (r.items = "old items do not exist.", !0) : t.length !== e.length ? (r.items = "more new items than old items (or vice versa).", !0) : e.some((function(e, i) {
                            var o = t[i];
                            try {
                                var n = !e || !o || e.itemId !== o.itemId || e.mediaUrl !== o.mediaUrl || e.measured !== o.measured || e.metaData && o.metaData && (e.metaData.type !== o.metaData.type || e.metaData.title !== o.metaData.title || e.metaData.description !== o.metaData.description) || e.metaData && "text" === e.metaData.type && o.metaData && "text" === o.metaData.type && (e.metaData.width !== o.metaData.width || e.metaData.height !== o.metaData.height || e.metaData.html !== o.metaData.html || e.metaData.textStyle !== o.metaData.textStyle || e.metaData.editorHtml !== o.metaData.editorHtml);
                                return n && (r.items = "items #" + i + " id was changed."), n
                            } catch (e) {
                                return r.items = "an error occured", !0
                            }
                        }), !1) : (r.items = "new items do not exist.", !1)
                    }(e, o) && (i = e.map((function(e) {
                        return Object.assign(D.convertDtoToLayoutItem(e))
                    })), this.gettingMoreItems = !1, n = !0) : (i = o.concat(e.slice(o.length).map((function(e) {
                        return D.convertDtoToLayoutItem(e)
                    }))), this.gettingMoreItems = !1, n = !0), {
                        formattedItems: i,
                        changed: n
                    }
                }, e.prototype.formatOptionsIfNeeded = function(e, t, i) {
                    var r, o = {
                            options: ""
                        },
                        n = !1;
                    if (function(e, t) {
                            if (!e) return o.options = "no new options.", !1;
                            if (!t) return o.options = "no old options.", !0;
                            try {
                                var i = {};
                                Object.keys(t).sort().forEach((function(e) {
                                    return i[e] = t[e]
                                }));
                                var r = {};
                                Object.keys(e).sort().forEach((function(t) {
                                    return r[t] = e[t]
                                }));
                                var n = JSON.stringify(r) !== JSON.stringify(i);
                                return n && (o.options = "options were changed."), n
                            } catch (e) {
                                return console.error("Could not compare options", e), !1
                            }
                        }(e, t)) {
                        var s = function(e) {
                            var t = Object(a.c)(k),
                                i = Object(a.c)(e),
                                r = Object.assign({}, t, i);
                            return Object.keys(r).forEach((function(e) {
                                void 0 === r[e] && (r[e] = k[e])
                            })), Object(a.b)(r)
                        }(_(e));
                        r = _(Object(j.b)(Object(N.a)(s), i)), n = !0
                    }
                    return {
                        formattedOptions: r,
                        changed: n
                    }
                }, e.prototype.formatContainerIfNeeded = function(e, t, i, r, o) {
                    var a, s = {
                            container: ""
                        },
                        l = !1;
                    return (o || function(e) {
                        var t = e.newContainerParams,
                            i = e.oldContainerParams;
                        if (!e.oldOptions || !i) return s.container = "no old container or options. ", !0;
                        if (!t) return s.container = "no new container.", !1;
                        var o = {
                            height: (r.scrollDirection !== n.a.scrollDirection.VERTICAL || !r.enableInfiniteScroll) && (!!t.height && t.height !== i.height),
                            width: !i || !!t.width && t.width !== i.width
                        };
                        return Object.keys(o).reduce((function(e, t) {
                            return o[t] && (s.container += "container." + t + " has changed. "), e || o[t]
                        }), !1)
                    }({
                        newContainerParams: e,
                        oldContainerParams: t,
                        oldOptions: i
                    })) && (U.updateParams({
                        options: r,
                        container: e
                    }), l = !0, a = Object.assign({}, e, U.getGalleryDimensions())), {
                        formattedContainer: a,
                        changed: l
                    }
                }, e.prototype.createStructure = function(e) {
                    var t = e.formattedContainer,
                        i = e.formattedOptions,
                        r = {
                            items: e.formattedItems,
                            container: t,
                            styleParams: i,
                            options: {
                                showAllItems: !0,
                                skipVisibilitiesCalc: !0,
                                useLayoutStore: !1
                            }
                        };
                    return r.options.createLayoutOnInit = !1, this.layouter = new R(r), this.layouter.createLayout(r)
                }, e
            }()),
            W = i(25),
            G = function() {
                function e(e) {
                    var t = e.id;
                    this.id = t + "'s blueprintsManager", this.currentState = {}, this.existingBlueprint = {}, this.cache = {}, this.api = {}, this.currentState.totalItemsCount = 1 / 0, this.onBlueprintReady = function() {}, this.loopingItems = !1
                }
                return e.prototype.init = function(e) {
                    this.api = e.api, this.currentState.totalItemsCount = e && e.totalItemsCount || this.currentState.totalItemsCount, W.d.setDeviceType(e.deviceType)
                }, e.prototype.createBlueprint = function(e) {
                    return void 0 === e && (e = {}), Object(r.b)(this, void 0, void 0, (function() {
                        var t, i, o, n, a, s, l = this;
                        return Object(r.c)(this, (function(u) {
                            switch (u.label) {
                                case 0:
                                    return this.currentState.totalItemsCount = e.totalItemsCount || this.api.getTotalItemsCount && this.api.getTotalItemsCount() || this.currentState.totalItemsCount, this.currentState.isUsingCustomInfoElements = e.isUsingCustomInfoElements || this.api.isUsingCustomInfoElements && this.api.isUsingCustomInfoElements() || this.currentState.isUsingCustomInfoElements, t = [Object(r.a)({}, e)], [4, this.completeParams(e)];
                                case 1:
                                    return e = r.a.apply(void 0, t.concat([u.sent()])), [4, function(e) {
                                        return Object(r.b)(l, void 0, void 0, (function() {
                                            return Object(r.c)(this, (function(t) {
                                                switch (t.label) {
                                                    case 0:
                                                        return this.api.createBlueprintImp ? [4, this.api.createBlueprintImp(e)] : [3, 2];
                                                    case 1:
                                                        return [2, t.sent()];
                                                    case 2:
                                                        return [4, F.createBlueprint(e)];
                                                    case 3:
                                                        return [2, t.sent()]
                                                }
                                            }))
                                        }))
                                    }({
                                        params: e,
                                        lastParams: this.currentState,
                                        existingBlueprint: this.existingBlueprint,
                                        blueprintManagerId: this.id,
                                        isUsingCustomInfoElements: this.currentState.isUsingCustomInfoElements
                                    })];
                                case 2:
                                    return i = u.sent(), o = i.blueprint, n = i.changedParams, a = Object.values(n).some((function(e) {
                                        return !!e
                                    })), s = Object.keys(o).length > 0, this.updateLastParamsIfNeeded(e, n, s), s && this.api.onBlueprintReady && this.api.onBlueprintReady({
                                        blueprint: o,
                                        blueprintChanged: a
                                    }), [2, this.cache[e] = this.existingBlueprint = o]
                            }
                        }))
                    }))
                }, e.prototype.getMoreItems = function(e) {
                    return Object(r.b)(this, void 0, void 0, (function() {
                        var t;
                        return Object(r.c)(this, (function(i) {
                            switch (i.label) {
                                case 0:
                                    return e < this.currentState.totalItemsCount ? [4, this.api.fetchMoreItems(e)] : [3, 2];
                                case 1:
                                    return (t = i.sent()) && this.createBlueprint({
                                        items: t
                                    }), [3, 3];
                                case 2:
                                    this.existingBlueprint.options.slideshowLoop && this.duplicateGalleryItems(), i.label = 3;
                                case 3:
                                    return [2]
                            }
                        }))
                    }))
                }, e.prototype.resetItemLooping = function() {
                    this.loopingItems = !1
                }, e.prototype.createInitialBlueprint = function(e) {
                    this.currentState.totalItemsCount = e.totalItemsCount || this.api.getTotalItemsCount && this.api.getTotalItemsCount() || this.currentState.totalItemsCount, this.currentState.isUsingCustomInfoElements = e.isUsingCustomInfoElements || this.api.isUsingCustomInfoElements && this.api.isUsingCustomInfoElements() || this.currentState.isUsingCustomInfoElements;
                    var t = F.createBlueprint({
                            params: e,
                            lastParams: this.currentState,
                            existingBlueprint: this.existingBlueprint,
                            blueprintManagerId: this.id,
                            isUsingCustomInfoElements: this.currentState.isUsingCustomInfoElements
                        }),
                        i = t.blueprint,
                        r = t.changedParams,
                        o = Object.values(r).some((function(e) {
                            return !!e
                        })),
                        n = Object.keys(i).length > 0;
                    return this.updateLastParamsIfNeeded(e, r, n), n && this.api.onBlueprintReady && this.api.onBlueprintReady({
                        blueprint: i,
                        blueprintChanged: o,
                        initialBlueprint: !0
                    }), n && (this.cache[e] = this.existingBlueprint = i)
                }, e.prototype.createSingleBlueprint = function(e) {
                    void 0 === e && (e = {});
                    var t = e.isUsingCustomInfoElements;
                    return F.createBlueprint({
                        params: e,
                        lastParams: {},
                        existingBlueprint: {},
                        blueprintManagerId: this.id + "_singleBlueprint",
                        isUsingCustomInfoElements: t
                    }).blueprint
                }, e.prototype.duplicateGalleryItems = function() {
                    var e, t = (e = this.currentState.items).concat.apply(e, this.currentState.items.slice(0, this.currentState.totalItemsCount));
                    this.loopingItems = !0, this.createBlueprint({
                        items: t
                    })
                }, e.prototype.completeParams = function(e) {
                    return Object(r.b)(this, void 0, void 0, (function() {
                        var t, i, o, n, a;
                        return Object(r.c)(this, (function(r) {
                            switch (r.label) {
                                case 0:
                                    return i = (t = e || {}).container, o = t.items, n = t.options, a = t.id, [4, this.fetchContainerIfNeeded(i)];
                                case 1:
                                    return i = r.sent(), [4, this.fetchItemsIfNeeded(o)];
                                case 2:
                                    return o = r.sent(), [4, this.fetchOptionsIfNeeded(n)];
                                case 3:
                                    return n = r.sent(), [2, {
                                        container: i,
                                        items: o,
                                        options: n,
                                        id: a
                                    }]
                            }
                        }))
                    }))
                }, e.prototype.fetchContainerIfNeeded = function(e) {
                    return Object(r.b)(this, void 0, void 0, (function() {
                        var t;
                        return Object(r.c)(this, (function(i) {
                            switch (i.label) {
                                case 0:
                                    return function(e) {
                                        var t = !0;
                                        return e && Object.keys(e).length > 0 && (t = !1), t
                                    }(e) ? (t = this.api.fetchContainer) ? [4, this.api.fetchContainer()] : [3, 2] : [3, 3];
                                case 1:
                                    t = i.sent(), i.label = 2;
                                case 2:
                                    e = t || this.currentState.container, i.label = 3;
                                case 3:
                                    return [2, e]
                            }
                        }))
                    }))
                }, e.prototype.fetchItemsIfNeeded = function(e) {
                    return Object(r.b)(this, void 0, void 0, (function() {
                        var t;
                        return Object(r.c)(this, (function(i) {
                            switch (i.label) {
                                case 0:
                                    return function(e) {
                                        var t = !0;
                                        return e && e.length > 0 && (t = !1), t
                                    }(e) ? (t = !this.loopingItems && this.api.fetchItems) ? [4, this.api.fetchItems()] : [3, 2] : [3, 3];
                                case 1:
                                    t = i.sent(), i.label = 2;
                                case 2:
                                    e = t || this.currentState.items, i.label = 3;
                                case 3:
                                    return [2, e]
                            }
                        }))
                    }))
                }, e.prototype.fetchOptionsIfNeeded = function(e) {
                    return Object(r.b)(this, void 0, void 0, (function() {
                        var t;
                        return Object(r.c)(this, (function(i) {
                            switch (i.label) {
                                case 0:
                                    return function(e) {
                                        var t = !0;
                                        return e && Object.keys(e).length > 0 && (t = !1), t
                                    }(e) ? (t = this.api.fetchOptions) ? [4, this.api.fetchOptions()] : [3, 2] : [3, 3];
                                case 1:
                                    t = i.sent(), i.label = 2;
                                case 2:
                                    e = t || this.currentState.options, i.label = 3;
                                case 3:
                                    return [2, e]
                            }
                        }))
                    }))
                }, e.prototype.updateLastParamsIfNeeded = function(e, t, i) {
                    var o = e.items,
                        n = e.container,
                        a = e.options;
                    i && (this.currentState.items = t.itemsChanged ? o : this.currentState.items, this.currentState.container = t.containerChanged ? Object(r.a)({}, n) : this.currentState.container, this.currentState.options = t.optionsChanged ? Object(r.a)({}, a) : this.currentState.options)
                }, e.prototype.needMoreItems = function(e) {
                    this.getMoreItems(e)
                }, e
            }(),
            H = i(10),
            z = i(31),
            V = i(36),
            K = i(33),
            q = i(52),
            Y = i(3),
            Z = i(4),
            X = function(e, t) {
                var i = t.dto.imageToken || t.dto.token;
                return i ? (e = e.replace(/,wm_.+\//g, "/")) + "?token=" + i : e
            },
            J = i(17),
            $ = function(e) {
                var t = void 0 === e ? {} : e,
                    i = t.imageToken,
                    r = t.staticMediaUrls;
                return function(e) {
                    return oe(Object(Y.a)(Object(Y.a)({}, e), {
                        imageToken: i,
                        staticMediaUrls: r
                    }))
                }
            },
            Q = function() {
                for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                for (var i = e[0], r = 1; r < e.length; ++r) i = i.replace(/\/$/, "") + "/" + e[r].replace(/^\//, "");
                return i
            },
            ee = function(e, t) {
                var i = /(^https?)|(^data)|(^blob)/.test(e),
                    r = 0 === e.indexOf(t),
                    o = e.indexOf("preventResize") > 0;
                return i && (!r || o)
            },
            te = function(e, t) {
                return ee(e, t) ? e : Q(t, e)
            },
            ie = function(e) {
                var t = e.item,
                    i = e.originalUrl,
                    r = e.resizeMethod,
                    o = e.requiredWidth,
                    n = e.requiredHeight,
                    a = e.sharpParams,
                    s = e.focalPoint,
                    l = e.useWebp,
                    u = void 0 !== l && l,
                    c = e.devicePixelRatio,
                    h = void 0 === c ? 1 : c,
                    p = e.WIX_MEDIA_PREFIX,
                    d = Math.max(J.a.isMobile() && !J.a.isSSR() ? Z.a.screen.width / 320 : 1, 1);
                o = Math.ceil(o * h * d), n = Math.ceil(n * h * d);
                var g = te(i, p);
                return g += function() {
                    if (!s || s.every((function(e) {
                            return .5 === e
                        }))) return r = "fit" === r ? "fit" : "fill", n <= 1 && o <= 1 && (r = "fill"), "/v1/" + r + "/w_" + o + ",h_" + n;
                    var e = s.map((function(e) {
                        return String(Math.floor(100 * e) / 100).slice(0, 4)
                    })).join("_");
                    return "/v1/fill/w_" + o + ",h_" + n + ",fp_" + e
                }(), g += function() {
                    (a = a || {}).quality || (a.quality = 90), a.quality = Math.min(90, a.quality), !0 === a.allowUsm && (a.usm.usm_a = Math.min(5, Math.max(0, a.usm.usm_a || 0)), a.usm.usm_r = Math.min(128, Math.max(0, a.usm.usm_r || 0)), a.usm.usm_t = Math.min(1, Math.max(0, a.usm.usm_t || 0)));
                    var e = "";
                    return e += ",q_" + a.quality, a.blur && !(i.indexOf(".png") > 0 || i.indexOf(".gif") > 0) && (e += ",blur_" + a.blur), e += a.usm && a.usm.usm_r ? ",usm_" + a.usm.usm_r.toFixed(2) + "_" + a.usm.usm_a.toFixed(2) + "_" + a.usm.usm_t.toFixed(2) : ""
                }(), g += "/" + (u ? i.replace(/[^.]\w*$/, "webp") : i).match(/[^/][\w.~]*$/)[0], g = X(g, t)
            },
            re = function(e) {
                return {
                    jpg: "jpeg",
                    jpeg: "jpeg",
                    png: "png",
                    gif: "gif"
                }[e.match(/[^\.]\w*$/)[0]] || "jpeg"
            },
            oe = function(e) {
                var t = e.item,
                    i = e.originalUrl,
                    r = e.resizeMethod,
                    o = e.requiredWidth,
                    n = e.requiredHeight,
                    a = e.sharpParams,
                    s = void 0 === a ? {} : a,
                    l = e.focalPoint,
                    u = void 0 === l ? [.5, .5] : l,
                    c = e.createMultiple,
                    h = void 0 !== c && c,
                    p = e.imageToken,
                    d = void 0 === p ? "" : p,
                    g = e.staticMediaUrls,
                    m = void 0 === g ? {} : g,
                    f = (null == m ? void 0 : m.staticMediaUrl) ? m.staticMediaUrl : "https://static.wixstatic.com/media/",
                    y = (null == m ? void 0 : m.staticVideoUrl) ? m.staticVideoUrl : "https://video.wixstatic.com/",
                    S = t.dto.imageToken || t.dto.token || d,
                    b = {
                        item: t,
                        originalUrl: i = function(e, t) {
                            if (e.indexOf("preventResize") >= 0) return e;
                            e = e.replace(t, "");
                            var i = /(\/v\d\/(fill|fit|crop)\/(((w|h|x|y|scl|al|q)_[cf\d]*)\,?)*){1,}/.exec(e);
                            return i && i.index > 0 ? e.substr(0, i.index) : e
                        }(i, f),
                        resizeMethod: r,
                        requiredWidth: o,
                        requiredHeight: n,
                        sharpParams: s,
                        focalPoint: u
                    };
                return "video" === r ? function(e, t) {
                    var i = e.item,
                        r = e.originalUrl,
                        o = e.requiredHeight,
                        n = r;
                    if (i.qualities && i.qualities.length) {
                        var a = "/",
                            s = i.qualities.filter((function(e) {
                                return "mp4" === e.formats[0]
                            }));
                        s.length > 1 && s[0].height > s[1].height && s.reverse();
                        for (var l = void 0, u = 0; l = s[u]; u++)
                            if (l.height >= o || !s[u + 1]) {
                                a += l.quality;
                                for (var c = void 0, h = 0; c = l.formats[h]; h++) n = Q(t, "video/", i.url, a, c, "/file." + c);
                                break
                            }
                        return n
                    }
                }(b, y) : ee(i, f) ? i : "full" !== r || S ? h ? [{
                    type: "webp",
                    url: ie(Object(Y.a)(Object(Y.a)({}, b), {
                        useWebp: !0,
                        devicePixelRatio: 1,
                        WIX_MEDIA_PREFIX: f
                    })),
                    dpr: [1, 2].map((function(e) {
                        return ie(Object(Y.a)(Object(Y.a)({}, b), {
                            useWebp: !0,
                            devicePixelRatio: e,
                            WIX_MEDIA_PREFIX: f
                        })) + " " + e + "x"
                    })).join(", ")
                }, {
                    type: re(i),
                    url: ie(Object(Y.a)(Object(Y.a)({}, b), {
                        useWebp: !1,
                        devicePixelRatio: 1,
                        WIX_MEDIA_PREFIX: f
                    })),
                    dpr: [1, 2].map((function(e) {
                        return ie(Object(Y.a)(Object(Y.a)({}, b), {
                            useWebp: !1,
                            devicePixelRatio: e,
                            WIX_MEDIA_PREFIX: f
                        })) + " " + e + "x"
                    })).join(", ")
                }] : ie(Object(Y.a)(Object(Y.a)({}, b), {
                    WIX_MEDIA_PREFIX: f
                })) : te(i, f)
            },
            ne = i(8),
            ae = i.n(ne),
            se = i(9),
            le = function(e, t, i) {
                void 0 === t && (t = !1), void 0 === i && (i = J.a.isMobile());
                var r = e && (e.numbers || e.colors || e.booleans || e.fonts) ? Object(Y.a)(Object(Y.a)(Object(Y.a)(Object(Y.a)({}, e.numbers), e.colors), e.booleans), e.fonts) : e,
                    o = {
                        allowDownload: !1,
                        allowSocial: !0,
                        loveButton: !0,
                        isStoreGallery: t,
                        loveCounter: !0,
                        allowTitle: !0,
                        allowTitleExpand: !0,
                        allowDescriptionExpand: !0,
                        allowLinkExpand: !0,
                        allowFullscreenExpand: !0,
                        allowExifExpand: !1,
                        defaultShowInfoExpand: !0,
                        showInfoExpandButton: !0,
                        expandInfoPosition: "SIDE",
                        addToCartButtonText: "",
                        galleryAlignExpand: "left",
                        fullscreenLoop: !1,
                        mobileSwipeAnimation: se.a.mobileSwipeAnimations.EXPAND,
                        enableFullscreenVideoPlaceholder: !0,
                        allowFullscreenMagnifyImage: !1,
                        fullscreenMagnificationLevel: 2,
                        allowBackgroundGradient: !1,
                        backgroundGrayscaleFilter: !1,
                        backgroundBlurFilter: 1,
                        backgroundGradientDegrees: 180
                    };
                if (i && (r = function(e) {
                        return Object.keys(e).forEach((function(t) {
                            t.startsWith("m_") && (e[t.slice(2)] = e[t])
                        })), e
                    }(r)), ae.a.merge(o, ae.a.pick(r, ["isRTL", "actionsColorExpand", "addToCartColorExpand", "addToCartBackColorExpand", "addToCartBorderColor", "addToCartFontExpand", "addToCartBorderWidth", "titleColorExpand", "descriptionColorExpand", "titleFontExpand", "descriptionFontExpand", "allowDownload", "allowSocial", "loveButton", "allowTitle", "allowTitleExpand", "allowDescriptionExpand", "allowExifExpand", "allowLinkExpand", "allowFullscreenExpend", "addToCartButtonText", "fullscreenLoop", "expandInfoPosition", "allowBackgroundGradient", "backgroundGrayscaleFilter", "backgroundBlurFilter", "backgroundGradientDegrees"])), ae.a.isUndefined(r.expandInfoPosition) || (o.expandInfoPosition = r.expandInfoPosition ? "BOTTOM" : "SIDE"), ae.a.isUndefined(r.loveCounter) || (o.loveCounter = 0 === r.loveCounter), !ae.a.isUndefined(r.galleryAlignExpand)) switch (r.galleryAlignExpand) {
                    case 0:
                    default:
                        o.galleryAlignExpand = "left", o.galleryAlignExpandIcons = {
                            float: "left"
                        };
                        break;
                    case 1:
                        o.galleryAlignExpand = "center", o.galleryAlignExpandIcons = {
                            margin: "auto"
                        };
                        break;
                    case 2:
                        o.galleryAlignExpand = "right", o.galleryAlignExpandIcons = {
                            float: "right"
                        }
                }
                ae.a.isUndefined(r.videoSpeed) || (o.videoSpeed = r.videoSpeed), ae.a.isUndefined(r.videoLoop) || (o.videoLoop = r.videoLoop), ae.a.isUndefined(r.enableFullscreenVideoPlaceholder) || (o.enableFullscreenVideoPlaceholder = r.enableFullscreenVideoPlaceholder), ae.a.isUndefined(r.mobileSwipeAnimation) || ("1" === String(r.mobileSwipeAnimation) ? o.mobileSwipeAnimation = se.a.mobileSwipeAnimations.FADE : "2" === String(r.mobileSwipeAnimation) ? o.mobileSwipeAnimation = se.a.mobileSwipeAnimations.CAROUSEL : o.mobileSwipeAnimation = se.a.mobileSwipeAnimations.EXPAND), i ? o.defaultShowInfoExpand = !1 : ae.a.isUndefined(r.defaultShowInfoExpand) ? o.showInfoExpandButton = !1 : (o.defaultShowInfoExpand = 1 === r.defaultShowInfoExpand || r.expandInfoPosition, o.showInfoExpandButton = 0 === r.defaultShowInfoExpand && !r.expandInfoPosition), ae.a.isUndefined(r.addToCartButtonText) || (o.addToCartButtonText = String(r.addToCartButtonText)), ae.a.isUndefined(r.allowFullscreenExpand) || (o.allowFullscreenExpand = r.allowFullscreenExpand), ae.a.isUndefined(r.allowFullscreenMagnifyImage) || (o.allowFullscreenMagnifyImage = r.allowFullscreenMagnifyImage), ae.a.isUndefined(r.fullscreenMagnificationLevel) || (o.fullscreenMagnificationLevel = r.fullscreenMagnificationLevel / 100);
                var n, a, s, l, u, c;
                if (o.bgColorExpand = (a = (n = r).allowBackgroundGradient, s = n.backgroundGradientColor1, l = n.backgroundGradientColor2, u = n.backgroundGradientDegrees, c = void 0 === u ? o.backgroundGradientDegrees : u, a && s && l && c ? {
                        value: "linear-gradient(" + c + "deg," + s.value + "," + l.value + ")"
                    } : r.bgColorExpand), !ae.a.isUndefined("itemClick"))
                    if ("number" == typeof r.itemClick) switch (r.itemClick) {
                        case 0:
                        default:
                            o.itemClick = "expand";
                            break;
                        case 1:
                            o.itemClick = "link";
                            break;
                        case 2:
                            o.itemClick = "nothing";
                            break;
                        case 3:
                            o.itemClick = "fullscreen"
                    } else "expand" === r.itemClick || "link" === r.itemClick || "nothing" === r.itemClick || "fullscreen" === r.itemClick ? o.itemClick = r.itemClick : o.itemClick = "expand";
                return o.sharpParams = {
                    quality: 90,
                    usm: {}
                }, ae.a.isUndefined(r.usmToggle) || !0 !== r.usmToggle || (o.sharpParams.allowUsm = r.usmToggle, ae.a.isUndefined(r.imageQuality) || (o.sharpParams.quality = r.imageQuality), ae.a.isUndefined(r.usm_a) || (o.sharpParams.usm.usm_a = (r.usm_a || 0) / 100), ae.a.isUndefined(r.usm_r) || (o.sharpParams.usm.usm_r = r.usm_r), ae.a.isUndefined(r.usm_t) || (o.sharpParams.usm.usm_t = (r.usm_t || 0) / 255)), o
            };
        var ue = function() {
                function e(e) {
                    var t = e.getMoreItems,
                        i = e.getItems,
                        r = e.getContainer,
                        o = e.getOptions,
                        n = e.onBlueprintReady,
                        a = e.getTotalItemsCount,
                        s = e.createBlueprintImp;
                    this.getMoreItems = t || function() {}, this.getItems = i || function() {}, this.getOptions = o || function() {}, this.getContainer = r || function() {}, this.getTotalItemsCount = a || function() {}, this.onBlueprintReadyCallback = n || function() {}, this.createBlueprintImp = s
                }
                return e.prototype.updateFunctions = function(e) {
                    var t = e.getMoreItems,
                        i = e.getItems,
                        r = e.getContainer,
                        o = e.getOptions,
                        n = e.onBlueprintReady,
                        a = e.getTotalItemsCount,
                        s = e.createBlueprintImp;
                    this.getMoreItems = t || function() {}, this.getItems = i || function() {}, this.getOptions = o || function() {}, this.getContainer = r || function() {}, this.getTotalItemsCount = a || function() {}, this.onBlueprintReadyCallback = n || function() {}, this.createBlueprintImp = s
                }, e.prototype.fetchMoreItems = function(e) {
                    this.getMoreItems(e)
                }, e.prototype.fetchItems = function() {
                    return this.getItems()
                }, e.prototype.fetchOptions = function() {
                    return this.getOptions()
                }, e.prototype.fetchContainer = function() {
                    return this.getContainer()
                }, e.prototype.onBlueprintReady = function(e) {
                    var t = e.blueprint,
                        i = e.blueprintChanged;
                    this.onBlueprintReadyCallback(t, i)
                }, e.prototype.isUsingCustomInfoElements = function() {
                    return !0
                }, e
            }(),
            ce = "love",
            he = function() {
                function e() {
                    this.getEncodedContextToken = this.getEncodedContextToken.bind(this)
                }
                return e.prototype.getItemsLoveData = function(e, t, i, o, n, a) {
                    return Object(r.b)(this, void 0, void 0, (function() {
                        var s, l, u, c, h, p, d;
                        return Object(r.c)(this, (function(r) {
                            switch (r.label) {
                                case 0:
                                    s = this.getEncodedContextToken(o, n), l = e.map((function(e) {
                                        return e.itemId
                                    })), u = l.join("&resourceIds="), c = i + "/_api/reactions-server/v1/reactions?contextToken=" + s + "&resourceIds=" + u, r.label = 1;
                                case 1:
                                    return r.trys.push([1, 6, , 7]), [4, fetch(c, {
                                        method: "GET",
                                        headers: {
                                            "Content-Type": "application/json",
                                            Authorization: t
                                        }
                                    })];
                                case 2:
                                    return 200 !== (h = r.sent()).status ? [3, 4] : [4, h.json()];
                                case 3:
                                    return [2, r.sent().responses];
                                case 4:
                                    return d = "Reaction-Service error - Worker - GET call response status: " + h.status, H.c.isVerbose() && console.error(d), a(d), [2, {
                                        error: d
                                    }];
                                case 5:
                                    return [3, 7];
                                case 6:
                                    return p = r.sent(), d = "Reaction-Service error - Worker - some error when requesting data from reaction-service: " + p.message, a(d), H.c.isVerbose() && console.error(d), [2, {
                                        error: d
                                    }];
                                case 7:
                                    return [2]
                            }
                        }))
                    }))
                }, e.prototype.shouldUseReactionService = function() {
                    return K.a.getExperimentBoolean("specs.pro-gallery.useReactionService")
                }, e.prototype.getEncodedContextToken = function(e, t) {
                    var i = {
                        authorizerAppDefId: t,
                        contextId: e,
                        contextType: ce
                    };
                    return encodeURIComponent(JSON.stringify(i))
                }, e
            }(),
            pe = new he,
            de = i(37),
            ge = Object(a.d)(de.a, {
                layoutParams: {
                    cropRatio: 1
                },
                gotStyleParams: !0,
                selectedLayout: 0,
                gallerySize: 45,
                cubeType: "fit",
                allowSocial: !0,
                allowDownload: !0,
                allowTitle: !0,
                allowDescription: !0,
                loveButton: !0,
                loveCounter: !1,
                videoPlay: "auto",
                gallerySliderImageRatio: 1.3333333333333333,
                galleryImageRatio: 2,
                sharpParams: {
                    quality: 90,
                    usm: {}
                },
                collageAmount: .8,
                collageDensity: 1,
                floatingImages: 0,
                viewMode: "preview",
                galleryHorizontalAlign: "center",
                galleryVerticalAlign: "center",
                enableInfiniteScroll: 1,
                itemClick: "link",
                fixedColumns: 0,
                scrollDirection: n.a.scrollDirection.VERTICAL,
                showArrows: !1,
                thumbnailSpacings: 5,
                gridStyle: 1,
                mobilePanorama: !1,
                expandAnimation: "NO_EFFECT",
                itemBorderColor: {
                    themeName: "color_15",
                    value: "rgba(0,0,0,1)"
                },
                itemShadowOpacityAndColor: {
                    themeName: "color_15",
                    value: "rgba(0,0,0,0.2)"
                },
                textBoxBorderColor: {
                    themeName: "color_15",
                    value: "rgba(0,0,0,1)"
                },
                titleDescriptionSpace: 6,
                textsVerticalPadding: 0,
                textsHorizontalPadding: 0,
                textBoxFillColor: {
                    themeName: "color_12",
                    value: "rgba(230,230,230,1)"
                },
                textImageSpace: 10,
                alwaysShowHover: !1,
                isStoreGallery: !1,
                previewHover: !1,
                calculateTextBoxHeightMode: "AUTOMATIC",
                galleryLayout: 5,
                thumbnailSize: 120,
                useCustomButton: !1,
                itemOpacity: {
                    themeName: "color_14",
                    value: "rgba(155,155,155,0.6)"
                },
                itemFont: {
                    style: {
                        bold: !0,
                        italic: !1,
                        underline: !1
                    },
                    family: "open sans",
                    preset: "Heading-M",
                    editorKey: "font_5",
                    size: 22,
                    fontStyleParam: !0,
                    displayName: "Basic Heading",
                    value: 'font:normal normal bold 22px/1.4em "open sans",sans-serif;'
                },
                itemFontSlideshow: {
                    family: "avenir-lt-w01_85-heavy1475544",
                    displayName: "Basic Heading",
                    style: {
                        bold: !1,
                        italic: !1,
                        underline: !1
                    },
                    size: 22,
                    preset: "Custom",
                    editorKey: "font_5",
                    fontStyleParam: !0,
                    value: "font:normal normal normal 22px/27px avenir-lt-w01_85-heavy1475544,sans-serif;"
                },
                itemDescriptionFontSlideshow: {
                    family: "avenir-lt-w01_35-light1475496",
                    displayName: "Paragraph 2",
                    style: {
                        bold: !1,
                        italic: !1,
                        underline: !1
                    },
                    size: 15,
                    preset: "Custom",
                    editorKey: "font_8",
                    fontStyleParam: !0,
                    value: "font:normal normal normal 15px/18px avenir-lt-w01_35-light1475496,sans-serif;"
                },
                itemDescriptionFont: {
                    family: "avenir-lt-w01_35-light1475496",
                    displayName: "Paragraph 2",
                    style: {
                        bold: !1,
                        italic: !1,
                        underline: !1
                    },
                    size: 15,
                    preset: "Custom",
                    editorKey: "font_8",
                    fontStyleParam: !0,
                    value: "font:normal normal normal 15px/18px avenir-lt-w01_35-light1475496,sans-serif;"
                },
                itemFontColor: {
                    themeName: "color_11",
                    value: "rgba(255,255,255,1)"
                },
                itemFontColorSlideshow: {
                    themeName: "color_15",
                    value: "rgba(0,0,0,1)"
                },
                itemDescriptionFontColor: {
                    themeName: "color_11",
                    value: "rgba(255,255,255,1)"
                },
                itemDescriptionFontColorSlideshow: {
                    themeName: "color_15",
                    value: "rgba(0,0,0,1)"
                },
                loadMoreButtonText: "Load More",
                loadMoreButtonFont: {
                    family: "open sans",
                    displayName: "Paragraph 2",
                    style: {
                        bold: !1,
                        italic: !1,
                        underline: !1
                    },
                    size: 15,
                    preset: "Body-M",
                    editorKey: "font_8",
                    fontStyleParam: !0,
                    value: 'font:normal normal normal 15px/1.4em "open sans",sans-serif;'
                },
                loadMoreButtonFontColor: {
                    themeName: "color_15",
                    value: "rgba(0,0,0,1)"
                },
                loadMoreButtonColor: {
                    themeName: "color_11",
                    value: "rgba(255,255,255,1)"
                },
                loadMoreButtonBorderColor: {
                    themeName: "color_15",
                    value: "rgba(0,0,0,1)"
                },
                arrowsColor: {
                    themeName: "color_11",
                    value: "rgba(255,255,255,1)"
                },
                oneColorAnimationColor: {
                    themeName: "color_11",
                    value: "rgba(255,255,255,1)"
                }
            });
        delete ge.pauseAutoSlideshowOnHover, delete ge.scrollDirection, delete ge.slideAnimation, delete ge.jsonStyleParams;
        var me = function() {
                var e = this;
                this.promise = new Promise((function(t, i) {
                    e.reject = i, e.resolve = t
                }))
            },
            fe = {
                totalItemsCount: 0,
                items: []
            },
            ye = {
                desktop: {
                    avoidGallerySelfMeasure: !0,
                    width: 980,
                    height: 500,
                    screen: {
                        width: 1920,
                        height: 1080
                    },
                    mobilePreviewFrame: {
                        width: 1920,
                        height: 1080
                    }
                },
                mobile: {
                    avoidGallerySelfMeasure: !0,
                    width: 320,
                    height: 640,
                    screen: {
                        width: 320,
                        height: 640
                    },
                    mobilePreviewFrame: {
                        width: 320,
                        height: 640
                    }
                }
            },
            Se = function() {
                function e(e) {
                    var t = this,
                        i = e.context,
                        r = e.wixCodeApi,
                        o = e.platformServices,
                        n = e.scopedGlobalSdkApis,
                        a = e.APP_DEFINITION_ID,
                        s = e.GALLERY_WIDGET_ID,
                        l = e.isArtStore,
                        u = e.setBlueprintCallback,
                        c = e.setKnownDimensionsCallback,
                        h = e.avoidGettingItemsFromPGServer,
                        p = e.setItemsLoveDataCallback,
                        d = e.sentryReport,
                        g = e.fetcher,
                        m = e.SSRWorkerLog;
                    this.debouncedHandleNewUserConfig = H.c.debounce(this.handleNewUserConfig.bind(this), 100), this.debouncedHandleMeasuredDimensions = H.c.debounce(this.handleMeasuredDimensions.bind(this), 100), this.createFedopsLogger = function(e) {
                        var i = e.fedOpsLoggerFactory;
                        t.fedopsLogger = i.getLoggerForWidget({
                            appId: t.APP_DEFINITION_ID,
                            widgetId: t.GALLERY_WIDGET_ID
                        })
                    }, this.tryToReportAppLoaded = function() {
                        if (t.isAppLoadStartReported && !t.isAppLoadedReported) try {
                            t.isSSR() ? t.fedopsLogger.appLoaded() : t.fedopsLogger.appLoaded(t.getFedopsCustomParams()), t.isAppLoadedReported = !0
                        } catch (e) {
                            H.c.isVerbose() && console.log("cant run fedopsLogger.appLoaded()", e)
                        }
                    }, this.initFlowPromises(), this.setBlueprintCallback = u, this.setItemsLoveDataCallback = p, this.setKnownDimensionsCallback = c, this.context = i, this.fetcher = g, this.setItemsCurrentId = 0, this.setWixStyles(i.styles), this.calculatedGalleryStyles = void 0, this.calculatedFullscreenStyles = void 0, this.wixCodeApi = r, this.directfullscreenItem = "init", this.SSRWorkerLog = m, this.APP_DEFINITION_ID = a, this.GALLERY_WIDGET_ID = s, this.isArtStore = l, this.avoidGettingItemsFromPGServer = h, this.getMoreItemsFromServer = this.getMoreItemsFromServer.bind(this), this.getMoreWixCodeItems = this.getMoreWixCodeItems.bind(this), this.loadInitialWixCodeItems = this.loadInitialWixCodeItems.bind(this), this.getItemsFromWixCode = this.getItemsFromWixCode.bind(this), this.setBlueprintIfNeeded = this.setBlueprintIfNeeded.bind(this), this.loadDirectFullscreenItemFromWixCode = this.loadDirectFullscreenItemFromWixCode.bind(this), this.prepareAndSetItems = this.prepareAndSetItems.bind(this), this.prepareItems = this.prepareItems.bind(this), this.getItems = this.getItems.bind(this), this.setDirectFullscreenItem = this.setDirectFullscreenItem.bind(this), this.setDirectFullscreenMockBlueprint = this.setDirectFullscreenMockBlueprint.bind(this), this.createDirectFullscreenBlueprintMockIfNeeded = this.createDirectFullscreenBlueprintMockIfNeeded.bind(this), this.createDirectFullscreenMockBlueprint = this.createDirectFullscreenMockBlueprint.bind(this), this.itemDimensionsCache = {}, this.viewMode = H.a.parseViewMode(this.wixCodeApi.window.viewMode), this.deviceType = H.a.formFactorToDeviceType(this.wixCodeApi.window.formFactor), this.isMobile = H.c.isMobile(this.deviceType), this.initDimensions(), this.baseUrl = H.a.getBaseUrl(this.wixCodeApi, this.viewMode), this.SSRWorkerLog.push("baseUrl: " + this.baseUrl), this.scopedGlobalSdkApis = n, this.pgRenderStart = Date.now(), this.sentryReport = d, this.setDirectfullscreenOnce = !1, this.ITEMS_BATCH_SIZE = 50, this.INITIAL_ITEMS_BATCH_SIZE = 50, this.shouldUseBlueprintsFromServer = !1, this.directFullscreenMockBlueprint = !1;
                    try {
                        this.createFedopsLogger(o), this.fedopsLogger.appLoadStarted(), this.isAppLoadStartReported = !0
                    } catch (e) {
                        console.error("Cannot create fedops logger", e), this.fedopsLogger = {
                            appLoaded: function() {},
                            appLoadStarted: function() {}
                        }, this.isAppLoadStartReported = !0
                    }
                    this.fullListOfItemsLoveData = [], this.SSRWorkerLog.push("finnished the pgStore constructor. this isSSR?: " + (this.isSSR() ? "TRUE" : "FALSE"))
                }
                return e.prototype.handleNewUserConfig = function(e) {
                    var t = e.style.styleParams,
                        i = e.dimensions;
                    this.handleNewUserConfigDimensions(i), this.setWixStyles(t), this.recalculateStylesExpensively(), this.triggerBlueprintCreation({
                        settingNewItems: !1
                    })
                }, e.prototype.ceilDimensions = function(e) {
                    var t = {};
                    return Object.entries(e).forEach((function(e) {
                        var i = e[0],
                            r = e[1];
                        t[i] = "number" == typeof r ? Math.ceil(r) : r
                    })), t
                }, e.prototype.handleNewUserConfigDimensions = function(e) {
                    (e = this.ceilDimensions(e)) && JSON.stringify(this.userConfigDimensions) !== JSON.stringify(e) && (this.setUserDimensions(e), this.userConfigDimensions = Object(r.a)({}, e))
                }, e.prototype.initDimensions = function() {
                    this.initDefaultDimensions(), this.handleNewUserConfigDimensions(this.context.dimensions || {})
                }, e.prototype.initDefaultDimensions = function() {
                    this.requestedHeight = !1, this.requestedWidth = !1, this.dimensions = Object(r.a)({}, ye[this.isMobile ? "mobile" : "desktop"])
                }, e.prototype.getDimensions = function() {
                    return this.dimensions
                }, e.prototype.handleMeasuredDimensions = function(e) {
                    this.setClientMeasuredDimensions(e), this.fixGalleryStyleRatiosInMobile(), this.triggerBlueprintCreation({
                        settingNewItems: !1
                    })
                }, e.prototype.setHeightByLayoutchanges = function(e) {
                    this.setUserDimensions(Object(r.a)(Object(r.a)({}, this.userDimensions), {
                        height: e
                    })), this.fixGalleryStyleRatiosInMobile(), this.triggerBlueprintCreation({
                        settingNewItems: !1
                    })
                }, e.prototype.setClientMeasuredDimensions = function(e) {
                    this.clientMeasuredDimensions = Object(H.b)(e) || this.clientMeasuredDimensions, this.recalculateDimensions()
                }, e.prototype.recalculateDimensions = function() {
                    var e = Object(r.a)(Object(r.a)(Object(r.a)({}, this.dimensions), this.clientMeasuredDimensions), this.userDimensions);
                    this.setKnownDimensions(), this.setDimensions(e)
                }, e.prototype.setUserDimensions = function(e) {
                    var t = Object(H.b)(e);
                    JSON.stringify(t) !== JSON.stringify(this.userDimensions) && (this.userDimensions = t || this.userDimensions, this.recalculateDimensions())
                }, e.prototype.setDimensions = function(e) {
                    JSON.stringify(e) !== JSON.stringify(this.dimensions) && (this.SSRWorkerLog.push("setting dimensions: w: " + e.width + ",h: " + e.height), this.dimensions = Object(r.a)(Object(r.a)({}, this.dimensions), e)), this.dimensionsAreAvailableDeferred.resolve()
                }, e.prototype.setKnownDimensions = function() {
                    var e = Object(r.a)(Object(r.a)({}, this.clientMeasuredDimensions), this.userDimensions);
                    (null == e ? void 0 : e.height) === this.requestedHeight && (null == e ? void 0 : e.width) === this.requestedWidth || (this.requestedHeight = e.height, this.requestedWidth = e.width, this.setKnownDimensionsCallback())
                }, e.prototype.isSSR = function() {
                    return "backend" === this.wixCodeApi.window.rendering.env
                }, e.prototype.isSEO = function() {
                    return this.wixCodeApi.seo.isInSEO()
                }, e.prototype.getFedopsCustomParams = function() {
                    return {
                        customParams: JSON.stringify({
                            gallery_id: this.fetcher.galleryId || "galleryId is undefined"
                        })
                    }
                }, e.getSiteUrl = function(e) {
                    return e.location.baseUrl
                }, e.getPageUrl = function(e) {
                    return e.location.url.split("?")[0]
                }, e.prototype.createShareUrl = function(t, i) {
                    return this.isArtStore ? null : e.getPageUrl(i) + "?pgid=" + this.context.compId.replace("comp-", "") + "-" + t
                }, e.getCurrentDirectFullscreenUrl = function(t) {
                    var i = e.getPageUrl(t),
                        r = t.location.query,
                        o = r && r.pgid;
                    return o ? i + "?pgid=" + o : null
                }, e.getTranslations = function(e) {
                    return fetch(e).then((function(e) {
                        return e.json()
                    })).catch((function() {
                        return {}
                    }))
                }, e.prototype.getConnectedProvidersFromServer = function(e) {
                    void 0 === e && (e = !1);
                    var t = this.context.instance;
                    e && (t = e);
                    var i = this.baseUrl + "/_api/pro-gallery-webapp/v1/store/providers?instance=" + t;
                    return fetch(i).then((function(e) {
                        return e.json()
                    }))
                }, e.prototype.getQueryParams = function() {
                    return this.wixCodeApi.location.query
                }, e.prototype.isValidUUID = function(e) {
                    return !!e.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i)
                }, e.prototype.getMoreItemsFromServer = function(e) {
                    return Object(r.b)(this, void 0, void 0, (function() {
                        var t;
                        return Object(r.c)(this, (function(i) {
                            switch (i.label) {
                                case 0:
                                    return i.trys.push([0, 2, , 3]), [4, this.fetcher.getGalleryDataFromServer({
                                        from: e
                                    })];
                                case 1:
                                    return [2, i.sent().items];
                                case 2:
                                    return t = i.sent(), console.error("couldnt get more items from server", t), [2, fe];
                                case 3:
                                    return [2]
                            }
                        }))
                    }))
                }, e.prototype.navigateToLink = function(e) {
                    var t = e && e.dto && e.dto.metaData && e.dto.metaData.link;
                    try {
                        if (t)
                            if ("web" === t.type) this.wixCodeApi.location.to(t.url);
                            else if ("page" === t.type) try {
                            var i = this.wixCodeApi.site.getSiteStructure({
                                includePageId: !0
                            }).pages.find((function(e) {
                                return e.id === t.url
                            })).url;
                            this.wixCodeApi.location.to(i)
                        } catch (e) {
                            console.warn("Cannot navigate to page", e)
                        } else if ("wix" === t.type) {
                            var r = t.data;
                            if (r) this.wixCodeApi.location.getExternalUrl(r) ? console.error("this should have been handled by <a href>") : this.wixCodeApi.location.navigateTo(r)
                        }
                    } catch (e) {
                        console.error(e)
                    }
                }, e.prototype.getVideoMediaId = function(e) {
                    return e.metaData.videoUrl && e.metaData.videoUrl.includes("wix:video://") ? e.metaData.videoUrl.split("/")[3] || e.itemId : e.mediaUrl
                }, e.prototype.getItemWithVideoUrls = function(e) {
                    var t = this.getVideoMediaId(e);
                    return V.getVideoURLs(t).then((function(t) {
                        if (e.metaData.qualities = t.filter((function(e) {
                                return "MP4" === e.type
                            })).map((function(t) {
                                var i = t.url,
                                    r = t.quality,
                                    o = parseInt(r);
                                return {
                                    url: i,
                                    height: o,
                                    width: Math.floor(o * e.metaData.width / e.metaData.height),
                                    quality: r,
                                    formats: ["mp4"]
                                }
                            })), e.metaData.videoUrl = void 0, K.a.getExperimentBoolean("specs.pro-gallery.excludeFromHlsVideos")) e.metaData.ghostItem = !0;
                        else {
                            var i = t.filter((function(e) {
                                return "HLS" === e.type
                            }));
                            i.length > 0 && (e.metaData.videoUrl = i[0].url)
                        }
                        return e
                    })).catch((function(t) {
                        return e.metaData.ghostItem = !0, e
                    }))
                }, e.prototype.getItemsWithWixVideosUrls = function(e) {
                    var t = this,
                        i = e.map((function(e) {
                            return t.isUnreadyVideoFile(e) ? t.getItemWithVideoUrls(e) : Promise.resolve(e)
                        }));
                    return Promise.all(i)
                }, e.prototype.replaceByPlaceHolder = function(e) {
                    return {
                        itemId: e.itemId,
                        mediaUrl: e.metaData.posters[0].url,
                        orderIndex: 0,
                        metaData: Object(r.a)(Object(r.a)({}, e.metaData), {
                            type: "image",
                            isVideoPlaceholder: !0,
                            height: e.metaData.posters[0].height,
                            width: e.metaData.posters[0].width
                        })
                    }
                }, e.prototype.isUnreadyVideoFile = function(e) {
                    return !e.metaData.ghostItem && (e.metaData.videoUrl && e.metaData.videoUrl.includes("wix:video://") || "video" === e.metaData.type && e.mediaUrl && !e.metaData.videoUrl)
                }, e.prototype.addItemProperties = function(e) {
                    var t, i, r, o = !1;
                    this.isUnreadyVideoFile(e) && (e = this.replaceByPlaceHolder(e), o = !0);
                    try {
                        if (this.sitePages || (this.sitePages = this.wixCodeApi.site.getSiteStructure({
                                includePageId: !0
                            }).pages), "PageLink" === (null === (r = null === (i = null === (t = e.metaData) || void 0 === t ? void 0 : t.link) || void 0 === i ? void 0 : i.data) || void 0 === r ? void 0 : r.type)) {
                            var n = this.sitePages.find((function(t) {
                                return e.metaData.link.data.pageId.endsWith(t.id)
                            }));
                            n && "name" in n && (e.metaData.link.data.pageName = n.name)
                        }
                    } catch (e) {
                        console.log("ProGalleryStore, addItemProperties, try to add a pageName to an item if needed, error:", e)
                    }
                    var a = {
                        url: void 0,
                        target: void 0
                    };
                    if (e.metaData && e.metaData.link) {
                        var s = e.metaData.link;
                        if ("web" === s.type && "string" == typeof s.url)("http" === s.url.slice(0, 4) || "//" === s.url.slice(0, 2) || this.wixCodeApi.seo.isInSEO()) && (a = {
                            url: s.url,
                            target: "_blank"
                        });
                        else if ("wix" === s.type) {
                            var l = s.data;
                            if (l) try {
                                var u = this.wixCodeApi.location.getExternalUrl(l);
                                if (u) a = {
                                    url: u,
                                    target: l.target || s.target || "_blank"
                                };
                                else if (l.pageName && "_blank" === l.target && "PageLink" === l.type) {
                                    var c = this.wixCodeApi.site.getSiteStructure({
                                            includePageId: !0
                                        }).pages.find((function(e) {
                                            return e.name === l.pageName
                                        })),
                                        h = c && c.url && this.wixCodeApi.location.baseUrl && this.wixCodeApi.location.baseUrl + c.url;
                                    a = h ? {
                                        url: h,
                                        target: "_blank"
                                    } : a
                                }
                            } catch (e) {
                                console.error(e)
                            }
                        }
                    }
                    e.directLink = a;
                    return e.directShareLink = K.a.getExperimentBoolean("specs.pro-gallery.itemDeeplinks") ? this.createShareUrl(e.id || e.photoId || e.itemId, this.wixCodeApi) : null, {
                        item: e,
                        convertedToPlaceholder: o
                    }
                }, e.prototype.prepareItems = function(e) {
                    var t, i = this,
                        o = !1,
                        n = [],
                        a = pe.shouldUseReactionService();
                    return e && e.length >= 0 ? t = e.map((function(e) {
                        var t = i.addItemProperties(e),
                            s = t.item,
                            l = t.convertedToPlaceholder;
                        if (!o && l && (o = !0), H.c.isDimensionless(s)) {
                            var u = i.addDimensionsFromCache(s);
                            u && (s = u)
                        }
                        if ("string" == typeof s.metaData) try {
                            s = Object(r.a)(Object(r.a)({}, s), {
                                metaData: JSON.parse(s.metaData)
                            })
                        } catch (e) {
                            console.error("Failed parse item metaData", e)
                        }
                        return !s.isVisitedLoveData && a && (n.push({
                            itemId: e.itemId
                        }), s.isVisitedLoveData = !0), s
                    })) : (console.error("corrupt items", e, "returning old items instead"), t = this.items), this.getItemsLoveDataIfNeeded(n), {
                        itemsToSet: t,
                        shouldGetVideoUrls: o
                    }
                }, e.prototype.getItemsFromWixCode = function(e) {
                    var t = e.from,
                        i = e.batchSize,
                        r = void 0 === i ? this.ITEMS_BATCH_SIZE : i;
                    return this.allWixCodeItems.slice(t, t + r)
                }, e.prototype.loadInitialWixCodeItems = function() {
                    var e = this.getItemsFromWixCode({
                        from: 0,
                        batchSize: this.INITIAL_ITEMS_BATCH_SIZE
                    });
                    this.prepareAndSetItems({
                        newItems: e
                    }), this.loadDirectFullscreenItemFromWixCode()
                }, e.prototype.loadDirectFullscreenItemFromWixCode = function() {
                    return Object(r.b)(this, void 0, void 0, (function() {
                        var e;
                        return Object(r.c)(this, (function(t) {
                            switch (t.label) {
                                case 0:
                                    return [4, z.a.getDirectFullscreenItemFromItemsList(this.wixCodeApi.location.query, this.allWixCodeItems, this.context.compId, this.fetcher)];
                                case 1:
                                    return (e = t.sent()) ? this.prepareAndSetDirectFullscreenItem(e) : this.directFullscreenReadyDeferred.resolve(), [2]
                            }
                        }))
                    }))
                }, e.prototype.prepareAndSetItems = function(e) {
                    var t = e.newItems,
                        i = e.setItemsId,
                        r = e.currentItems,
                        o = void 0 === r ? [] : r;
                    if (!i || i === this.setItemsCurrentId) {
                        i || this.setItemsCurrentId++;
                        var n = this.prepareItems(t),
                            a = n.itemsToSet;
                        n.shouldGetVideoUrls && this.buildVideoUrlsAndSet({
                            newItems: t,
                            setItemsId: this.setItemsCurrentId,
                            currentItems: o
                        }), this.setItems(o.concat(a))
                    }
                }, e.prototype.getItemsLoveDataIfNeeded = function(e) {
                    var t = this,
                        i = this.wixStyles,
                        o = Object(q.a)(i).loveButton;
                    if (pe.shouldUseReactionService() && o && e.length > 0) {
                        var n = this.context.instance,
                            a = this.fetcher.galleryId,
                            s = this.APP_DEFINITION_ID;
                        pe.getItemsLoveData(e, n, this.baseUrl, a, s, this.sentryReport).then((function(e) {
                            t.fullListOfItemsLoveData = Object(r.a)(Object(r.a)({}, t.fullListOfItemsLoveData), e), t.setItemsLoveDataCallback(t.fullListOfItemsLoveData)
                        }))
                    }
                }, e.prototype.buildVideoUrlsAndSet = function(e) {
                    var t = this,
                        i = e.newItems,
                        r = e.setItemsId,
                        o = e.currentItems;
                    this.getItemsWithWixVideosUrls(i).then((function(e) {
                        t.prepareAndSetItems({
                            newItems: e,
                            setItemsId: r,
                            currentItems: o
                        })
                    }))
                }, e.prototype.setItems = function(e) {
                    var t, i = e.filter((function(e) {
                        return !!e.mediaUrl || e.metaData && !!e.metaData.html
                    }));
                    this.SSRWorkerLog.push("setting items, first item id is: " + (null === (t = i[0]) || void 0 === t ? void 0 : t.itemId)), this.SSRWorkerLog.push("items src is: " + this.itemsSrc), this.items = i || this.items, this.itemsAreAvailableDeferred.resolve(), this.triggerBlueprintCreation({
                        settingNewItems: !0
                    })
                }, e.prototype.setAllWixCodeItems = function(e) {
                    var t;
                    this.SSRWorkerLog.push("trying to set " + (null == e ? void 0 : e.length) + " wixCode items, first item id: " + (null === (t = e[0]) || void 0 === t ? void 0 : t.itemId));
                    var i = e.filter((function(e) {
                        return !!e.mediaUrl || e.metaData && !!e.metaData.html
                    }));
                    this.allWixCodeItems = i
                }, e.prototype.getItems = function() {
                    return this.items || []
                }, e.prototype.getBlueprint = function() {
                    return this.blueprint
                }, e.prototype.setBlueprint = function(e) {
                    this.blueprint = e, "Velo" === this.itemsSrc ? (this.SSRWorkerLog.push("setting a blueprint while currentItems are wixCode"), this.wixCodeBlueprintDeferred.resolve()) : this.SSRWorkerLog.push("setting a server-items blueprint"), this.blueprintReadyDeferred.resolve(), this.setBlueprintCallback()
                }, e.prototype.itemToGalleryItem = function(e, t) {
                    return new w({
                        dto: e,
                        watermark: void 0,
                        createMediaUrl: $({
                            staticMediaUrls: t
                        })
                    })
                }, e.prototype.constructMetaTagsItemData = function(e, t, i) {
                    return {
                        item: {
                            id: e.id,
                            type: e.type,
                            title: e.title,
                            description: e.description,
                            page_url: t,
                            fullscreen_url: i,
                            image: {
                                url: e.createUrl(n.a.urlSizes.RESIZED, n.a.urlTypes.HIGH_RES),
                                width: e.width,
                                height: e.height
                            },
                            video_url: e.videoUrl || e.createUrl(n.a.urlSizes.RESIZED, n.a.urlTypes.VIDEO),
                            thumbnail: {
                                url: e.createUrl(n.a.urlSizes.RESIZED, n.a.urlTypes.LOW_RES),
                                width: 250,
                                height: 250
                            }
                        }
                    }
                }, e.prototype.setMetaTagsInSSR = function(e, t, i, r, o) {
                    var n = this.itemToGalleryItem(e, o),
                        a = this.constructMetaTagsItemData(n, t, i);
                    this.setMetaTags(a, r)
                }, e.prototype.setMetaTags = function(e, t) {
                    e.item ? t.seo.renderSEOTags({
                        itemType: "PRO_GALLERY_ITEM",
                        itemData: e,
                        asNewPage: !0
                    }) : t.seo.resetSEOTags()
                }, e.prototype.prepareAndSetDirectFullscreenItem = function(e) {
                    var t = this,
                        i = this.prepareItems([e]),
                        r = i.itemsToSet;
                    i.shouldGetVideoUrls && this.getItemWithVideoUrls(e).then((function(e) {
                        t.prepareAndSetDirectFullscreenItem(e)
                    }));
                    var o = r[0];
                    o.itemId && !o.metaData.isVideoPlaceholder && this.setDirectFullscreenItem(o)
                }, e.prototype.createDirectFullscreenMockBlueprint = function() {
                    return F.createBlueprint({
                        params: {
                            items: [this.directFullscreenItem],
                            container: this.isMobile ? ye.mobile.screen : ye.desktop.screen,
                            options: ge
                        },
                        lastParams: {},
                        existingBlueprint: {},
                        blueprintManagerId: "direct fullscreen item blueprints",
                        isUsingCustomInfoElements: !0
                    })
                }, e.prototype.createDirectFullscreenBlueprintMockIfNeeded = function() {
                    var e = this;
                    this.isSSR() && this.isSEO() ? this.directFullscreenItemReadyDeferred.promise.then((function() {
                        var t = e.createDirectFullscreenMockBlueprint();
                        e.setDirectFullscreenMockBlueprint(t)
                    })).catch((function() {
                        e.directFullscreenBlueprintMockReadyDeferred.resolve()
                    })) : this.directFullscreenBlueprintMockReadyDeferred.resolve()
                }, e.prototype.setDirectFullscreenMockBlueprint = function(e) {
                    this.directFullscreenMockBlueprint = e || this.directFullscreenMockBlueprint, this.directFullscreenBlueprintMockReadyDeferred.resolve()
                }, e.prototype.setDirectFullscreenItem = function(e) {
                    this.directFullscreenItem = e || this.directFullscreenItem, this.directFullscreenItemReadyDeferred.resolve()
                }, e.prototype.getDirectFullscreenItem = function() {
                    return !!this.directFullscreenItem && this.directFullscreenItem
                }, e.prototype.getDirectFullscreenMockBlueprint = function() {
                    return !!this.directFullscreenMockBlueprint && this.directFullscreenMockBlueprint
                }, e.prototype.getTestType = function() {
                    var e = this.getQueryParams(),
                        t = e && e.pgTestType;
                    return t || null
                }, e.prototype.getSSRWorkerLog = function() {
                    return this.SSRWorkerLog.push(" ######## requesting the worker log ######### (and setting props to the component"), this.SSRWorkerLog
                }, e.prototype.addItems = function(e, t) {
                    var i = this.getItems();
                    this.prepareAndSetItems({
                        newItems: e,
                        currentItems: i.slice(0, t)
                    })
                }, e.prototype.loadInitialItems = function() {
                    return Object(r.b)(this, void 0, void 0, (function() {
                        var e, t, i, o;
                        return Object(r.c)(this, (function(r) {
                            switch (r.label) {
                                case 0:
                                    return this.SSRWorkerLog.push("Fn loadIntialItems"), H.c.isVerbose() && console.log("Getting initial items from server", this.items, this.totalItemsCount), this.items && this.items.length > 0 ? [2, Promise.resolve(this.items)] : [3, 1];
                                case 1:
                                    return e = void 0, this.avoidGettingItemsFromPGServer ? (e = fe, [3, 5]) : [3, 2];
                                case 2:
                                    return r.trys.push([2, 4, , 5]), [4, this.fetcher.getGalleryDataFromServer({
                                        from: 0,
                                        batchSize: this.INITIAL_ITEMS_BATCH_SIZE
                                    })];
                                case 3:
                                    return e = r.sent(), [3, 5];
                                case 4:
                                    return t = r.sent(), console.error("couldnt get items", t), e = fe, [3, 5];
                                case 5:
                                    H.c.isVerbose() && console.log("Got initial items from server", e);
                                    try {
                                        i = e.items, o = e.totalItemsCount, "Velo" !== this.itemsSrc && (this.prepareAndSetItems({
                                            newItems: i
                                        }), this.totalItemsCount = Number(o))
                                    } catch (t) {
                                        console.error("Could not fetch initial items from server", t, e), this.totalItemsCount = 1
                                    }
                                    return [2, this.getItems()]
                            }
                        }))
                    }))
                }, e.prototype.getBlueprintFromServer = function(e) {
                    var t, i;
                    return Object(r.b)(this, void 0, void 0, (function() {
                        var o, n;
                        return Object(r.c)(this, (function(a) {
                            switch (a.label) {
                                case 0:
                                    this.SSRWorkerLog.push("getting blueprint from server first itemId:", null === (i = null === (t = null == e ? void 0 : e.params) || void 0 === t ? void 0 : t.items[0]) || void 0 === i ? void 0 : i.itemId), this.SSRWorkerLog.push("Sending a request the blueprints server: "), a.label = 1;
                                case 1:
                                    return a.trys.push([1, 4, , 5]), o = this.baseUrl + "/_serverless/pro-gallery-blueprints-server/createBlueprint", [4, fetch(o, {
                                        method: "POST",
                                        credentials: "omit",
                                        headers: {
                                            "Content-Type": "application/json"
                                        },
                                        body: JSON.stringify(Object(r.a)({}, e))
                                    })];
                                case 2:
                                    return [4, a.sent().json()];
                                case 3:
                                    return [2, a.sent()];
                                case 4:
                                    return n = a.sent(), console.error("couldnt get blueprint from server ", n), [3, 5];
                                case 5:
                                    return [2]
                            }
                        }))
                    }))
                }, e.prototype.isServerBlueprintsForcedByQuery = function() {
                    var e = this.wixCodeApi.location.query;
                    return e && "true" === e.forceServerBlueprints
                }, e.prototype.createInitialBlueprint = function() {
                    return Object(r.b)(this, void 0, void 0, (function() {
                        var e, t, i = this;
                        return Object(r.c)(this, (function(o) {
                            switch (o.label) {
                                case 0:
                                    return this.SSRWorkerLog.push("Creating initial blueprint"), e = this.viewMode === n.a.viewMode.PREVIEW && K.a.getExperimentBoolean("specs.pro-gallery.useServerBlueprints-preview"), t = this.viewMode !== n.a.viewMode.PREVIEW && K.a.getExperimentBoolean("specs.pro-gallery.useServerBlueprints-viewer"), this.shouldUseBlueprintsFromServer = t || e || this.isServerBlueprintsForcedByQuery(), this.blueprintsManager = new G({
                                        id: "pgStore " + this.context.compId
                                    }), this.generateBlueprintsApi(), [4, this.loadInitialItems()];
                                case 1:
                                    return o.sent(), this.blueprintsManagerReadyDeferred.resolve(), [2, Promise.all([this.dimensionsAreAvailableDeferred.promise, this.wixStylesAreAvailableDeferred.promise, this.itemsAreAvailableDeferred.promise, this.viewMode === n.a.viewMode.EDIT ? Promise.reject() : Promise.resolve()]).then((function() {
                                        return Object(r.b)(i, void 0, void 0, (function() {
                                            return Object(r.c)(this, (function(e) {
                                                return this.triggerBlueprintCreation(!0), [2]
                                            }))
                                        }))
                                    }), (function() {
                                        return Object(r.b)(i, void 0, void 0, (function() {
                                            return Object(r.c)(this, (function(e) {
                                                return this.setBlueprint({}), [2]
                                            }))
                                        }))
                                    }))]
                            }
                        }))
                    }))
                }, e.prototype.initFlowPromises = function() {
                    var e = this;
                    this.blueprintReadyDeferred = new me, this.wixCodeBlueprintDeferred = new me, this.blueprintsManagerReadyDeferred = new me, this.dimensionsAreAvailableDeferred = new me, this.wixStylesAreAvailableDeferred = new me, this.itemsAreAvailableDeferred = new me, this.readyToCreateBlueprintsDeferred = new me, this.directFullscreenReadyDeferred = new me, this.directFullscreenItemReadyDeferred = new me, this.directFullscreenBlueprintMockReadyDeferred = new me, Promise.all([this.dimensionsAreAvailableDeferred.promise, this.wixStylesAreAvailableDeferred.promise, this.itemsAreAvailableDeferred.promise, this.blueprintsManagerReadyDeferred.promise]).then((function() {
                        e.readyToCreateBlueprintsDeferred.resolve()
                    })), Promise.all([this.directFullscreenItemReadyDeferred.promise, this.directFullscreenBlueprintMockReadyDeferred.promise]).then((function() {
                        e.directFullscreenReadyDeferred.resolve()
                    }))
                }, e.prototype.addDimensionsToCache = function(e) {
                    var t = this;
                    e.forEach((function(e) {
                        t.itemDimensionsCache[e.mediaUrl] = e
                    }))
                }, e.prototype.addDimensionsFromCache = function(e) {
                    var t = this.itemDimensionsCache[e.mediaUrl];
                    return t ? Object(r.a)(Object(r.a)({}, e), {
                        metaData: Object(r.a)(Object(r.a)({}, e.metaData), {
                            width: t.width,
                            height: t.height
                        }),
                        measured: !0
                    }) : null
                }, e.prototype.handleNewItemDimensions = function(e) {
                    var t = this;
                    this.addDimensionsToCache(e);
                    var i = this.getItems(),
                        r = !1,
                        o = i.map((function(e) {
                            if (H.c.isDimensionless(e)) {
                                var i = t.addDimensionsFromCache(e);
                                i && (e = i, r = !0)
                            }
                            return e
                        }));
                    r && this.setItems(o)
                }, e.prototype.setWixStyles = function(e) {
                    this.wixStyles = e || this.wixStyles, this.wixStylesAreAvailableDeferred.resolve()
                }, e.prototype.handleWixStylesChange = function(e) {
                    this.setWixStyles(e), this.recalculateStylesExpensively(), this.triggerBlueprintCreation({
                        settingNewItems: !1
                    })
                }, e.prototype.getMoreItems = function(e) {
                    this.blueprintsManager.getMoreItems(e)
                }, e.prototype.getMoreItemsFromItemsSource = function(e) {
                    return Object(r.b)(this, void 0, void 0, (function() {
                        var t = this;
                        return Object(r.c)(this, (function(i) {
                            return [2, ("Velo" === this.itemsSrc ? this.getMoreWixCodeItems : this.getMoreItemsFromServer)(e).then((function(e) {
                                t.addItems(e)
                            }))]
                        }))
                    }))
                }, e.prototype.getMoreWixCodeItems = function(e) {
                    return Object(r.b)(this, void 0, void 0, (function() {
                        return Object(r.c)(this, (function(t) {
                            return [2, this.getItemsFromWixCode({
                                from: e,
                                batchSize: this.ITEMS_BATCH_SIZE
                            })]
                        }))
                    }))
                }, e.prototype.getTotalItemsCount = function() {
                    return this.totalItemsCount || 1337
                }, e.prototype.createBlueprintImp = function(e) {
                    return this.shouldUseBlueprintsFromServer ? (e.deviceType = this.deviceType, this.getBlueprintFromServer(e)) : F.createBlueprint(e)
                }, e.prototype.isBlueprintOfCurrentItems = function(e) {
                    var t, i;
                    return (null === (t = null == e ? void 0 : e.items[0]) || void 0 === t ? void 0 : t.itemId) === (null === (i = this.items[0]) || void 0 === i ? void 0 : i.itemId)
                }, e.prototype.setBlueprintIfNeeded = function(e, t) {
                    void 0 === t && (t = !0), e && (this.SSRWorkerLog.push("LOGIC got a blueprint, are there changes from the last one?" + (t ? " TRUE" : " FALSE")), this.SSRWorkerLog.push(this.isBlueprintOfCurrentItems(e) ? "LOGIC blueprint contains current items" : "LOGIC blueprint contains older items and will not be set"), t && this.isBlueprintOfCurrentItems(e) && this.setBlueprint(e))
                }, e.prototype.generateBlueprintsApi = function() {
                    var e = this,
                        t = {
                            createBlueprintImp: function(t) {
                                return e.createBlueprintImp(t)
                            },
                            getItems: function() {
                                return e.getItems()
                            },
                            getMoreItems: function(t) {
                                return e.getMoreItemsFromItemsSource(t).then((function() {
                                    return e.getItems()
                                }))
                            },
                            getTotalItemsCount: function() {
                                return e.totalItemsCount
                            },
                            getOptions: function() {
                                return e.getPGStyles()
                            },
                            getContainer: function() {
                                return e.getDimensions()
                            },
                            onBlueprintReady: this.setBlueprintIfNeeded
                        },
                        i = new ue(t);
                    this.blueprintsManager.init({
                        api: i,
                        deviceType: this.deviceType
                    })
                }, e.prototype.loadInitialBlueprint = function() {
                    return Object(r.b)(this, void 0, void 0, (function() {
                        return Object(r.c)(this, (function(e) {
                            switch (e.label) {
                                case 0:
                                    return this.SSRWorkerLog.push("Fn loadInitialBlueprint"), [4, H.a.verifyExperiments(this.scopedGlobalSdkApis)];
                                case 1:
                                    e.sent(), this.SSRWorkerLog.push("Experiments are here, can create a blueprint"), H.c.isVerbose() && console.log("Getting initial blueprint");
                                    try {
                                        this.createInitialBlueprint()
                                    } catch (e) {
                                        console.error("couldnt get blueprint", e)
                                    }
                                    return [2]
                            }
                        }))
                    }))
                }, e.prototype.loadDirectFullscreenItem = function(e, t) {
                    return Object(r.b)(this, void 0, void 0, (function() {
                        var i, o;
                        return Object(r.c)(this, (function(r) {
                            switch (r.label) {
                                case 0:
                                    return t ? [4, this.fetcher.fetchGalleryId()] : [3, 2];
                                case 1:
                                    if (r.sent(), t !== this.fetcher.galleryId) return this.directFullscreenReadyDeferred.resolve(), [2];
                                    this.isValidUUID(e) || (console.error("used requestedItemId is not valid"), this.directFullscreenReadyDeferred.resolve()), r.label = 2;
                                case 2:
                                    return r.trys.push([2, 4, , 5]), [4, this.fetcher.getItemByIdFromServer(e)];
                                case 3:
                                    return i = r.sent(), [3, 5];
                                case 4:
                                    return o = r.sent(), H.c.isVerbose() && console.warn("Could not get direct fullscreen from server (could be velo item)", o), i = null, [3, 5];
                                case 5:
                                    return i && i.itemId ? "Velo" !== this.itemsSrc && this.prepareAndSetDirectFullscreenItem(i) : ("Velo" !== this.itemsSrc && this.directFullscreenReadyDeferred.resolve(), H.c.isVerbose() && console.log("Could not fetch direct fullscreen item from server", i, "" + this.directFullscreenItem ? "The directFullscreen was loaded from wixCode" : "")), [2]
                            }
                        }))
                    }))
                }, e.prototype.pageReady = function(e) {
                    this.setProps = e
                }, e.prototype.handleManualStyleParams = function(e) {
                    this.setManualStyleParams(e), this.recalculateStylesExpensively(), this.triggerBlueprintCreation({
                        settingNewItems: !1
                    })
                }, e.prototype.triggerBlueprintCreation = function(e) {
                    var t = this,
                        i = e.settingNewItems;
                    this.readyToCreateBlueprintsDeferred.promise.then((function() {
                        !0 === i && t.blueprintsManager.resetItemLooping(), t.blueprintsManager.createBlueprint()
                    }))
                }, e.prototype.setManualStyleParams = function(e) {
                    this.manualStyleParams = e
                }, e.prototype.getManualStyleParams = function() {
                    return this.manualStyleParams || {}
                }, e.prototype.shouldDisableStoreExpandMode = function() {
                    if (this.isArtStore && this.fetcher.settings) {
                        var e = this.fetcher.settings,
                            t = e.freeArtStore,
                            i = e.ignoreFullscreen;
                        return !(!t || !i)
                    }
                    return !1
                }, e.prototype.isStoreGallery = function() {
                    var e, t = null === (e = this.fetcher.settings) || void 0 === e ? void 0 : e.freeArtStore;
                    return this.isArtStore && !t
                }, e.prototype.getGalleryStyles = function(e) {
                    var t = this.isMobile,
                        i = this.isStoreGallery();
                    return Object(q.a)(e, {
                        isMobile: t,
                        isStoreGallery: i
                    })
                }, e.prototype.getFullscreenStyles = function(e) {
                    var t = this.isMobile,
                        i = this.isStoreGallery();
                    return le(e, i, t)
                }, e.prototype.fixGalleryStyleRatiosInMobile = function() {
                    var e;
                    if (this.isMobile && !this.isSSR() && "number" == typeof(null === (e = this.calculatedGalleryStyles) || void 0 === e ? void 0 : e.gallerySize)) {
                        var t = this.baseMobileRatioStyles,
                            i = t.gallerySize,
                            r = t.imageMargin,
                            o = void 0;
                        o = this.viewMode === n.a.viewMode.PREVIEW ? 320 / this.getDimensions().mobilePreviewFrame.width : 320 / this.getDimensions().screen.width, this.calculatedGalleryStyles.gallerySize = i * o, this.calculatedGalleryStyles.imageMargin = r * o
                    }
                }, e.prototype.recalculateStylesExpensively = function() {
                    return Object(r.b)(this, void 0, void 0, (function() {
                        var e, t, i, o, n, s;
                        return Object(r.c)(this, (function(r) {
                            return e = this.wixStyles, this.shouldDisableStoreExpandMode() && (e.numbers.itemClick = 2), t = this.getGalleryStyles(e), i = Object(a.d)(t, this.getManualStyleParams()), o = i.gallerySize, n = i.imageMargin, this.baseMobileRatioStyles = {
                                gallerySize: o,
                                imageMargin: n
                            }, this.calculatedGalleryStyles = i, s = this.getFullscreenStyles(e), this.calculatedFullscreenStyles = Object(a.d)(s, this.getManualStyleParams()), this.fixGalleryStyleRatiosInMobile(), [2]
                        }))
                    }))
                }, e.prototype.getPGStyles = function() {
                    return Object(r.b)(this, void 0, void 0, (function() {
                        return Object(r.c)(this, (function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, H.a.verifyExperiments(this.scopedGlobalSdkApis)];
                                case 1:
                                    return e.sent(), this.calculatedGalleryStyles ? [3, 3] : [4, this.recalculateStylesExpensively()];
                                case 2:
                                    e.sent(), e.label = 3;
                                case 3:
                                    return [2, this.calculatedGalleryStyles]
                            }
                        }))
                    }))
                }, e
            }();
        t.a = Se
    }, function(e, t, i) {
        "use strict";
        (function(e) {
            var r = i(0),
                o = i(39),
                n = i(12),
                a = i(25),
                s = i(1),
                l = function() {
                    function t() {
                        this._cache = {}, this._hash2int = {}, this._params = {}, Object.assign(this, o)
                    }
                    return t.prototype.shouldUseCache = function() {
                        return !Object(a.b)() && !Object(a.c)() && !this.isSSR()
                    }, t.prototype.isUndefined = function(e) {
                        return void 0 === e
                    }, t.prototype.dumpCache = function() {
                        this._cache = {}
                    }, t.prototype.getOrPutFromCache = function(e, t) {
                        return this.shouldUseCache() ? (void 0 !== this._cache[e] || (this._cache[e] = t()), this._cache[e]) : t()
                    }, t.prototype.hashToInt = function(e, t, i) {
                        var r = 0;
                        if (this.isUndefined(e) || 0 === e.length) return r;
                        if (!this._hash2int[e]) {
                            for (var o = 0; o < e.length; o++) r += e.charCodeAt(o);
                            this._hash2int[e] = r
                        }
                        return this.isUndefined(t) || this.isUndefined(i) ? this._hash2int[e] : this._hash2int[e] % (i - t + 1) + t
                    }, t.prototype.parseGetParam = function(e, t) {
                        try {
                            if (!this.isUndefined(this._params[e])) return this._params[e];
                            var i = "",
                                r = [],
                                o = location;
                            if (t && (o = {
                                    search: "?" + (t.split("?")[1] || ""),
                                    pathname: (t.split("?")[0] || "").split("/")[1] || ""
                                }), o.search.substr(1).split("&").forEach((function(t) {
                                    (r = t.split("="))[0] === e && (i = decodeURIComponent(r[1]))
                                })), !i) {
                                var n = decodeURIComponent(o.pathname).split("?")[1];
                                if (!n) return "";
                                n.split("&").forEach((function(t) {
                                    (r = t.split("="))[0] === e && (i = decodeURIComponent(r[1]))
                                }))
                            }
                            return this._params[e] = i, i
                        } catch (e) {
                            return !1
                        }
                    }, t.prototype.stripSlashes = function(e) {
                        var t = "";
                        return "string" == typeof e && (t = e.replace(/\\\//g, "/").replace(/\\'/g, "'").replace(/\\"/g, '"').replace(/\\0/g, "\0").replace(/\\\\/g, "\\")), t
                    }, t.prototype.parseStringObject = function(e) {
                        if ("string" != typeof e) return e;
                        var t = this.stripSlashes(e);
                        if ("string" == typeof e && /^[\],:{}\s]*$/.test(t.replace(/\\["\\/bfnrtu]/g, "@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, ""))) try {
                            return JSON.parse(t)
                        } catch (e) {}
                        return t
                    }, t.prototype.hashCode = function(e) {
                        var t, i = 0;
                        if (0 === e.length) return i;
                        for (t = 0; t < e.length; t++) i = (i << 5) - i + e.charCodeAt(t), i |= 0;
                        return i
                    }, t.prototype.isMobileByProps = function() {
                        var e = this;
                        return this.getOrPutFromCache("isMobileByProps", (function() {
                            var t = e.parseGetParam("deviceType") || n.a.deviceType,
                                i = "true" === e.parseGetParam("showMobileView"),
                                r = Object(a.a)();
                            return !!i || (t ? String(t).toLowerCase().indexOf("mobile") >= 0 : r || void 0)
                        }))
                    }, t.prototype.isUserAgentMobile = function() {
                        try {
                            return this.getOrPutFromCache("isUserAgentMobile", (function() {
                                var e, t = !1;
                                return e = navigator.userAgent || navigator.vendor || n.a.opera, (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|pixel|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0, 4))) && (t = !0), t
                            }))
                        } catch (e) {
                            return !1
                        }
                    }, t.prototype.isMobile = function() {
                        var e = this;
                        return this.getOrPutFromCache("isMobile", (function() {
                            var t = e.isMobileByProps(),
                                i = e.isUserAgentMobile();
                            return e.isUndefined(t) ? i : t
                        }))
                    }, t.prototype.isTest = function() {
                        try {
                            return n.a.isTest
                        } catch (e) {
                            return !1
                        }
                    }, t.prototype.isLocal = function() {
                        try {
                            var e = n.a.location.hostname;
                            return "local.wix.com" === e || (e.indexOf("localhost") >= 0 || "true" === this.parseGetParam("debug"))
                        } catch (e) {
                            return !1
                        }
                    }, t.prototype.isDev = function() {
                        var e = this;
                        return this.getOrPutFromCache("isDev", (function() {
                            return e.shouldDebug("ph_local") || e.isOOI() && !1 || "true" === (e.safeLocalStorage() || {}).forceDevMode
                        }))
                    }, t.prototype.isVerbose = function() {
                        return !this.isTest() && "true" === (this.safeLocalStorage() || {}).forceDevMode
                    }, t.prototype.isStoreGallery = function() {
                        var e = this;
                        return this.getOrPutFromCache("isStoreGallery", (function() {
                            try {
                                return n.a.location.search.toLowerCase().indexOf("isstore") > -1
                            } catch (t) {
                                return e.isDev() && console.error("cant find window", t), !1
                            }
                        }))
                    }, t.prototype.isSSR = function() {
                        return void 0 === e.window
                    }, t.prototype.isOOI = function() {
                        return this.isSSR() || "undefined" != typeof top && "undefined" != typeof self && (top === self || self.location.origin.includes("editor.wix.com"))
                    }, t.prototype.generateUUID = function() {
                        return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (function(e) {
                            var t = Math.floor(16 * Math.random()) || 0;
                            return "x" === e ? t.toString(16) : e
                        }))
                    }, t.prototype.isExternalUrl = function(e) {
                        return /(^https?)|(^data)|(^blob)/.test(e)
                    }, t.prototype.isiOS = function() {
                        return this.getOrPutFromCache("isiOS", (function() {
                            try {
                                return /iPad|iPhone|iPod/.test(navigator.userAgent) && !n.a.MSStream
                            } catch (e) {
                                return !1
                            }
                        }))
                    }, t.prototype.isiPhone = function() {
                        return this.getOrPutFromCache("isiPhone", (function() {
                            try {
                                return /iPhone/.test(navigator.userAgent) && !n.a.MSStream
                            } catch (e) {
                                return !1
                            }
                        }))
                    }, t.prototype.isLandscape = function() {
                        var e = this;
                        return this.getOrPutFromCache("isLandscape", (function() {
                            if (!e.isMobile()) return !1;
                            try {
                                if (e.isUndefined(n.a.orientation)) {
                                    var t = n.a.matchMedia("(orientation: landscape)");
                                    return !(!t || !0 !== t.matches)
                                }
                                return 90 === n.a.orientation || -90 === n.a.orientation
                            } catch (e) {
                                return !1
                            }
                        }))
                    }, t.prototype.safeLocalStorage = function() {
                        try {
                            return localStorage || n.a
                        } catch (e) {
                            return n.a
                        }
                    }, t.prototype.shouldDebug = function(e) {
                        try {
                            return !!this.safeLocalStorage()[e] || (n.a.debugApp || "").indexOf(e) >= 0 || (this.parseGetParam("debugApp") || "").indexOf(e) >= 0
                        } catch (e) {
                            return !1
                        }
                    }, t.prototype.deviceHasMemoryIssues = function() {
                        return this.isiOS()
                    }, t.prototype.getTabIndex = function(e) {
                        var t = ["currentGalleryItem", "loadMoreButton", "slideshowNext", "slideshowPrev", "currentThumbnail", "slideshowLove", "slideshowShare", "cartIcon", "cartClose", "cartFrame", "fullscreenClose", "fullscreenNext", "fullscreenPrev", "fullscreenInfo", "fullscreenLink", "fullscreenProvider", "fullscreenCartButton", "fullscreenCheckout", "fullscreenExpand", "fullscreenVideoPlay", "fullscreenVideoBar", "fullscreenVideoMute", "fullscreenVideoVolume", "fullscreenCartIcon", "fullscreenDownload", "fullscreenLove", "fullscreenShare"].indexOf(e) + 1;
                        return t >= 0 && this.isOOI() ? 0 : t || -1
                    }, t.prototype.setStateAndLog = function(e, t, i, o) {
                        var n = this;
                        if (this.isVerbose()) {
                            console.log("State Change Called (" + t + ")", i);
                            var a = Object(r.a)({}, e.state);
                            e.setState(i, (function() {
                                var i = Object(r.a)({}, e.state),
                                    s = n.printableObjectsDiff(a, i, "state");
                                Object.keys(s).length > 0 && console.log("State Change Completed (" + t + ")", s), n.isFunction(o) && o.bind(e)()
                            }))
                        } else e.setState(i, (function() {
                            n.isFunction(o) && o.bind(e)()
                        }))
                    }, t.prototype.printableObjectsDiff = function(e, t, i) {
                        var r = this;
                        void 0 === i && (i = "");
                        var o = function(e) {
                                return "" === e ? e = "''" : r.isUndefined(e) && (e = "undefined"), String(e)
                            },
                            n = function(e, t, i, a) {
                                return void 0 === e && (e = {}), void 0 === t && (t = {}), void 0 === a && (a = 1), a > 3 ? {} : Object.entries(e).reduce((function(e, s) {
                                    var l = s[0],
                                        u = s[1];
                                    return r.isEqual(u, t[l]) || (Array.isArray(t[l]) ? (u.length !== t[l].length && (e[l + ".length"] = "[" + u.length + "] => [" + t[l].length + "]"), e = Object.assign(e, n(u, t[l], (i ? i + "." : "") + l, a + 1))) : "object" == typeof t[l] ? e = Object.assign(e, n(u, t[l], (i ? i + "." : "") + l, a + 1)) : e[(i ? i + "." : "") + l] = o(u) + " => " + o(t[l])), e
                                }), {})
                            };
                        return n(e, t, i, 1)
                    }, t.prototype.getScreenWidth = function() {
                        if (Object(a.c)() && this.isMobile()) return 320;
                        if (this.isTest()) return 1920;
                        try {
                            return this.isLandscape() ? Math.max(n.a.screen.width, n.a.screen.height) : n.a.screen.width
                        } catch (e) {
                            return 1920
                        }
                    }, t.prototype.getScreenHeight = function() {
                        if (this.isTest()) return 1200;
                        try {
                            return this.isLandscape() ? Math.min(n.a.screen.width, n.a.screen.height) : n.a.screen.height
                        } catch (e) {
                            return 1200
                        }
                    }, t.prototype.getWindowWidth = function() {
                        try {
                            return n.a.innerWidth || 980
                        } catch (e) {
                            return 980
                        }
                    }, t.prototype.getMobileEnabledClick = function(e) {
                        return this.isMobile() ? {
                            onTouchEnd: e
                        } : {
                            onClick: e
                        }
                    }, t.prototype.getTopUrlParam = function(e) {
                        if (this.isUndefined(this._cache.params) && (this._cache.params = {}), this.isUndefined(this._cache.params[e])) try {
                            this._cache.params[e] = top.location.search.replace("?", "").split("&").map((function(t) {
                                var i = t.split("=");
                                return i[0] === e && i[1] || ""
                            })).join("")
                        } catch (t) {
                            this._cache.params[e] = !1
                        }
                        return this._cache.params[e]
                    }, t.prototype.scrollTo = function(e, t, i, r, o) {
                        this.isMobile() && (i = 0);
                        var n = r ? e.scrollLeft : e.scrollTop,
                            a = t - n,
                            s = 0,
                            l = function() {
                                var t = function(e, t, i, r) {
                                    return 0 === r ? i + t : (e /= r / 2) < 1 ? i / 2 * e * e + t : -i / 2 * (--e * (e - 2) - 1) + t
                                }(s += 20, n, a, i);
                                s < i ? setTimeout(l, 20) : (e.setAttribute("data-scrolling", ""), "function" == typeof o && o()), r ? e.scrollLeft = t : e.scrollTop = t
                            };
                        e.setAttribute("data-scrolling", "true"), l()
                    }, t.prototype.formatColor = function(e) {
                        if (!e) return "inherit";
                        var t = e.value ? e.value : e,
                            i = /(?:#|0x)(?:[A-Fa-f0-9]{3}|[A-Fa-f0-9]{6})\b|(?:rgb|hsl)a?\([^)]*\)/.exec(t);
                        return i && i[0] ? t : "inherit"
                    }, t.prototype.logPlaygroundLink = function(e) {
                        try {
                            if (this.isVerbose()) {
                                var t = Object.entries(e).filter((function(e) {
                                    var t = e[0];
                                    return "object" != typeof e[1] && -1 === String(t).indexOf("Expand") && -1 === String(t).indexOf("Color")
                                })).map((function(e) {
                                    var t = e[0],
                                        i = e[1];
                                    return t + "=" + encodeURI(i)
                                })).join("&");
                                console.log("Gallery Playground link:", "https://pro-gallery.surge.sh?" + t)
                            }
                        } catch (e) {
                            console.error(e)
                        }
                    }, t.prototype.isSingleItemHorizontalDisplay = function(e) {
                        return e.scrollDirection === s.a.scrollDirection.HORIZONTAL && 1 === e.groupSize && e.cubeImages && "100%/100%" === e.layoutParams.cropRatio
                    }, t.prototype.getAriaAttributes = function(e) {
                        var t, i = e.proGalleryRole,
                            r = e.proGalleryRegionLabel;
                        return (t = {
                            role: i || "region"
                        })["aria-label"] = r || "Press the Enter key and then use the arrow keys to navigate the gallery items", t["aria-roledescription"] = "application" === i ? "gallery application" : "region", t
                    }, t.prototype.focusGalleryElement = function(e) {
                        e.focus()
                    }, t.prototype.isMeaningfulString = function(e) {
                        return "string" == typeof e && !!e.trim().length
                    }, t
                }();
            t.a = new l
        }).call(this, i(46))
    }, function(e, t, i) {
        "use strict";
        t.a = {
            DESKTOP: "desktop",
            MOBILE: "mobile",
            TABLET: "tablet"
        }
    }, function(e, t, i) {
        "use strict";
        t.a = {
            SMART: "smart",
            PIXELS: "px",
            RATIO: "ratio"
        }
    }, , function(e, t, i) {
        "use strict";
        t.a = {
            BLUR: "BLUR",
            COLOR: "COLOR",
            MAIN_COLOR: "MAIN_COLOR"
        }
    }, function(e, t, i) {
        "use strict";
        i.d(t, "d", (function() {
            return n
        })), i.d(t, "b", (function() {
            return a
        })), i.d(t, "c", (function() {
            return s
        })), i.d(t, "a", (function() {
            return l
        }));
        var r = i(18),
            o = i(21),
            n = new(function() {
                function e() {
                    this.setViewMode = this.setViewMode.bind(this), this.isSiteMode = this.isSiteMode.bind(this), this.isEditMode = this.isEditMode.bind(this), this.isPreviewMode = this.isPreviewMode.bind(this), this.isSEOMode = this.isSEOMode.bind(this), this.setDeviceType = this.setDeviceType.bind(this), this.isDeviceTypeDesktop = this.isDeviceTypeDesktop.bind(this), this.isDeviceTypeMobile = this.isDeviceTypeMobile.bind(this), this.isDeviceTypeTablet = this.isDeviceTypeTablet.bind(this), this.isDeviceTypeTouch = this.isDeviceTypeTouch.bind(this), this._viewMode = r.a.SITE, this._deviceType = o.a.DESKTOP
                }
                return e.prototype.setViewMode = function(e) {
                    this._viewMode = e
                }, e.prototype.setDeviceType = function(e) {
                    this._deviceType = e
                }, e.prototype.isDeviceTypeMobile = function() {
                    return this._deviceType === o.a.MOBILE
                }, e.prototype.isDeviceTypeTablet = function() {
                    return this._deviceType === o.a.TABLET
                }, e.prototype.isDeviceTypeDesktop = function() {
                    return this._deviceType === o.a.DESKTOP
                }, e.prototype.isDeviceTypeTouch = function() {
                    return this.isMobile() || this.isTablet()
                }, e.prototype.isSiteMode = function() {
                    return this._viewMode === r.a.SITE
                }, e.prototype.isEditMode = function() {
                    return this._viewMode === r.a.EDIT
                }, e.prototype.isPreviewMode = function() {
                    return this._viewMode === r.a.PREVIEW
                }, e.prototype.isSEOMode = function() {
                    return this._viewMode === r.a.SEO
                }, e
            }()),
            a = (n.isSiteMode, n.isEditMode),
            s = n.isPreviewMode,
            l = (n.isSEOMode, n.isDeviceTypeMobile);
        n.isDeviceTypeTablet, n.isDeviceTypeDesktop, n.isDeviceTypeTouch
    }, function(e, t, i) {
        "use strict";
        t.a = {
            ON_GALLERY: 0,
            OUTSIDE_GALLERY: 1
        }
    }, function(e, t, i) {
        "use strict";
        t.a = {
            NO_BACKGROUND: "NO_BACKGROUND",
            ATTACHED_BACKGROUND: "ATTACHED_BACKGROUND",
            SEPARATED_BACKGROUND: "SEPARATED_BACKGROUND",
            DONT_SHOW: "DONT_SHOW"
        }
    }, function(e, t, i) {
        "use strict";
        t.a = {
            PICKED_COLOR: "PICKED_COLOR",
            MAIN_COLOR: "MAIN_COLOR"
        }
    }, function(e, t, i) {
        "use strict";
        t.a = {
            SCROLL: "SCROLL",
            FADE: "FADE",
            DECK: "DECK"
        }
    }, function(e, t, i) {
        "use strict";
        t.a = {
            PERCENT: "PERCENT",
            MANUAL: "MANUAL"
        }
    }, function(e, t, i) {
        "use strict";
        var r = i(0),
            o = function() {
                function e() {}
                return e.prototype.getDirectFullscreenFromParams = function(e) {
                    var t = e && e.pgid;
                    if (t) {
                        var i = t.includes("_") ? t.split("_") : t.split(/-(.+)/);
                        return {
                            galleryIdent: i[0],
                            itemId: i[1]
                        }
                    }
                    return !1
                }, e.prototype.getDirectFullscreenItemFromItemsList = function(e, t, i, o) {
                    return Object(r.b)(this, void 0, void 0, (function() {
                        var n;
                        return Object(r.c)(this, (function(r) {
                            switch (r.label) {
                                case 0:
                                    return (n = this.getDirectFullscreenFromParams(e)) && t ? i.includes(n.galleryIdent) ? [3, 3] : o.galleryId ? [3, 2] : [4, o.fetchGalleryId()] : [2, void 0];
                                case 1:
                                    r.sent(), r.label = 2;
                                case 2:
                                    if (o.galleryId !== n.galleryIdent) return [2, void 0];
                                    r.label = 3;
                                case 3:
                                    return [2, t[t.findIndex((function(e) {
                                        return e.itemId === n.itemId && !e.metaData.isVideoPlaceholder
                                    }))]]
                            }
                        }))
                    }))
                }, e.prototype.loadDirectFullscreen = function(e, t, i, r) {
                    var o = this.getDirectFullscreenFromParams(i);
                    o ? e.includes(o.galleryIdent) ? (r.loadDirectFullscreenItem(o.itemId), r.createDirectFullscreenBlueprintMockIfNeeded()) : r.isValidUUID(o.galleryIdent) ? (r.loadDirectFullscreenItem(o.itemId, o.galleryIdent), r.createDirectFullscreenBlueprintMockIfNeeded()) : r.directFullscreenReadyDeferred.resolve() : r.directFullscreenReadyDeferred.resolve()
                }, e.prototype.setMetaTagsForItemIfNeeded = function(e, t) {
                    var i = e.isInSEO;
                    if (t && i) {
                        var r = t.metaData;
                        e.setMetaTags && e.setMetaTags("image", r)
                    }
                }, e
            }();
        t.a = new o
    }, function(e, t, i) {
        "use strict";
        var r = i(44),
            o = i(45);

        function n(e, t) {
            return t.encode ? t.strict ? r(e) : encodeURIComponent(e) : e
        }
        t.extract = function(e) {
            return e.split("?")[1] || ""
        }, t.parse = function(e, t) {
            var i = function(e) {
                    var t;
                    switch (e.arrayFormat) {
                        case "index":
                            return function(e, i, r) {
                                t = /\[(\d*)\]$/.exec(e), e = e.replace(/\[\d*\]$/, ""), t ? (void 0 === r[e] && (r[e] = {}), r[e][t[1]] = i) : r[e] = i
                            };
                        case "bracket":
                            return function(e, i, r) {
                                t = /(\[\])$/.exec(e), e = e.replace(/\[\]$/, ""), t ? void 0 !== r[e] ? r[e] = [].concat(r[e], i) : r[e] = [i] : r[e] = i
                            };
                        default:
                            return function(e, t, i) {
                                void 0 !== i[e] ? i[e] = [].concat(i[e], t) : i[e] = t
                            }
                    }
                }(t = o({
                    arrayFormat: "none"
                }, t)),
                r = Object.create(null);
            return "string" != typeof e ? r : (e = e.trim().replace(/^(\?|#|&)/, "")) ? (e.split("&").forEach((function(e) {
                var t = e.replace(/\+/g, " ").split("="),
                    o = t.shift(),
                    n = t.length > 0 ? t.join("=") : void 0;
                n = void 0 === n ? null : decodeURIComponent(n), i(decodeURIComponent(o), n, r)
            })), Object.keys(r).sort().reduce((function(e, t) {
                var i = r[t];
                return Boolean(i) && "object" == typeof i && !Array.isArray(i) ? e[t] = function e(t) {
                    return Array.isArray(t) ? t.sort() : "object" == typeof t ? e(Object.keys(t)).sort((function(e, t) {
                        return Number(e) - Number(t)
                    })).map((function(e) {
                        return t[e]
                    })) : t
                }(i) : e[t] = i, e
            }), Object.create(null))) : r
        }, t.stringify = function(e, t) {
            var i = function(e) {
                switch (e.arrayFormat) {
                    case "index":
                        return function(t, i, r) {
                            return null === i ? [n(t, e), "[", r, "]"].join("") : [n(t, e), "[", n(r, e), "]=", n(i, e)].join("")
                        };
                    case "bracket":
                        return function(t, i) {
                            return null === i ? n(t, e) : [n(t, e), "[]=", n(i, e)].join("")
                        };
                    default:
                        return function(t, i) {
                            return null === i ? n(t, e) : [n(t, e), "=", n(i, e)].join("")
                        }
                }
            }(t = o({
                encode: !0,
                strict: !0,
                arrayFormat: "none"
            }, t));
            return e ? Object.keys(e).sort().map((function(r) {
                var o = e[r];
                if (void 0 === o) return "";
                if (null === o) return n(r, t);
                if (Array.isArray(o)) {
                    var a = [];
                    return o.slice().forEach((function(e) {
                        void 0 !== e && a.push(i(r, e, a.length))
                    })), a.join("&")
                }
                return n(r, t) + "=" + n(o, t)
            })).filter((function(e) {
                return e.length > 0
            })).join("&") : ""
        }
    }, function(e, t, i) {
        "use strict";
        i.d(t, "a", (function() {
            return s
        }));
        var r = i(3),
            o = i(4),
            n = i(17),
            a = function() {
                function e() {
                    this.getExperiment = this.getExperiment.bind(this), this.getExperiments = this.getExperiments.bind(this), this.setExperiments = this.setExperiments.bind(this), this.getExperimentBoolean = this.getExperimentBoolean.bind(this), this._experiments = Object.assign({}, Object(r.a)({}, o.a.petri)), this.experimentsAreReady = Object.keys(this._experiments) > 0, this.onExperimentReadyCb = []
                }
                return e.prototype.setExperiments = function(e) {
                    if (e) try {
                        Object.assign(this._experiments, Object(r.a)({}, e)), n.a.isDev() && (o.a.petri = this._experiments), this.triggerExperimentsReady(), this.experimentsAreReady = !0
                    } catch (e) {
                        console.error("Could not set experiments", e)
                    }
                }, Object.defineProperty(e.prototype, "experiments", {
                    get: function() {
                        return this.getExperiments()
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.getExperiments = function() {
                    return n.a.isDev() ? Object(r.a)(Object(r.a)({}, this._experiments), o.a.petri) : this._experiments
                }, e.prototype.getExperiment = function(e) {
                    return this.experiments[e]
                }, e.prototype.getExperimentBoolean = function(e) {
                    return "true" === this.getExperiment(e) || !0 === this.getExperiment(e)
                }, Object.defineProperty(e.prototype, "isReady", {
                    get: function() {
                        return this.experimentsAreReady || Object.keys(this._experiments) > 0
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.triggerExperimentsReady = function() {
                    var e = this;
                    try {
                        this.onExperimentReadyCb.forEach((function(t) {
                            return t(e.experiments)
                        }))
                    } catch (e) {
                        console.error("Could not trigger experiments callback", e)
                    }
                }, e.prototype.onExperimentsReady = function(e) {
                    "function" == typeof e && (this.isReady ? e(this.experiments) : this.onExperimentReadyCb.push(e))
                }, e
            }(),
            s = function() {
                if (n.a.isDev()) {
                    if (!o.a.proGalleryExperimentsWrapper) {
                        var e = new a;
                        o.a.proGalleryExperimentsWrapper = e
                    }
                    return o.a.proGalleryExperimentsWrapper
                }
                return new a
            }();
        s.getExperiment
    }, function(e, t, i) {
        var r = function(e) {
            "use strict";
            var t = Object.prototype,
                i = t.hasOwnProperty,
                r = "function" == typeof Symbol ? Symbol : {},
                o = r.iterator || "@@iterator",
                n = r.asyncIterator || "@@asyncIterator",
                a = r.toStringTag || "@@toStringTag";

            function s(e, t, i) {
                return Object.defineProperty(e, t, {
                    value: i,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }), e[t]
            }
            try {
                s({}, "")
            } catch (e) {
                s = function(e, t, i) {
                    return e[t] = i
                }
            }

            function l(e, t, i, r) {
                var o = t && t.prototype instanceof h ? t : h,
                    n = Object.create(o.prototype),
                    a = new I(r || []);
                return n._invoke = function(e, t, i) {
                    var r = "suspendedStart";
                    return function(o, n) {
                        if ("executing" === r) throw new Error("Generator is already running");
                        if ("completed" === r) {
                            if ("throw" === o) throw n;
                            return E()
                        }
                        for (i.method = o, i.arg = n;;) {
                            var a = i.delegate;
                            if (a) {
                                var s = v(a, i);
                                if (s) {
                                    if (s === c) continue;
                                    return s
                                }
                            }
                            if ("next" === i.method) i.sent = i._sent = i.arg;
                            else if ("throw" === i.method) {
                                if ("suspendedStart" === r) throw r = "completed", i.arg;
                                i.dispatchException(i.arg)
                            } else "return" === i.method && i.abrupt("return", i.arg);
                            r = "executing";
                            var l = u(e, t, i);
                            if ("normal" === l.type) {
                                if (r = i.done ? "completed" : "suspendedYield", l.arg === c) continue;
                                return {
                                    value: l.arg,
                                    done: i.done
                                }
                            }
                            "throw" === l.type && (r = "completed", i.method = "throw", i.arg = l.arg)
                        }
                    }
                }(e, i, a), n
            }

            function u(e, t, i) {
                try {
                    return {
                        type: "normal",
                        arg: e.call(t, i)
                    }
                } catch (e) {
                    return {
                        type: "throw",
                        arg: e
                    }
                }
            }
            e.wrap = l;
            var c = {};

            function h() {}

            function p() {}

            function d() {}
            var g = {};
            s(g, o, (function() {
                return this
            }));
            var m = Object.getPrototypeOf,
                f = m && m(m(w([])));
            f && f !== t && i.call(f, o) && (g = f);
            var y = d.prototype = h.prototype = Object.create(g);

            function S(e) {
                ["next", "throw", "return"].forEach((function(t) {
                    s(e, t, (function(e) {
                        return this._invoke(t, e)
                    }))
                }))
            }

            function b(e, t) {
                var r;
                this._invoke = function(o, n) {
                    function a() {
                        return new t((function(r, a) {
                            ! function r(o, n, a, s) {
                                var l = u(e[o], e, n);
                                if ("throw" !== l.type) {
                                    var c = l.arg,
                                        h = c.value;
                                    return h && "object" == typeof h && i.call(h, "__await") ? t.resolve(h.__await).then((function(e) {
                                        r("next", e, a, s)
                                    }), (function(e) {
                                        r("throw", e, a, s)
                                    })) : t.resolve(h).then((function(e) {
                                        c.value = e, a(c)
                                    }), (function(e) {
                                        return r("throw", e, a, s)
                                    }))
                                }
                                s(l.arg)
                            }(o, n, r, a)
                        }))
                    }
                    return r = r ? r.then(a, a) : a()
                }
            }

            function v(e, t) {
                var i = e.iterator[t.method];
                if (void 0 === i) {
                    if (t.delegate = null, "throw" === t.method) {
                        if (e.iterator.return && (t.method = "return", t.arg = void 0, v(e, t), "throw" === t.method)) return c;
                        t.method = "throw", t.arg = new TypeError("The iterator does not provide a 'throw' method")
                    }
                    return c
                }
                var r = u(i, e.iterator, t.arg);
                if ("throw" === r.type) return t.method = "throw", t.arg = r.arg, t.delegate = null, c;
                var o = r.arg;
                return o ? o.done ? (t[e.resultName] = o.value, t.next = e.nextLoc, "return" !== t.method && (t.method = "next", t.arg = void 0), t.delegate = null, c) : o : (t.method = "throw", t.arg = new TypeError("iterator result is not an object"), t.delegate = null, c)
            }

            function _(e) {
                var t = {
                    tryLoc: e[0]
                };
                1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), this.tryEntries.push(t)
            }

            function O(e) {
                var t = e.completion || {};
                t.type = "normal", delete t.arg, e.completion = t
            }

            function I(e) {
                this.tryEntries = [{
                    tryLoc: "root"
                }], e.forEach(_, this), this.reset(!0)
            }

            function w(e) {
                if (e) {
                    var t = e[o];
                    if (t) return t.call(e);
                    if ("function" == typeof e.next) return e;
                    if (!isNaN(e.length)) {
                        var r = -1,
                            n = function t() {
                                for (; ++r < e.length;)
                                    if (i.call(e, r)) return t.value = e[r], t.done = !1, t;
                                return t.value = void 0, t.done = !0, t
                            };
                        return n.next = n
                    }
                }
                return {
                    next: E
                }
            }

            function E() {
                return {
                    value: void 0,
                    done: !0
                }
            }
            return p.prototype = d, s(y, "constructor", d), s(d, "constructor", p), p.displayName = s(d, a, "GeneratorFunction"), e.isGeneratorFunction = function(e) {
                var t = "function" == typeof e && e.constructor;
                return !!t && (t === p || "GeneratorFunction" === (t.displayName || t.name))
            }, e.mark = function(e) {
                return Object.setPrototypeOf ? Object.setPrototypeOf(e, d) : (e.__proto__ = d, s(e, a, "GeneratorFunction")), e.prototype = Object.create(y), e
            }, e.awrap = function(e) {
                return {
                    __await: e
                }
            }, S(b.prototype), s(b.prototype, n, (function() {
                return this
            })), e.AsyncIterator = b, e.async = function(t, i, r, o, n) {
                void 0 === n && (n = Promise);
                var a = new b(l(t, i, r, o), n);
                return e.isGeneratorFunction(i) ? a : a.next().then((function(e) {
                    return e.done ? e.value : a.next()
                }))
            }, S(y), s(y, a, "Generator"), s(y, o, (function() {
                return this
            })), s(y, "toString", (function() {
                return "[object Generator]"
            })), e.keys = function(e) {
                var t = [];
                for (var i in e) t.push(i);
                return t.reverse(),
                    function i() {
                        for (; t.length;) {
                            var r = t.pop();
                            if (r in e) return i.value = r, i.done = !1, i
                        }
                        return i.done = !0, i
                    }
            }, e.values = w, I.prototype = {
                constructor: I,
                reset: function(e) {
                    if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(O), !e)
                        for (var t in this) "t" === t.charAt(0) && i.call(this, t) && !isNaN(+t.slice(1)) && (this[t] = void 0)
                },
                stop: function() {
                    this.done = !0;
                    var e = this.tryEntries[0].completion;
                    if ("throw" === e.type) throw e.arg;
                    return this.rval
                },
                dispatchException: function(e) {
                    if (this.done) throw e;
                    var t = this;

                    function r(i, r) {
                        return a.type = "throw", a.arg = e, t.next = i, r && (t.method = "next", t.arg = void 0), !!r
                    }
                    for (var o = this.tryEntries.length - 1; o >= 0; --o) {
                        var n = this.tryEntries[o],
                            a = n.completion;
                        if ("root" === n.tryLoc) return r("end");
                        if (n.tryLoc <= this.prev) {
                            var s = i.call(n, "catchLoc"),
                                l = i.call(n, "finallyLoc");
                            if (s && l) {
                                if (this.prev < n.catchLoc) return r(n.catchLoc, !0);
                                if (this.prev < n.finallyLoc) return r(n.finallyLoc)
                            } else if (s) {
                                if (this.prev < n.catchLoc) return r(n.catchLoc, !0)
                            } else {
                                if (!l) throw new Error("try statement without catch or finally");
                                if (this.prev < n.finallyLoc) return r(n.finallyLoc)
                            }
                        }
                    }
                },
                abrupt: function(e, t) {
                    for (var r = this.tryEntries.length - 1; r >= 0; --r) {
                        var o = this.tryEntries[r];
                        if (o.tryLoc <= this.prev && i.call(o, "finallyLoc") && this.prev < o.finallyLoc) {
                            var n = o;
                            break
                        }
                    }
                    n && ("break" === e || "continue" === e) && n.tryLoc <= t && t <= n.finallyLoc && (n = null);
                    var a = n ? n.completion : {};
                    return a.type = e, a.arg = t, n ? (this.method = "next", this.next = n.finallyLoc, c) : this.complete(a)
                },
                complete: function(e, t) {
                    if ("throw" === e.type) throw e.arg;
                    return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg, this.method = "return", this.next = "end") : "normal" === e.type && t && (this.next = t), c
                },
                finish: function(e) {
                    for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                        var i = this.tryEntries[t];
                        if (i.finallyLoc === e) return this.complete(i.completion, i.afterLoc), O(i), c
                    }
                },
                catch: function(e) {
                    for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                        var i = this.tryEntries[t];
                        if (i.tryLoc === e) {
                            var r = i.completion;
                            if ("throw" === r.type) {
                                var o = r.arg;
                                O(i)
                            }
                            return o
                        }
                    }
                    throw new Error("illegal catch attempt")
                },
                delegateYield: function(e, t, i) {
                    return this.delegate = {
                        iterator: w(e),
                        resultName: t,
                        nextLoc: i
                    }, "next" === this.method && (this.arg = void 0), c
                }
            }, e
        }(e.exports);
        try {
            regeneratorRuntime = r
        } catch (e) {
            "object" == typeof globalThis ? globalThis.regeneratorRuntime = r : Function("r", "regeneratorRuntime = r")(r)
        }
    }, function(e, t, i) {
        "use strict";
        i.d(t, "a", (function() {
            return r
        }));
        var r = function() {
            function e() {
                this.log = [], this.creationTime = Date.now(), this.push = this.push.bind(this), this.push("created worker log")
            }
            return e.prototype.push = function(e) {
                var t = Date.now() - this.creationTime + "ms";
                this.log.push("[" + t + "]: " + e)
            }, e
        }()
    }, function(e, t, i) {
        var r;
        "undefined" != typeof self && self, r = function() {
            return function(e) {
                var t = {};

                function i(r) {
                    if (t[r]) return t[r].exports;
                    var o = t[r] = {
                        i: r,
                        l: !1,
                        exports: {}
                    };
                    return e[r].call(o.exports, o, o.exports, i), o.l = !0, o.exports
                }
                return i.m = e, i.c = t, i.d = function(e, t, r) {
                    i.o(e, t) || Object.defineProperty(e, t, {
                        enumerable: !0,
                        get: r
                    })
                }, i.r = function(e) {
                    "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
                        value: "Module"
                    }), Object.defineProperty(e, "__esModule", {
                        value: !0
                    })
                }, i.t = function(e, t) {
                    if (1 & t && (e = i(e)), 8 & t) return e;
                    if (4 & t && "object" == typeof e && e && e.__esModule) return e;
                    var r = Object.create(null);
                    if (i.r(r), Object.defineProperty(r, "default", {
                            enumerable: !0,
                            value: e
                        }), 2 & t && "string" != typeof e)
                        for (var o in e) i.d(r, o, function(t) {
                            return e[t]
                        }.bind(null, o));
                    return r
                }, i.n = function(e) {
                    var t = e && e.__esModule ? function() {
                        return e.default
                    } : function() {
                        return e
                    };
                    return i.d(t, "a", t), t
                }, i.o = function(e, t) {
                    return Object.prototype.hasOwnProperty.call(e, t)
                }, i.p = "https://static.parastorage.com/services/video-gallery-sdk/1.489.0/", i(i.s = 1)
            }([function(e, t, i) {
                (function(e) {
                    var i = ["responseType", "withCredentials", "timeout", "onprogress"];

                    function r(e, t, i) {
                        e[t] = e[t] || i
                    }
                    t.ajax = function(t, o) {
                        var n = t.headers || {},
                            a = t.body,
                            s = t.method || (a ? "POST" : "GET"),
                            l = !1,
                            u = t.cors && e.XDomainRequest && !/MSIE 1/.test(navigator.userAgent) ? new XDomainRequest : e.XMLHttpRequest ? new XMLHttpRequest : void 0;

                        function c(e, t) {
                            return function() {
                                l || (o(void 0 === u.status ? e : u.status, 0 === u.status ? "Error" : u.response || u.responseText || t, u), l = !0)
                            }
                        }
                        u.open(s, t.url, !0);
                        var h = u.onload = c(200);
                        u.onreadystatechange = function() {
                            4 === u.readyState && h()
                        }, u.onerror = c(null, "Error"), u.ontimeout = c(null, "Timeout"), u.onabort = c(null, "Abort"), a && (r(n, "X-Requested-With", "XMLHttpRequest"), e.FormData && a instanceof e.FormData || r(n, "Content-Type", "application/x-www-form-urlencoded"));
                        for (var p = 0, d = i.length; p < d; p++) void 0 !== t[g = i[p]] && (u[g] = t[g]);
                        for (var g in n) u.setRequestHeader(g, n[g]);
                        return u.send(a), u
                    }
                }).call(this, i(2))
            }, function(e, t, i) {
                "use strict";
                i.r(t), i.d(t, "getInfo", (function() {
                    return l
                })), i.d(t, "getVideoURLs", (function() {
                    return u
                })), i.d(t, "getVideoMetadata", (function() {
                    return c
                })), i.d(t, "getVideoId", (function() {
                    return s
                })), i.d(t, "getVideoImage", (function() {
                    return h
                }));
                var r = i(0),
                    o = function() {
                        return (o = Object.assign || function(e) {
                            for (var t, i = 1, r = arguments.length; i < r; i++)
                                for (var o in t = arguments[i]) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
                            return e
                        }).apply(this, arguments)
                    },
                    n = function() {
                        for (var e = 0, t = 0, i = arguments.length; t < i; t++) e += arguments[t].length;
                        var r = Array(e),
                            o = 0;
                        for (t = 0; t < i; t++)
                            for (var n = arguments[t], a = 0, s = n.length; a < s; a++, o++) r[o] = n[a];
                        return r
                    },
                    a = /([0-9A-Za-z_]+)/,
                    s = function(e) {
                        var t = e.split("/");
                        return 1 === t.length ? a.test(t[0]) ? t[0] : (console.error("Wrong format was passed to VideoGallerySDK.getVideoId"), e) : a.test(t[1]) ? t[1] : (console.error("Wrong format was passed to VideoGallerySDK.getVideoId"), e)
                    },
                    l = function(e) {
                        return e = s(e), new Promise((function(t, i) {
                            Object(r.ajax)({
                                url: "https://files.wix.com/site/media/files/" + e + "/info"
                            }, (function(e, r) {
                                200 === e ? t(JSON.parse(r)) : i({
                                    statusCode: e,
                                    response: r
                                })
                            }))
                        }))
                    },
                    u = function(e) {
                        return ("object" == typeof e ? Promise.resolve(e) : l(e)).then((function(e) {
                            return n((void 0 === (i = e.file_output.video) && (i = []), i.map((function(e) {
                                return {
                                    type: e.format.toUpperCase(),
                                    quality: e.quality,
                                    url: "https://video.wixstatic.com/" + e.url
                                }
                            }))), (void 0 === (t = e.file_output.adaptive_video) && (t = []), t.map((function(e) {
                                return {
                                    type: e.format.toUpperCase(),
                                    quality: "ADAPTIVE",
                                    url: "https://files.wixstatic.com/" + e.url
                                }
                            }))));
                            var t, i
                        }))
                    },
                    c = function(e) {
                        return ("object" == typeof e ? Promise.resolve(e) : l(e)).then((function(e) {
                            return o(o({}, e.file_input), {
                                size: e.file_size
                            })
                        }))
                    },
                    h = function(e, t) {
                        var i = t.previewIndex,
                            r = void 0 === i ? 0 : i,
                            o = t.resizeType,
                            n = void 0 === o ? "fill" : o,
                            a = t.quality,
                            l = void 0 === a ? 85 : a,
                            u = t.width,
                            c = t.height;
                        return "https://static.wixstatic.com/media/" + s(e) + "f00" + r + ".jpg/v1/" + n + "/w_" + u + ",h_" + c + ",al_c,q_" + l + "/image.jpg"
                    }
            }, function(e, t) {
                var i;
                i = function() {
                    return this
                }();
                try {
                    i = i || new Function("return this")()
                } catch (e) {
                    "object" == typeof window && (i = window)
                }
                e.exports = i
            }])
        }, e.exports = r()
    }, function(e, t, i) {
        "use strict";
        var r = i(1),
            o = {
                layoutParams: {
                    gallerySpacing: 0,
                    cropRatio: 1
                },
                isRTL: !1,
                isVertical: !1,
                minItemSize: 120,
                groupSize: 3,
                chooseBestGroup: !0,
                groupTypes: "1,2h,2v,3t,3b,3l,3r",
                cubeImages: !1,
                cubeType: "fill",
                smartCrop: !1,
                fullscreen: !0,
                videoLoop: !0,
                videoSound: !1,
                videoPlay: "hover",
                videoSpeed: 1,
                numberOfImagesPerRow: 3,
                collageDensity: .8,
                galleryTextAlign: "center",
                imageMargin: 10,
                fixedColumns: 0,
                showArrows: !0,
                hasThumbnails: !1,
                galleryThumbnailsAlignment: "bottom",
                gridStyle: 0,
                titlePlacement: r.a.placements.SHOW_ON_HOVER,
                hoveringBehaviour: r.a.infoBehaviourOnHover.APPEARS,
                isAutoSlideshow: !1,
                slideshowLoop: !1,
                playButtonForAutoSlideShow: !1,
                pauseAutoSlideshowOnHover: !0,
                allowSlideshowCounter: !1,
                autoSlideshowInterval: 4,
                arrowsSize: 23,
                slideshowInfoSize: 200,
                imageLoadingMode: r.a.loadingMode.BLUR,
                scrollAnimation: r.a.scrollAnimations.NO_EFFECT,
                overlayAnimation: r.a.overlayAnimations.NO_EFFECT,
                imageHoverAnimation: r.a.imageHoverAnimations.NO_EFFECT,
                itemBorderWidth: 0,
                itemBorderRadius: 0,
                itemEnableShadow: !1,
                itemShadowBlur: 20,
                loadMoreAmount: "all",
                itemShadowDirection: 135,
                itemShadowSize: 10,
                imageInfoType: r.a.infoType.NO_BACKGROUND,
                textBoxBorderRadius: 0,
                textBoxBorderWidth: 0,
                textBoxHeight: 200,
                textImageSpace: 10,
                scrollDirection: 0,
                slideAnimation: r.a.slideAnimations.SCROLL,
                autoSlideshowType: r.a.autoSlideshowTypes.INTERVAL,
                autoSlideshowContinuousSpeed: 200
            };
        t.a = o
    }, function(e, t, i) {
        "use strict";
        i.d(t, "a", (function() {
            return u
        }));
        var r = i(3),
            o = i(2),
            n = i(1),
            a = "VERTICAL",
            s = "HORIZONTAL",
            l = {
                1: {
                    id: 1,
                    layoutOrientation: s,
                    desktop: function(e) {
                        var t = Object(r.a)({}, e);
                        return (t = Object(o.a)(t, "layoutParams_repeatingGroupTypes", "1,2v,2v")).cubeImages = !0, (t = Object(o.a)(t, "layoutParams_cropRatio", "50%/100%")).imageMargin = 0, t.gridStyle = 1, t.scrollDirection = n.a.scrollDirection.HORIZONTAL, t.titlePlacement = "SHOW_ON_HOVER", t.cubeType = "crop", t
                    },
                    mobile: function(e) {
                        var t = Object(r.a)({}, e);
                        return (t = Object(o.a)(t, "layoutParams_repeatingGroupTypes", "1,2v,2v")).cubeImages = !0, t.imageMargin = 0, t.scrollDirection = n.a.scrollDirection.HORIZONTAL, t.titlePlacement = "SHOW_ON_HOVER", t.cubeType = "crop", t
                    }
                },
                2: {
                    id: 2,
                    layoutOrientation: a,
                    desktop: function(e) {
                        var t = Object(r.a)({}, e);
                        return (t = Object(o.a)(t, "layoutParams_repeatingGroupTypes", "1,2v,2v,2v,2v,1")).cubeImages = !0, (t = Object(o.a)(t, "layoutParams_cropRatio", .75)).groupsPerStrip = 3, t.imageMargin = 5, t.gridStyle = 1, t.scrollDirection = n.a.scrollDirection.VERTICAL, t.enableInfiniteScroll = !0, t.cubeType = "crop", t.isVertical = !1, t
                    },
                    mobile: function(e) {
                        var t = Object(r.a)({}, e);
                        return t.isVertical = !0, t.groupSize = 2, (t = Object(o.a)(t, "layoutParams_repeatingGroupTypes", "1,2h,2h")).cubeImages = !0, t.rotatingCropRatios = .75, t.fixedColumns = 1, t.imageMargin = 2, t.gridStyle = 1, t.scrollDirection = n.a.scrollDirection.VERTICAL, t
                    }
                },
                3: {
                    id: 3,
                    layoutOrientation: s,
                    desktop: function(e) {
                        var t = Object(r.a)({}, e);
                        return t.groupSize = 1, t.cubeImages = !0, (t = Object(o.a)(t, "layoutParams_cropRatio", "100%/50%")).rotatingCropRatios = "25%/100%,50%/100%", t.scrollDirection = n.a.scrollDirection.HORIZONTAL, t.isVertical = !0, t.cubeType = "crop", t.calculateTextBoxHeightMode = "AUTOMATIC", t
                    },
                    mobile: function(e) {
                        var t = Object(r.a)({}, e);
                        return t.cubeImages = !1, t.groupSize = 1, t.scrollDirection = n.a.scrollDirection.HORIZONTAL, t.isVertical = !1, t.groupTypes = "1", t.enableInfiniteScroll = !0, t
                    }
                },
                4: {
                    id: 4,
                    layoutOrientation: a,
                    desktop: function(e) {
                        var t = Object(r.a)({}, e);
                        return t.isVertical = !0, t.groupSize = 1, t.cubeImages = !0, (t = Object(o.a)(t, "layoutParams_cropRatio", 4 / 3)).fixedColumns = 1, t.imageMargin = 0, t.gridStyle = 1, t.titlePlacement = "ALTERNATE_HORIZONTAL", t.textBoxWidthPercent = 35, t.scrollDirection = n.a.scrollDirection.VERTICAL, t.hoveringBehaviour = "NO_CHANGE", t.cubeType = "crop", t.imageInfoType = "NO_BACKGROUND", t
                    },
                    mobile: function(e) {
                        var t = Object(r.a)({}, e);
                        return t.titlePlacement = "SHOW_BELOW", t.cubeImages = !0, t.isVertical = !0, t.groupSize = 1, t.hasThumbnails = !1, t.groupTypes = "1", t.scrollDirection = n.a.scrollDirection.VERTICAL, t
                    }
                },
                5: {
                    id: 5,
                    layoutOrientation: s,
                    desktop: function(e) {
                        var t = Object(r.a)({}, e);
                        return (t = Object(o.a)(t, "layoutParams_repeatingGroupTypes", "2v")).cubeImages = !0, t.rotatingCropRatios = "25%/40%,25%/60%,25%/60%,25%/40%", t.imageMargin = 2, t.gridStyle = 1, t.scrollDirection = n.a.scrollDirection.HORIZONTAL, t.titlePlacement = "SHOW_ON_HOVER", t.cubeType = "crop", t
                    },
                    mobile: function(e) {
                        var t = Object(r.a)({}, e);
                        return t.groupTypes = "2v", (t = Object(o.a)(t, "layoutParams_repeatingGroupTypes", "2v")).cubeImages = !0, t.rotatingCropRatios = "50%/35%,50%/65%,50%/65%,50%/35%", t.imageMargin = 2, t.gridStyle = 1, t.scrollDirection = n.a.scrollDirection.HORIZONTAL, t.titlePlacement = "SHOW_ON_HOVER", t
                    }
                },
                6: {
                    id: 6,
                    layoutOrientation: s,
                    desktop: function(e) {
                        var t = Object(r.a)({}, e);
                        return (t = Object(o.a)(t, "layoutParams_repeatingGroupTypes", "2v,2v")).imageMargin = 150, t.rotatingScatter = "-50%/80%,7%/70%,-280%/-220%,100%/-100%,-150%/-50%", t.gridStyle = 1, t.scrollDirection = n.a.scrollDirection.HORIZONTAL, t.titlePlacement = "SHOW_ON_HOVER", t
                    },
                    mobile: function(e) {
                        var t = Object(r.a)({}, e);
                        return t.cubeImages = !1, t.arrowsPosition = 1, t.titlePlacement = "SHOW_BELOW", t.hoveringBehaviour = "NEVER_SHOW", t.scrollDirection = n.a.scrollDirection.HORIZONTAL, (t = Object(o.a)(t, "layoutParams_gallerySpacing", 0)).isVertical = !1, t.groupSize = 1, t.groupTypes = "1", t
                    }
                },
                7: {
                    id: 7,
                    layoutOrientation: a,
                    desktop: function(e) {
                        var t = Object(r.a)({}, e);
                        return t.isVertical = !0, t.groupSize = 1, t.cubeImages = !0, t.fixedColumns = 1, t.imageMargin = 80, t.gridStyle = 1, t.titlePlacement = "SHOW_ON_THE_RIGHT", t.textBoxWidthPercent = 66, t.scrollDirection = n.a.scrollDirection.VERTICAL, t.cubeType = "crop", t.imageInfoType = "NO_BACKGROUND", t
                    },
                    mobile: function(e) {
                        var t = Object(r.a)({}, e);
                        return t.isVertical = !0, t.groupSize = 1, t.cubeImages = !0, t.fixedColumns = 1, t.imageMargin = 20, (t = Object(o.a)(t, "layoutParams_gallerySpacing", 10)).gridStyle = 1, t.titlePlacement = "SHOW_ON_THE_RIGHT", t.scrollDirection = n.a.scrollDirection.VERTICAL, t.cubeType = "crop", t.imageInfoType = "NO_BACKGROUND", t
                    }
                },
                8: {
                    id: 8,
                    layoutOrientation: a,
                    desktop: function(e) {
                        var t = Object(r.a)({}, e);
                        return t.groupTypes = "1,2v", (t = Object(o.a)(t, "layoutParams_repeatingGroupTypes", "2v,1,2v")).cubeImages = !0, t.groupsPerStrip = 3, t.imageMargin = 20, t.gridStyle = 1, t.scrollDirection = n.a.scrollDirection.VERTICAL, t.cubeType = "crop", t.isVertical = !1, t
                    },
                    mobile: function(e) {
                        var t = Object(r.a)({}, e);
                        return t.groupTypes = "2h,1", (t = Object(o.a)(t, "layoutParams_repeatingGroupTypes", "2h,1")).cubeImages = !0, t.groupsPerStrip = 1, t.imageMargin = 10, t.gridStyle = 1, t.scrollDirection = n.a.scrollDirection.VERTICAL, t.gallerySize = 60, t.cubeType = "crop", t.titlePlacement = "SHOW_ON_HOVER", t
                    }
                },
                9: {
                    id: 9,
                    layoutOrientation: a,
                    desktop: function(e) {
                        var t = Object(r.a)({}, e);
                        return (t = Object(o.a)(t, "layoutParams_repeatingGroupTypes", "3t,3b")).cubeImages = !0, t.rotatingCropRatios = "1.41,.7,.7,.7,.7,1.41", t.groupsPerStrip = 2, t.imageMargin = 5, t.gridStyle = 1, t.scrollDirection = n.a.scrollDirection.VERTICAL, t.cubeType = "crop", t.isVertical = !1, t
                    },
                    mobile: function(e) {
                        var t = Object(r.a)({}, e);
                        return t.groupTypes = "2h,1", (t = Object(o.a)(t, "layoutParams_repeatingGroupTypes", "1,2h")).cubeImages = !0, t.groupsPerStrip = 1, t.gridStyle = 1, t.scrollDirection = n.a.scrollDirection.VERTICAL, t.cubeType = "crop", t.titlePlacement = "SHOW_ON_HOVER", t
                    }
                },
                10: {
                    id: 10,
                    layoutOrientation: a,
                    desktop: function(e) {
                        var t = Object(r.a)({}, e);
                        return (t = Object(o.a)(t, "layoutParams_repeatingGroupTypes", "1,2v,1,1")).cubeImages = !0, t.rotatingCropRatios = "1.6,1.2,1.2,1.2,1.6", t.groupsPerStrip = 2, t.imageMargin = 5, t.gridStyle = 1, t.scrollDirection = n.a.scrollDirection.VERTICAL, t.cubeType = "crop", t.isVertical = !1, t
                    },
                    mobile: function(e) {
                        var t = Object(r.a)({}, e);
                        return t.groupTypes = "2h,1", (t = Object(o.a)(t, "layoutParams_repeatingGroupTypes", "1,2h")).cubeImages = !0, t.groupsPerStrip = 1, t.gridStyle = 1, t.scrollDirection = n.a.scrollDirection.VERTICAL, t.cubeType = "crop", t.titlePlacement = "SHOW_ON_HOVER", t
                    }
                },
                11: {
                    id: 11,
                    layoutOrientation: a,
                    desktop: function(e) {
                        var t = Object(r.a)({}, e);
                        return t.isVertical = !0, t.minItemSize = 80, t.groupTypes = "2h,3h", (t = Object(o.a)(t, "layoutParams_repeatingGroupTypes", "2h,3h")).collageDensity = 0, t.cubeImages = !0, t.fixedColumns = 1, t.imageMargin = 80, (t = Object(o.a)(t, "layoutParams_gallerySpacing", 80)).gridStyle = 1, t.scrollDirection = n.a.scrollDirection.VERTICAL, t.cubeType = "crop", t
                    },
                    mobile: function(e) {
                        var t = Object(r.a)({}, e);
                        return t.titlePlacement = "SHOW_BELOW", t.hoveringBehaviour = "NEVER_SHOW", t.scrollDirection = n.a.scrollDirection.HORIZONTAL, (t = Object(o.a)(t, "layoutParams_gallerySpacing", 0)).isVertical = !1, t.groupSize = 1, t.groupTypes = "1", t
                    }
                },
                12: {
                    id: 12,
                    layoutOrientation: a,
                    desktop: function(e) {
                        var t = Object(r.a)({}, e);
                        return t.isVertical = !0, (t = Object(o.a)(t, "layoutParams_repeatingGroupTypes", "2v,2v")).fixedColumns = 3, t.imageMargin = 100, (t = Object(o.a)(t, "layoutParams_gallerySpacing", 100)).rotatingScatter = "-50%/-40%,0%/-10%,40%/100%", t.gridStyle = 1, t.scrollDirection = n.a.scrollDirection.VERTICAL, t
                    },
                    mobile: function(e) {
                        var t = Object(r.a)({}, e);
                        return t.cubeImages = !1, t.arrowsPosition = 1, t.titlePlacement = "SHOW_BELOW", t.hoveringBehaviour = "NEVER_SHOW", t.scrollDirection = n.a.scrollDirection.HORIZONTAL, (t = Object(o.a)(t, "layoutParams_gallerySpacing", 0)).isVertical = !1, t.groupSize = 1, t.groupTypes = "1", t
                    }
                },
                13: {
                    id: 13,
                    layoutOrientation: a,
                    desktop: function(e) {
                        var t = Object(r.a)({}, e);
                        return t.isVertical = !0, t.groupSize = 1, t.cubeImages = !0, t.rotatingCropRatios = "0.7,1.77,0.9,1.77,1.77,0.7,0.9", t.fixedColumns = 2, t.imageMargin = 97, t.gridStyle = 1, t.titlePlacement = "SHOW_BELOW", t.scrollDirection = 0, t
                    },
                    mobile: function(e) {
                        var t = Object(r.a)({}, e);
                        return t.isVertical = !0, t.groupSize = 1, t.cubeImages = !0, t.rotatingCropRatios = "0.7,1.77,0.9,1.77,1.77,0.7,0.9", t.fixedColumns = 2, t.imageMargin = 97, t.gridStyle = 1, t.titlePlacement = "SHOW_BELOW", t.scrollDirection = 0, t
                    }
                },
                14: {
                    id: 14,
                    layoutOrientation: a,
                    desktop: function(e) {
                        var t = Object(r.a)({}, e);
                        return t.isVertical = !0, t.groupSize = 1, t.cubeImages = !0, t.imageMargin = 0, t.fixedColumns = 1, t.gridStyle = 1, t.titlePlacement = n.a.placements.ALTERNATE_HORIZONTAL, t.cubeType = n.a.cubeType.CROP, t
                    },
                    mobile: function(e) {
                        var t = Object(r.a)({}, e);
                        return t.cubeImages = !0, t.isVertical = !0, t.groupSize = 1, t.hasThumbnails = !1, t.groupTypes = "1", t.slideshowLoop = !1, t.titlePlacement = n.a.placements.SHOW_BELOW, t.isGrid = !0, t
                    }
                },
                15: {
                    id: 15,
                    layoutOrientation: a,
                    desktop: function(e) {
                        var t = Object(r.a)({}, e);
                        return t.groupSize = 2, t.cubeImages = !0, t.gridStyle = 1, t.rotatingGroupTypes = "1,2h,1,1,1,2h,1,1", t.rotatingCropRatios = "1,1,1,1,2.02,1,1,1,1,2.02", t.groupsPerStrip = 2, t
                    },
                    mobile: function(e) {
                        var t = Object(r.a)({}, e);
                        return t.isVertical = !0, t.groupTypes = "2h,1", t.cubeImages = !0, t.imageMargin = 50, t.fixedColumns = 1, t.gridStyle = 1, t.rotatingGroupTypes = "2h,2h,1", t.rotatingCropRatios = 1, t
                    }
                },
                16: {
                    id: 16,
                    layoutOrientation: a,
                    desktop: function(e) {
                        var t = Object(r.a)({}, e);
                        return t.isVertical = !0, t.groupSize = 1, t.cubeImages = !0, t.imageMargin = 80, t.fixedColumns = 1, t.cubeRatio = 2, t.gridStyle = 1, t.titlePlacement = n.a.placements.ALTERNATE_HORIZONTAL, t
                    },
                    mobile: function(e) {
                        var t = Object(r.a)({}, e);
                        return t.cubeImages = !0, t.isVertical = !0, t.groupSize = 1, t.hasThumbnails = !1, t.groupTypes = "1", t.slideshowLoop = !1, t.titlePlacement = n.a.placements.SHOW_BELOW, t.isGrid = !0, t
                    }
                },
                17: {
                    id: 17,
                    layoutOrientation: s,
                    desktop: function(e) {
                        var t = Object(r.a)({}, e);
                        return (t = Object(o.a)(t, "layoutParams_gallerySpacing", 20)).isVertical = !0, t.groupSize = 1, t.cubeImages = !0, t.cubeType = n.a.cubeType.FIT, t.titlePlacement = n.a.placements.SHOW_BELOW, t.scrollDirection = 1, t.cubeFitPosition = n.a.cubeFitPosition.BOTTOM, t
                    },
                    mobile: function(e) {
                        var t = Object(r.a)({}, e);
                        return t.oneRow = !0, t.hoveringBehaviour = n.a.infoBehaviourOnHover.NEVER_SHOW, t.scrollDirection = 1, t.galleryMargin = 0, t.isVertical = !1, t.groupSize = 1, t.groupTypes = "1", t.isSlideshow = !0, t
                    }
                }
            },
            u = function(e) {
                var t, i, r = e.styles,
                    o = e.presetId,
                    n = e.isMobile;
                return void 0 !== n && n ? (null === (t = l[o]) || void 0 === t ? void 0 : t.mobile(r)) || r : (null === (i = l[o]) || void 0 === i ? void 0 : i.desktop(r)) || r
            }
    }, function(e, t, i) {
        "use strict";
        i.r(t), i.d(t, "pick", (function() {
            return r
        })), i.d(t, "throttle", (function() {
            return o
        })), i.d(t, "debounce", (function() {
            return n
        })), i.d(t, "get", (function() {
            return a
        })), i.d(t, "isFunction", (function() {
            return s
        })), i.d(t, "isEqual", (function() {
            return l
        })), i.d(t, "isNumber", (function() {
            return u
        }));
        var r = function(e, t) {
                var i = {};
                return Object.entries(e || {}).forEach((function(e) {
                    var r = e[0],
                        o = e[1];
                    t.indexOf(r) >= 0 && (i[r] = o)
                })), i
            },
            o = function(e, t) {
                var i = !1,
                    r = !1;
                return function() {
                    for (var o = [], n = 0; n < arguments.length; n++) o[n] = arguments[n];
                    i ? r = !0 : (r = !1, e.apply(void 0, o), i = !0, setTimeout((function() {
                        r && e.apply(void 0, o), i = !1
                    }), t))
                }
            },
            n = function(e, t) {
                var i;
                return function() {
                    for (var r = [], o = 0; o < arguments.length; o++) r[o] = arguments[o];
                    clearTimeout(i), i = setTimeout((function() {
                        e.apply(void 0, r)
                    }), t)
                }
            },
            a = function(e, t, i) {
                var r = String.prototype.split.call(t, /[,[\].]+?/).filter(Boolean).reduce((function(e, t) {
                    return null != e ? e[t] : e
                }), e);
                return void 0 === r || r === e ? i : r
            },
            s = function(e) {
                return "function" == typeof e
            },
            l = function(e, t) {
                try {
                    return JSON.stringify(e) === JSON.stringify(t)
                } catch (e) {
                    return !1
                }
            },
            u = function(e) {
                return !isNaN(parseFloat(e)) && isFinite(e)
            }
    }, function(e, t, i) {
        "use strict";
        var r = i(3),
            o = i(4),
            n = function() {
                function e() {
                    this._translations = Object.assign({}, Object(r.a)({}, o.a.translations))
                }
                return e.prototype.setTranslations = function(e) {
                    Object.assign(this._translations, Object(r.a)({}, e))
                }, Object.defineProperty(e.prototype, "translations", {
                    get: function() {
                        return this._translations
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.getByKey = function(e) {
                    try {
                        var t = null;
                        return this.translations && (t = this.translations[e] || o.a.translations[e]), t || (t = e), o.a && (o.a.isClientDev && (t = e), o.a.unescape && (t = o.a.unescape(t))), t
                    } catch (t) {
                        return e
                    }
                }, e
            }();
        t.a = new n
    }, , , , function(e, t, i) {
        "use strict";
        e.exports = function(e) {
            return encodeURIComponent(e).replace(/[!'()*]/g, (function(e) {
                return "%" + e.charCodeAt(0).toString(16).toUpperCase()
            }))
        }
    }, function(e, t, i) {
        "use strict";
        var r = Object.getOwnPropertySymbols,
            o = Object.prototype.hasOwnProperty,
            n = Object.prototype.propertyIsEnumerable;

        function a(e) {
            if (null == e) throw new TypeError("Object.assign cannot be called with null or undefined");
            return Object(e)
        }
        e.exports = function() {
            try {
                if (!Object.assign) return !1;
                var e = new String("abc");
                if (e[5] = "de", "5" === Object.getOwnPropertyNames(e)[0]) return !1;
                for (var t = {}, i = 0; i < 10; i++) t["_" + String.fromCharCode(i)] = i;
                if ("0123456789" !== Object.getOwnPropertyNames(t).map((function(e) {
                        return t[e]
                    })).join("")) return !1;
                var r = {};
                return "abcdefghijklmnopqrst".split("").forEach((function(e) {
                    r[e] = e
                })), "abcdefghijklmnopqrst" === Object.keys(Object.assign({}, r)).join("")
            } catch (e) {
                return !1
            }
        }() ? Object.assign : function(e, t) {
            for (var i, s, l = a(e), u = 1; u < arguments.length; u++) {
                for (var c in i = Object(arguments[u])) o.call(i, c) && (l[c] = i[c]);
                if (r) {
                    s = r(i);
                    for (var h = 0; h < s.length; h++) n.call(i, s[h]) && (l[s[h]] = i[s[h]])
                }
            }
            return l
        }
    }, function(e, t) {
        var i;
        i = function() {
            return this
        }();
        try {
            i = i || new Function("return this")()
        } catch (e) {
            "object" == typeof window && (i = window)
        }
        e.exports = i
    }, , function(e, t, i) {
        "use strict";
        i.d(t, "a", (function() {
            return M
        }));
        var r = i(5),
            o = i(0),
            n = i(6),
            a = i(11),
            s = i(7),
            l = i(2),
            u = function(e) {
                var t = Object(o.a)({}, e);
                return t.galleryLayout = r.a.ALTERNATE, t.cubeType = "fill", t.cubeImages = !0, (t = Object(l.a)(t, "layoutParams_cropRatio", 1)).titlePlacement = n.a.SHOW_ON_HOVER, t.scrollDirection = a.a.VERTICAL, (t = Object(l.a)(t, "layoutParams_gallerySpacing", 0)).isVertical = !0, t.groupSize = 3, t.collageDensity = .48, t.groupTypes = "1,2h,2v,3t,3b,3l,3r,3v,3h", t.gallerySize = 86, t.minItemSize = 50, t.chooseBestGroup = !0, (t = Object(l.a)(t, "layoutParams_repeatingGroupTypes", "1,2h,1,2h")).smartCrop = !1, t.scatter = 0, t.rotatingScatter = "", t.fixedColumns = 1, t.groupsPerStrip = 0, t.placeGroupsLtr = !1, t.rotatingCropRatios = "", t.slideshowLoop = !1, t
            },
            c = (u({}), function(e) {
                var t = Object(o.a)({}, e);
                return t.galleryLayout = r.a.BRICKS, t.cubeType = "fill", t.cubeImages = !0, (t = Object(l.a)(t, "layoutParams_cropRatio", 1)).titlePlacement = n.a.SHOW_ON_HOVER, t.scrollDirection = a.a.VERTICAL, (t = Object(l.a)(t, "layoutParams_gallerySpacing", 0)).isVertical = !0, t.groupSize = 3, t.collageDensity = .8, t.groupTypes = "1,2h,2v,3t,3b,3l,3r,3v,3h", t.slideshowLoop = !1, t.gallerySize = 400, t.minItemSize = 50, t.chooseBestGroup = !0, (t = Object(l.a)(t, "layoutParams_repeatingGroupTypes", "2h")).smartCrop = !1, t.scatter = 0, t.rotatingScatter = "", t.fixedColumns = 1, t.groupsPerStrip = 0, t.placeGroupsLtr = !1, t.rotatingCropRatios = "0.707,1.414,1.414,0.707", t
            }),
            h = (c({}), function(e) {
                var t = Object(o.a)({}, e);
                return t.galleryLayout = r.a.COLLAGE, t.cubeImages = !1, t.titlePlacement = n.a.SHOW_ON_HOVER, t.groupSize = 3, t.hasThumbnails = !1, t.groupTypes = "1,2h,2v,3t,3b,3l,3r", t.slideshowLoop = !1, t.targetItemSize = 0, t.fixedColumns = 0, t.enableScroll = !0, t.cropOnlyFill = !1, t
            }),
            p = (h({}), function(e) {
                var t = Object(o.a)({}, e);
                return (t = h(t)).targetItemSize = Object(s.a)(t, Math.round(5 * t.gallerySize + 500)), t
            }),
            d = function(e) {
                var t = Object(o.a)({}, e);
                return t.galleryLayout = r.a.FULLSIZE, t.cubeImages = !0, (t = Object(l.a)(t, "layoutParams_cropRatio", "100%/100%")).cubeType = "fill", t.titlePlacement = n.a.SHOW_ON_HOVER, t.scrollDirection = a.a.HORIZONTAL, t.galleryMargin = 0, t.isVertical = !1, t.groupSize = 1, t.groupTypes = "1", t.smartCrop = !1, t.galleryType = "Strips", t.hasThumbnails = !1, t.enableScroll = !0, t.scrollSnap = !0, t.cropOnlyFill = !1, t.scatter = 0, t.rotatingScatter = "", t.imageMargin = 0, t
            },
            g = (d({}), function(e) {
                var t = Object(o.a)({}, e);
                return t.galleryLayout = r.a.COLUMN, t.cubeType = "fill", t.cubeImages = !0, (t = Object(l.a)(t, "layoutParams_cropRatio", .35)).scrollDirection = a.a.HORIZONTAL, t.isVertical = !1, t.groupSize = 1, t.groupTypes = "1", t.slideshowLoop = !1, t.smartCrop = !1, t.galleryType = "Strips", t.fixedColumns = 0, t.enableScroll = !0, t.cropOnlyFill = !1, t
            }),
            m = (g({}), function(e) {
                var t = Object(o.a)({}, e);
                return (t = g(t)).targetItemSize = Object(s.a)(t), t
            }),
            f = function(e) {
                var t = Object(o.a)({}, e);
                return t.galleryLayout = r.a.GRID, t.cubeImages = !0, t.isVertical = !0, t.groupSize = 1, t.hasThumbnails = !1, t.groupTypes = "1", t.slideshowLoop = !1, t.smartCrop = !1, t.galleryType = "Columns", t.fixedColumns = 0, t.targetItemSize = 0, t.enableScroll = !0, t.cropOnlyFill = !1, t.minItemSize = 50, t
            },
            y = (f({}), function(e) {
                var t = Object(o.a)({}, e);
                return (t = f(t)).targetItemSize = Object(s.a)(t, Math.round(8.5 * t.gallerySize + 150)), t = Object(s.d)(t), t = Object(s.c)(t), t = Object(s.e)(t)
            }),
            S = new(function() {
                function e() {
                    this.features = {
                        fullscreenRedesign: {
                            title: "New fullscreen design",
                            releaseDate: Date.parse("2017-09-25T12:00:00.000Z")
                        },
                        spacingCalculation: {
                            title: "Improve spacing calculation",
                            releaseDate: Date.parse("2017-08-29T11:27:29.000Z")
                        },
                        fixedColumnsInMasonry: {
                            title: "Allow fixed number of columns in Masonry layout",
                            releaseDate: Date.parse("2018-05-24T18:00:00.000Z")
                        },
                        mobileSettings: {
                            title: "Separate mobile and desktop setting",
                            releaseDate: Date.parse("2018-12-18T12:00:50.054Z")
                        }
                    }, this.freezeDate = new Date, this.updateFeatures()
                }
                return Object.defineProperty(e.prototype, "freezeDate", {
                    get: function() {
                        return this._dateCreated || new Date
                    },
                    set: function(e) {
                        "object" == typeof e && "function" == typeof e.getTime && (this._dateCreated = e, this.updateFeatures())
                    },
                    enumerable: !1,
                    configurable: !0
                }), e.prototype.updateFeatures = function() {
                    var e = this;
                    this.supports = Object.entries(this.features).reduce((function(t, i) {
                        var r, n = i[0],
                            a = i[1].releaseDate;
                        return Object(o.a)(Object(o.a)({}, t), ((r = {})[n] = e.freezeDate >= a, r))
                    }))
                }, e
            }()),
            b = function(e) {
                var t = Object(o.a)({}, e);
                return t.galleryLayout = r.a.MAGIC, t.cubeImages = void 0, (t = Object(l.a)(t, "layoutParams_cropRatio", void 0)).isVertical = void 0, t.targetItemSize = void 0, t.collageAmount = void 0, t.collageDensity = void 0, t.groupTypes = void 0, t.oneRow = void 0, t.imageMargin = void 0, t.scatter = void 0, (t = Object(l.a)(t, "layoutParams_gallerySpacing", void 0)).chooseBestGroup = void 0, t.smartCrop = void 0, t.cubeType = void 0, t.hasThumbnails = void 0, t.enableScroll = void 0, t.cropOnlyFill = void 0, t.fixedColumns = void 0, t.enableInfiniteScroll = void 0, t.slideshowLoop = !1, t
            },
            v = (b({}), function(e) {
                var t = Object(o.a)({}, e),
                    i = t.magicLayoutSeed;
                !i > 0 && (i = 999999), i = Math.floor(i);
                var r = function(e, t, r) {
                        var o, n, a = function(e) {
                                e = String(e);
                                for (var t = 0, i = 0; i < e.length; i++) t += e.charCodeAt(i);
                                return t
                            }(r),
                            s = t - e + 1;
                        return o = i, n = a, Math.floor(1e7 * (o / n - Math.floor(o / n))) % s + e
                    },
                    n = function(e) {
                        return !!r(0, 1, e)
                    };
                return t.cubeImages = n("cubeImages"), (t = Object(l.a)(t, "layoutParams_cropRatio", r(1, 25, "cubeRatio") / 5)).isVertical = n("isVertical"), t.targetItemSize = r(300, 800, "gallerySize"), t.collageAmount = r(5, 10, "collageAmount") / 10, t.collageDensity = (S.supports.spacingCalculation ? r(1, 100, "collageDensity") : r(5, 10, "collageDensity")) / 100, t.groupTypes = ["1"].concat("2h,2v,3t,3b,3l,3r,3h,3v".split(",").filter((function(e, t) {
                    return n("groupTypes" + t)
                }))), t.oneRow = n("oneRow"), t.imageMargin = r(0, S.supports.spacingCalculation ? r(300, 800, "gallerySize") / 5 : 5, "imageMargin"), (t = Object(l.a)(t, "layoutParams_gallerySpacing", S.supports.spacingCalculation ? 0 : r(0, 5, "imageMargin"))).scatter = 0, t.rotatingScatter = "", t.chooseBestGroup = n("chooseBestGroup"), t.smartCrop = n("smartCrop"), t.cubeType = "fill", t.enableScroll = !0, t.cropOnlyFill = !1, t.fixedColumns = 0, t.enableInfiniteScroll = 1, t.oneRow ? (t.isVertical = !1, t.scrollDirection = a.a.HORIZONTAL) : t.scrollDirection = a.a.VERTICAL, t.galleryType = t.isVertical ? "Columns" : "Strips", t.groupSize = parseInt(t.groupTypes.slice(-1)[0]), t.groupTypes = t.groupTypes.join(","), t.minItemSize = t.targetItemSize / t.groupSize / 2, t
            }),
            _ = function(e) {
                var t = Object(o.a)({}, e);
                return t.galleryLayout = r.a.MASONRY, t.cubeImages = !1, t.scrollDirection = a.a.VERTICAL, t.groupSize = 1, t.groupTypes = "1", t.slideshowLoop = !1, t.fixedColumns = 0, t.enableScroll = !0, t.cropOnlyFill = !1, t
            },
            O = (_({}), function(e) {
                var t = Object(o.a)({}, e);
                return (t = _(t)).targetItemSize = Object(s.a)(t, t.isVertical ? 8 * t.gallerySize + 200 : 5 * t.gallerySize + 200), S.supports.fixedColumnsInMasonry && (t = Object(s.d)(t)), t
            }),
            I = function(e) {
                var t = Object(o.a)({}, e);
                return t.galleryLayout = r.a.MIX, t.cubeType = "fill", t.cubeImages = !0, (t = Object(l.a)(t, "layoutParams_cropRatio", 1)).titlePlacement = n.a.SHOW_ON_HOVER, t.scrollDirection = a.a.VERTICAL, (t = Object(l.a)(t, "layoutParams_gallerySpacing", 0)).isVertical = !0, t.groupSize = 3, t.groupTypes = "1,2h,2v,3t,3b,3l,3r,3v,3h", t.collageDensity = .48, t.targetItemSize = 86, t.minItemSize = 50, t.chooseBestGroup = !0, (t = Object(l.a)(t, "layoutParams_repeatingGroupTypes", "1,3l,1,3r")).smartCrop = !1, t.scatter = 0, t.rotatingScatter = "", t.fixedColumns = 1, t.groupsPerStrip = 0, t.placeGroupsLtr = !1, t.rotatingCropRatios = "", t
            },
            w = (I({}), function(e) {
                var t = Object(o.a)({}, e);
                return t.galleryLayout = r.a.PANORAMA, t.cubeImages = !1, t.scrollDirection = a.a.VERTICAL, t.isVertical = !0, t.groupSize = 1, t.groupTypes = "1", t.galleryType = "Columns", t.fixedColumns = 1, t.enableScroll = !0, t.cropOnlyFill = !1, t.slideshowLoop = !1, t
            }),
            E = (w({}), function(e) {
                var t = Object(o.a)({}, e);
                return (t = w(t)).targetItemSize = Object(s.a)(t), t
            }),
            P = function(e) {
                var t = Object(o.a)({}, e);
                return t.galleryLayout = r.a.SLIDER, t.enableInfiniteScroll = !0, t.cubeImages = !0, t.scrollDirection = a.a.HORIZONTAL, t.isVertical = !1, t.groupSize = 1, t.groupTypes = "1", t.smartCrop = !1, t.galleryType = "Strips", t.hasThumbnails = !1, t.enableScroll = !0, t.scrollSnap = !0, t.cropOnlyFill = !0, t
            },
            x = (P({}), i(16)),
            T = function(e) {
                var t = Object(o.a)({}, e);
                return t.galleryLayout = r.a.SLIDESHOW, t.enableInfiniteScroll = !0, (t = Object(l.a)(t, "layoutParams_cropRatio", "100%/100%")).cubeImages = !0, t.hoveringBehaviour = x.a.NEVER_SHOW, t.scrollDirection = a.a.HORIZONTAL, (t = Object(l.a)(t, "layoutParams_gallerySpacing", 0)).isVertical = !1, t.groupSize = 1, t.groupTypes = "1", t.itemBorderWidth = 0, t.itemBorderRadius = 0, t.itemBorderColor = void 0, t.numberOfImagesPerCol = 1, t.smartCrop = !1, t.targetItemSize = 550, t.galleryType = "Strips", t.fixedColumns = 1, t.hasThumbnails = !1, t.enableScroll = !0, t.scrollSnap = !0, t.cropOnlyFill = !1, t.scatter = 0, t.rotatingScatter = "", t.imageMargin = 0, t
            },
            C = (T({}), function(e) {
                var t = Object(o.a)({}, e);
                return (t = T(t)).targetItemSize = Object(s.a)(t), t = Object(s.e)(t)
            }),
            D = function(e) {
                var t = Object(o.a)({}, e);
                return t.galleryLayout = r.a.FUTURE_SLIDESHOW, t.enableInfiniteScroll = !0, (t = Object(l.a)(t, "layoutParams_cropRatio", "100%/100%")).cubeImages = !0, t.hoveringBehaviour = x.a.NEVER_SHOW, t.scrollDirection = a.a.HORIZONTAL, (t = Object(l.a)(t, "layoutParams_gallerySpacing", 0)).isVertical = !1, t.groupSize = 1, t.groupTypes = "1", t.itemBorderWidth = 0, t.itemBorderRadius = 0, t.itemBorderColor = void 0, t.numberOfImagesPerCol = 1, t.smartCrop = !1, t.targetItemSize = 550, t.galleryType = "Strips", t.fixedColumns = 1, t.hasThumbnails = !1, t.enableScroll = !0, t.scrollSnap = !0, t.cropOnlyFill = !1, t.scatter = 0, t.rotatingScatter = "", t.imageMargin = 0, t
            },
            A = (D({}), function(e) {
                var t = Object(o.a)({}, e);
                return t.galleryLayout = r.a.THUMBNAIL, t.enableInfiniteScroll = !0, (t = Object(l.a)(t, "layoutParams_cropRatio", "100%/100%")).cubeImages = !0, t.titlePlacement = n.a.SHOW_ON_HOVER, t.scrollDirection = a.a.HORIZONTAL, (t = Object(l.a)(t, "layoutParams_gallerySpacing", 0)).isVertical = !1, t.groupSize = 1, t.groupTypes = "1", t.smartCrop = !1, t.galleryType = "Strips", t.hasThumbnails = !0, t.enableScroll = !0, t.scrollSnap = !0, t.cropOnlyFill = !1, t.scatter = 0, t.rotatingScatter = "", t.imageMargin = 0, t
            }),
            L = (A({}), function(e) {
                var t = Object(o.a)({}, e);
                return t.galleryLayout = r.a.EMPTY, t
            }),
            M = (L({}), function(e) {
                var t = e.galleryType,
                    i = e.galleryType,
                    n = e.galleryLayout;
                if (void 0 !== i && void 0 === n) switch (t) {
                    case "1":
                        return p(e);
                    case "2":
                        return y(e);
                    case "3":
                    case "4":
                        return O(e);
                    case "5":
                        return E(e);
                    case "6":
                        return m(e);
                    case "7":
                    case "13":
                        return C(e);
                    case "0":
                    default:
                        return p(e)
                } else switch (e.galleryLayout) {
                    case r.a.MASONRY:
                        return O(e);
                    case r.a.GRID:
                        return y(e);
                    case r.a.THUMBNAIL:
                        return function(e) {
                            var t = Object(o.a)({}, e);
                            return (t = A(t)).targetItemSize = Object(s.a)(t), t = Object(s.e)(t)
                        }(e);
                    case r.a.SLIDER:
                        return function(e) {
                            var t = Object(o.a)({}, e);
                            return (t = P(t)).targetItemSize = Object(s.a)(t), t = Object(s.e)(t)
                        }(e);
                    case r.a.SLIDESHOW:
                        return C(e);
                    case r.a.PANORAMA:
                        return E(e);
                    case r.a.COLUMN:
                        return m(e);
                    case r.a.MAGIC:
                        return function(e) {
                            var t = Object(o.a)({}, e);
                            return t = b(t), t = v(t)
                        }(e);
                    case r.a.FULLSIZE:
                        return function(e) {
                            var t = Object(o.a)({}, e);
                            return (t = d(t)).targetItemSize = Object(s.a)(t), t
                        }(e);
                    case r.a.BRICKS:
                        return function(e) {
                            var t = Object(o.a)({}, e);
                            return (t = c(t)).targetItemSize = Object(s.a)(t), t
                        }(e);
                    case r.a.MIX:
                        return function(e) {
                            var t = Object(o.a)({}, e);
                            return (t = I(t)).targetItemSize = Object(s.a)(t), t
                        }(e);
                    case r.a.ALTERNATE:
                        return function(e) {
                            var t = Object(o.a)({}, e);
                            return (t = u(t)).targetItemSize = Object(s.a)(t), t
                        }(e);
                    case r.a.EMPTY:
                        return function(e) {
                            var t = Object(o.a)({}, e);
                            return (t = L(t)).targetItemSize = Object(s.a)(t, Math.round(9 * t.gallerySize + 100)), t
                        }(e);
                    case r.a.JSON_FIXED:
                        return function(e) {
                            try {
                                var t = e.jsonStyleParams ? JSON.parse(e.jsonStyleParams) : {};
                                return Object(l.d)(e, Object(l.b)(t))
                            } catch (e) {
                                return {}
                            }
                        }(e);
                    case r.a.FUTURE_SLIDESHOW:
                        return function(e) {
                            var t = Object(o.a)({}, e);
                            return (t = D(t)).targetItemSize = Object(s.a)(t), t = Object(s.e)(t)
                        }(e);
                    case r.a.COLLAGE:
                    default:
                        return p(e)
                }
            })
    }, , , function(e, t, i) {
        "use strict";
        var r = i(0),
            o = i(19),
            n = i(33),
            a = i(40),
            s = i(31),
            l = i(10),
            u = function() {
                function e(e) {
                    var t = e.context,
                        i = e.controllerConfig,
                        r = e.APP_DEFINITION_ID,
                        o = e.GALLERY_WIDGET_ID,
                        n = e.isArtStore,
                        a = void 0 !== n && n,
                        s = e.fetcher,
                        l = e.SSRWorkerLog,
                        u = void 0 === l ? [] : l;
                    this.proGalleryWorkerId = "PGWorkerId-" + Date.now(), this.context = t.getContext(), this.pgStore = null, this.isArtStore = a, this.controllerConfig = i, this.wixCodeApi = i.wixCodeApi, this.sentryReporter = t.getSentry(), this.fetcher = s, this.SSRWorkerLog = u, this.initPgStore(r, o), this.setWarmupDataIfNeeded(), this.sentryReport = this.sentryReport.bind(this)
                }
                return e.prototype.setContext = function(e) {
                    this.context = e
                }, e.prototype.setSentryReporter = function(e) {
                    this.sentryReporter = e
                }, e.prototype.getPgStore = function() {
                    return this.pgStore
                }, e.prototype.getClickedIdx = function() {
                    return this.getPgStore().clickedIdx
                }, e.prototype.getTotalItemsCount = function() {
                    return this.getPgStore().getTotalItemsCount()
                }, e.prototype.getbaseUrls = function() {
                    return this.getContext().baseUrls
                }, e.prototype.getWarmupData = function() {
                    return {
                        items: this.getItems(),
                        totalItemsCount: this.getPgStore().totalItemsCount,
                        experiments: n.a.experiments
                    }
                }, e.prototype.getDirectFullscreenItem = function() {
                    return this.getPgStore().getDirectFullscreenItem()
                }, e.prototype.getDirectFullscreenMockBlueprint = function() {
                    return this.getPgStore().getDirectFullscreenMockBlueprint()
                }, e.prototype.getTestType = function() {
                    return this.getPgStore().getTestType()
                }, e.prototype.setMetaTagsInSSRIfNeeded = function() {
                    var e = this.getDirectFullscreenItem();
                    if (this.isSSR() && e && e.itemId) {
                        var t = this.getPgStore(),
                            i = this.wixCodeApi,
                            r = this.getStaticMediaUrls(),
                            n = o.a.getCurrentDirectFullscreenUrl(i),
                            a = o.a.getPageUrl(i);
                        t.setMetaTagsInSSR(e, a, n, i, r)
                    }
                }, e.prototype.isInSEO = function() {
                    var e = this.wixCodeApi;
                    return "function" == typeof e.seo.isInSEO && !!e.seo.isInSEO()
                }, e.prototype.getQueryParams = function() {
                    return this.wixCodeApi.location.query
                }, e.prototype.getLocaleFromContext = function() {
                    var t = this.context.scopedGlobalSdkApis;
                    return e.getLocaleFromScopedGlobalSdkApis(t)
                }, e.prototype.getCommonGalleryProps = function(e) {
                    var t = this,
                        i = this.getPgStore(),
                        r = this.wixCodeApi,
                        s = o.a.getSiteUrl(r),
                        u = e ? "/fullscreen-store-page" : "/fullscreen-page",
                        c = e ? this.context.scopedGlobalSdkApis.location.baseUrl : l.a.getBaseUrl(r, l.a.parseViewMode(r.window.viewMode));
                    return {
                        clientSetProps: !this.isSSR(),
                        propFromSetPropsIndicator: !0,
                        onNavigate: function(e) {
                            return r.location.to(e)
                        },
                        scrollTo: r.window.scrollTo,
                        instance: this.getControllerConfig().appParams.instance,
                        appDefinitionId: this.getControllerConfig().appParams.appDefinitionId,
                        visitorId: this.getControllerConfig().platformAPIs.bi.visitorId,
                        viewerName: this.getControllerConfig().platformAPIs.bi.viewerName,
                        queryParams: r.location.query,
                        viewMode: r.window.viewMode,
                        baseUrl: c,
                        siteUrl: s,
                        pageUrl: o.a.getPageUrl(r),
                        fullscreenUrl: s + u,
                        instanceId: this.getInstanceId(),
                        totalItemsCount: i.totalItemsCount,
                        gallerySettings: this.fetcher.settings,
                        dateCreated: this.fetcher.dateCreated,
                        galleryId: this.fetcher.galleryId,
                        translations: a.a.translations,
                        experiments: n.a.experiments,
                        setHeight: this.getSetHeightFunc(),
                        getMoreItems: function(e) {
                            return t.getMoreItems(e)
                        },
                        onDimensionsReady: function(e) {
                            return t.handleMeasuredDimensions(e)
                        },
                        proGalleryWorkerId: this.proGalleryWorkerId,
                        BOLT_SUPPORTING_FUNCTION_onNewHostDimensions: function(e) {
                            return t.BOLT_SUPPORTING_FUNCTION_handleNewHostDimensions(e)
                        },
                        onItemDimensionsMeasure: function(e) {
                            return t.handleNewItemDimensions(e)
                        },
                        appLoadStartedReported: i.isAppLoadStartReported,
                        tryToReportAppLoaded: i.tryToReportAppLoaded,
                        sentryReport: this.sentryReport,
                        locale: this.getLocaleFromContext(),
                        galleryItemsSource: this.getItemsSource(),
                        staticMediaUrls: this.getStaticMediaUrls(),
                        requestedHeight: i.requestedHeight,
                        requestedWidth: i.requestedWidth
                    }
                }, e.prototype.getTryToReportAppLoaded = function() {
                    return this.getPgStore().tryToReportAppLoaded
                }, e.prototype.loadInitialBlueprint = function() {
                    this.getPgStore().loadInitialBlueprint(this.isSSR())
                }, e.prototype.getWixCodeBlueprintReadyPromise = function() {
                    return this.getPgStore().wixCodeBlueprintDeferred.promise
                }, e.prototype.getBlueprintReadyPromise = function() {
                    return this.getPgStore().blueprintReadyDeferred.promise
                }, e.prototype.getDirectFullscreenReadyPromise = function() {
                    return this.getPgStore().directFullscreenReadyDeferred.promise
                }, e.prototype.loadDirectFullscreen = function() {
                    var e = this.getControllerConfig().compId,
                        t = this.getPgStore();
                    s.a.loadDirectFullscreen(e, t.galleryId, this.getQueryParams(), t)
                }, e.prototype.getViewPortPromise = function() {
                    var e = this.getControllerConfig(),
                        t = e.compId,
                        i = e.wixCodeApi;
                    return this.isSSR() && i.window.getComponentViewportState(t) || Promise.resolve({ in: !0
                    })
                }, e.prototype.initPgStore = function(e, t) {
                    var i = this.getControllerConfig(),
                        r = i.appParams,
                        n = r.instanceId,
                        a = r.instance,
                        s = i.config,
                        l = s.externalId,
                        u = s.style,
                        c = s.dimensions,
                        h = i.compId,
                        p = i.wixCodeApi,
                        d = i.avoidGettingItemsFromPGServer,
                        g = this.getContext(),
                        m = g.msid,
                        f = g.platformServices,
                        y = g.scopedGlobalSdkApis;
                    this.pgStore = new o.a({
                        context: {
                            externalId: l,
                            compId: h,
                            instanceId: n,
                            instance: a,
                            msid: m,
                            styles: u.styleParams,
                            dimensions: c,
                            isSSR: this.isSSR()
                        },
                        wixCodeApi: p,
                        platformServices: f,
                        scopedGlobalSdkApis: y,
                        APP_DEFINITION_ID: e,
                        GALLERY_WIDGET_ID: t,
                        isArtStore: this.isArtStore,
                        setBlueprintCallback: this.setBlueprint.bind(this),
                        setKnownDimensionsCallback: this.setKnownDimensions.bind(this),
                        avoidGettingItemsFromPGServer: d,
                        setItemsLoveDataCallback: this.setItemsLoveData.bind(this),
                        sentryReport: this.sentryReport.bind(this),
                        fetcher: this.fetcher,
                        SSRWorkerLog: this.SSRWorkerLog
                    })
                }, e.prototype.getContext = function() {
                    return this.context
                }, e.prototype.tryToReportAppLoaded = function() {
                    this.getPgStore().tryToReportAppLoaded()
                }, e.prototype.getSetHeightFunc = function() {
                    var e = this,
                        t = this.getControllerConfig().setProps;
                    return function(i) {
                        e.getPgStore().setHeightByLayoutchanges(i), t({
                            dimensions: {
                                height: i
                            }
                        })
                    }
                }, e.prototype.getSetManualDimensionsFunc = function() {
                    var e = this.getControllerConfig().setProps;
                    return function(t) {
                        e({
                            dimensions: t
                        })
                    }
                }, e.prototype.getSetMetaTagsFunc = function() {
                    var e = this;
                    return function(t) {
                        e.getPgStore().setMetaTags(t, e.wixCodeApi)
                    }
                }, e.prototype.getOnLinkNavigationFunc = function() {
                    var e = this;
                    return function(t) {
                        return e.getPgStore().navigateToLink(t)
                    }
                }, e.prototype.getOnItemClickedFunc = function(e) {
                    return function(t, i) {
                        e && e.onItemClicked(t, i)
                    }
                }, e.prototype.handleMeasuredDimensions = function(e) {
                    this.getPgStore().debouncedHandleMeasuredDimensions(e)
                }, e.prototype.BOLT_SUPPORTING_FUNCTION_handleNewHostDimensions = function(e) {
                    this.getPgStore().handleNewUserConfigDimensions(e)
                }, e.prototype.updateUserConfig = function(e) {
                    this.getPgStore().debouncedHandleNewUserConfig(e)
                }, e.prototype.handleNewItemDimensions = function(e) {
                    this.getPgStore().handleNewItemDimensions(e)
                }, e.prototype.getMoreItems = function(e) {
                    this.getPgStore().getMoreItems(e)
                }, e.prototype.getItemsSource = function() {
                    var e = this.getPgStore();
                    return e.itemsSrc ? e.itemsSrc : "server"
                }, e.prototype.getStaticMediaUrls = function() {
                    if ("bolt" !== this.getControllerConfig().platformAPIs.bi.viewerName) try {
                        return this.getControllerConfig().platformAPIs.topology.media
                    } catch (e) {
                        console.error("Could not get staticMediaUrls", e)
                    }
                }, e.prototype.getBlueprint = function() {
                    return this.getPgStore().getBlueprint()
                }, e.prototype.setBlueprint = function() {
                    var e = this.getPgStore(),
                        t = this.getControllerConfig().setProps,
                        i = e.getBlueprint();
                    t(Object(r.a)(Object(r.a)({}, i), {
                        fullscreenOptions: e.calculatedFullscreenStyles,
                        totalItemsCount: e.getTotalItemsCount(),
                        galleryItemsSource: this.getItemsSource(),
                        SSRWorkerLog: this.getSSRWorkerLog()
                    }))
                }, e.prototype.setKnownDimensions = function() {
                    try {
                        var e = this.getPgStore();
                        if (e)(0, this.getControllerConfig().setProps)({
                            requestedHeight: e.requestedHeight,
                            requestedWidth: e.requestedWidth
                        })
                    } catch (e) {
                        console.warn("couldnt set known dimensions", e)
                    }
                }, e.prototype.setItemsLoveData = function(e) {
                    (0, this.getControllerConfig().setProps)({
                        itemsLoveData: e
                    })
                }, e.prototype.getControllerConfig = function() {
                    return this.controllerConfig
                }, e.prototype.setWarmupDataIfNeeded = function() {
                    var e = this.getControllerConfig().warmupData;
                    if (e) {
                        var t = this.getPgStore();
                        t.prepareAndSetItems(e.items), t.totalItemsCount = e.totalItemsCount, n.a.setExperiments(e.experiments)
                    }
                }, e.prototype.handleNewStyleParams = function(e) {
                    this.getPgStore().handleManualStyleParams(e)
                }, e.prototype.setClickedIdx = function(e) {
                    (0, this.getControllerConfig().setProps)({
                        clickedIdx: e
                    })
                }, e.prototype.isValidWidgetId = function(e) {
                    return this.WIDGET_ID_ARRAY.includes(e)
                }, e.prototype.sentryReport = function(e) {
                    this.sentryReporter.report(e)
                }, e.prototype.getItems = function() {
                    return this.getPgStore().getItems()
                }, e.prototype.getSettings = function() {
                    return this.fetcher.settings
                }, e.prototype.getWatermark = function() {
                    var e = this.getSettings();
                    if (e) return "object" == typeof e ? e.watermark : JSON.parse(e).watermark
                }, e.prototype.getInstanceId = function() {
                    return this.getControllerConfig().appParams.instanceId
                }, e.prototype.getSSRWorkerLog = function() {
                    return this.getPgStore().getSSRWorkerLog()
                }, e.getLocaleFromScopedGlobalSdkApis = function(e) {
                    return e && e.site && e.site.language ? e.site.language : "en"
                }, e.setTranslationsAndExperiments = function(t, i, r, n) {
                    try {
                        var s = e.getLocaleFromScopedGlobalSdkApis(t),
                            u = n.baseUrls.santaWrapperBaseUrl + "assets/locale/pro-gallery/messages_" + s + ".json",
                            c = o.a.getTranslations(u);
                        l.a.getExperimentsAndInitWrapper()(t, i && i.report, r), c.then((function(e) {
                            return a.a.setTranslations(e)
                        })).catch((function(e) {
                            i && i.report && i.report(e), console.error("Waiting for translationsPromise failed", e)
                        }))
                    } catch (e) {
                        i && i.report && i.report(e), console.error("Getting page init data failed", e)
                    }
                }, e.getInitAppForPageFunc = function(t) {
                    return function(i, o, n, a) {
                        var s;
                        t.setContext(Object(r.a)(Object(r.a)({}, i), {
                            platformServices: a,
                            scopedGlobalSdkApis: n,
                            platformUtilitiesApi: o
                        })), t.initSentry(i, n, a), e.setTranslationsAndExperiments(n, t.getSentry(), null === (s = t.context) || void 0 === s ? void 0 : s.instance, i)
                    }
                }, e.prototype.isSSR = function() {
                    return "backend" === this.wixCodeApi.window.rendering.env
                }, e.getCreateControllers = function(e, t) {
                    return function(i) {
                        try {
                            var o = i.map((function(e) {
                                return {
                                    type: e.type,
                                    compId: e.compId,
                                    setProps: e.setProps
                                }
                            }));
                            return i.map((function(t) {
                                return Promise.resolve(e(Object(r.a)(Object(r.a)({}, t), {
                                    widgets: o
                                })))
                            }))
                        } catch (e) {
                            t && t.report && t.report(e), console.error("Failed to get CreateControllers", e)
                        }
                    }
                }, e
            }();
        t.a = u
    }, function(module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, "a", (function() {
            return getProGalleryStyles
        }));
        var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3),
            _consts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(9),
            pro_gallery_lib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(2),
            pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(1),
            pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(48),
            _customPresetProcessor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(38),
            _coreOptions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(37),
            isUndefined = function(e) {
                return void 0 === e
            },
            baseDefaultStyles = Object(pro_gallery_lib__WEBPACK_IMPORTED_MODULE_2__.d)(_coreOptions__WEBPACK_IMPORTED_MODULE_6__.a, {
                layoutParams: {
                    cropRatio: 1
                },
                gotStyleParams: !1,
                selectedLayout: 0,
                allowSocial: !0,
                allowDownload: !1,
                allowTitle: !0,
                allowDescription: !1,
                loveButton: !0,
                loveCounter: !0,
                showVideoPlayButton: !0,
                gallerySliderImageRatio: 0,
                galleryImageRatio: 2,
                collageAmount: .8,
                floatingImages: 0,
                viewMode: "preview",
                galleryHorizontalAlign: "center",
                galleryVerticalAlign: "center",
                enableInfiniteScroll: 1,
                itemClick: "expand",
                fixedColumns: 0,
                scrollDirection: pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.scrollDirection.VERTICAL,
                showArrows: !0,
                hasThumbnails: !1,
                galleryThumbnailsAlignment: "bottom",
                thumbnailSpacings: 0,
                mobilePanorama: !1,
                arrowsPadding: 23,
                slideshowInfoSize: 200,
                imageLoadingMode: pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.loadingMode.COLOR,
                imageLoadingWithColorMode: pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.loadingWithColorMode.PICKED_COLOR,
                imageRatioType: _consts__WEBPACK_IMPORTED_MODULE_1__.a.imageRatioType.FIXED,
                numberOfDisplayedItems: 3,
                expandAnimation: _consts__WEBPACK_IMPORTED_MODULE_1__.a.expandAnimations.NO_EFFECT,
                itemBorderColor: "color-5",
                itemShadowOpacityAndColor: {
                    value: "rgba(0, 0, 0, 0.2)"
                },
                textBoxBorderColor: "color-5",
                titleDescriptionSpace: 6,
                textsVerticalPadding: 0,
                textsHorizontalPadding: 0,
                textBoxFillColor: "color-2",
                alwaysShowHover: !1,
                previewHover: !1,
                calculateTextBoxHeightMode: pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.textBoxWidthCalculationOptions.AUTOMATIC,
                slideAnimation: pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.slideAnimations.SCROLL,
                jsonStyleParams: "",
                designedPresetId: -1,
                galleryLayoutType: "",
                allowOverlayGradient: !1,
                overlayGradientDegrees: 180,
                shouldIndexDirectShareLinkInSEO: !1,
                slideTransition: _consts__WEBPACK_IMPORTED_MODULE_1__.a.slideTransitions.EASE_IN_OUT,
                slideDuration: 400,
                autoSlideshowContinuousSpeed: 50,
                overlayType: 0,
                overlayPosition: pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.overlayPositions.BOTTOM,
                overlaySize: 100,
                overlayPadding: 0,
                overlaySizeType: pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.overlaySizeType.PERCENT,
                arrowsVerticalPosition: pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.arrowsVerticalPosition.ITEM_CENTER
            }),
            getDefaultStyles = function(e, t) {
                return baseDefaultStyles.galleryLayout = t ? 2 : 0, baseDefaultStyles.thumbnailSize = e ? 90 : 120, baseDefaultStyles.useCustomButton = t, baseDefaultStyles.customButtonText = t ? "Buy Now" : "Click here", baseDefaultStyles.isStoreGallery = t, baseDefaultStyles
            },
            convertToMobileSettingIfNeeded = function(e, t) {
                return e && Object.keys(t).forEach((function(e) {
                    e.startsWith("m_") && (t[e.slice(2)] = t[e])
                })), t
            },
            getProGalleryStylesImp = function(wixStyles, gotStyleParams, options) {
                var isMobile = options.isMobile,
                    isStoreGallery = options.isStoreGallery,
                    isOnBoarding = options.isOnBoarding,
                    defaultStateStyles = getDefaultStyles(isMobile, isStoreGallery),
                    stateStyles = {};

                function canSet(e, t) {
                    return isUndefined(t) ? isUndefined(stateStyles[e]) && !isUndefined(wixStyles[e]) : isUndefined(stateStyles[t]) && !isUndefined(wixStyles[e])
                }
                if (wixStyles.gallerySize = wixStyles.gallerySize || 30, wixStyles = convertToMobileSettingIfNeeded(isMobile, wixStyles), "1" === String(wixStyles.mobilePanorama) && isMobile && (stateStyles.galleryLayout = 6, stateStyles = Object(pro_gallery_lib__WEBPACK_IMPORTED_MODULE_2__.a)(stateStyles, "layoutParams_repeatingGroupTypes", "1"), stateStyles.isVertical = !0, stateStyles.numberOfImagesPerRow = 1, stateStyles.scrollDirection = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.scrollDirection.VERTICAL), canSet("alwaysShowHover") && (stateStyles.alwaysShowHover = wixStyles.alwaysShowHover), canSet("previewHover") && (stateStyles.previewHover = wixStyles.previewHover), canSet("fullscreen") ? stateStyles.fullscreen = "0" === wixStyles.fullscreen.toString() : stateStyles.fullscreen = !0, canSet("allowSocial") ? stateStyles.allowSocial = wixStyles.allowSocial : stateStyles.allowSocial = defaultStateStyles.allowSocial, canSet("allowTitle") && (stateStyles.allowTitle = !!isOnBoarding || wixStyles.allowTitle), canSet("allowDescription") && (stateStyles.allowDescription = wixStyles.allowDescription), canSet("allowOverlayGradient")) {
                    var allowOverlayGradient = wixStyles.allowOverlayGradient,
                        overlayGradientColor1 = wixStyles.overlayGradientColor1,
                        overlayGradientColor2 = wixStyles.overlayGradientColor2,
                        overlayGradientDegrees = wixStyles.overlayGradientDegrees;
                    stateStyles.overlayBackground = !!allowOverlayGradient && "linear-gradient(" + overlayGradientDegrees + "deg," + overlayGradientColor1.value + "," + overlayGradientColor2.value + ")"
                }
                if (canSet("isInAdi") && (stateStyles.isInAdi = wixStyles.isInAdi), canSet("useCustomButton") ? stateStyles.useCustomButton = wixStyles.useCustomButton : stateStyles.useCustomButton = defaultStateStyles.useCustomButton, canSet("allowDownload") ? stateStyles.allowDownload = wixStyles.allowDownload : stateStyles.allowDownload = defaultStateStyles.allowDownload, canSet("allowContextMenu") ? stateStyles.allowContextMenu = wixStyles.allowContextMenu : stateStyles.allowContextMenu = stateStyles.allowDownload, canSet("loveButton") ? stateStyles.loveButton = wixStyles.loveButton : stateStyles.loveButton = defaultStateStyles.loveButton, canSet("loveCounter") ? stateStyles.loveCounter = "0" === String(wixStyles.loveCounter) : stateStyles.loveCounter = defaultStateStyles.loveCounter, canSet("enableInfiniteScroll") ? stateStyles.enableInfiniteScroll = "1" === String(wixStyles.enableInfiniteScroll) : stateStyles.enableInfiniteScroll = "1" === String(defaultStateStyles.enableInfiniteScroll), canSet("imageMargin") && (stateStyles.imageMargin = Number(wixStyles.imageMargin)), canSet("galleryMargin") && (stateStyles = Object(pro_gallery_lib__WEBPACK_IMPORTED_MODULE_2__.a)(stateStyles, "layoutParams_gallerySpacing", Number(wixStyles.galleryMargin))), canSet("isRTL") && (stateStyles.isRTL = "1" === String(wixStyles.isRTL)), canSet("isVertical") && (stateStyles.isVertical = "1" === String(wixStyles.isVertical)), canSet("imageOrientation", "isVertical") && (stateStyles.isVertical = "1" === String(wixStyles.imageOrientation)), canSet("collageAmount") && (stateStyles.collageAmount = Number(wixStyles.collageAmount) / 10), canSet("collageDensity") && (stateStyles.collageDensity = Number(wixStyles.collageDensity) / 100), canSet("minItemSize") && (stateStyles.minItemSize = wixStyles.minItemSize), canSet("gallerySize") && (stateStyles.gallerySize = wixStyles.gallerySize), canSet("magicLayoutSeed") && (stateStyles.magicLayoutSeed = wixStyles.magicLayoutSeed), canSet("gallerySizePx") && (stateStyles.gallerySizePx = wixStyles.gallerySizePx), canSet("gallerySizeRatio") && (stateStyles.gallerySizeRatio = wixStyles.gallerySizeRatio), canSet("gallerySizeType") && (stateStyles.gallerySizeType = ["smart", "px", "ratio"][Number(wixStyles.gallerySizeType)]), canSet("gridStyle") && (stateStyles.gridStyle = wixStyles.gridStyle), canSet("groupSize") && (stateStyles.groupSize = Number(wixStyles.groupSize)), canSet("chooseBestGroup") && (stateStyles.chooseBestGroup = "1" === String(wixStyles.chooseBestGroup)), canSet("groupTypes") && (stateStyles.groupTypes = String(wixStyles.groupTypes)), canSet("rotatingGroupTypes") && (stateStyles = Object(pro_gallery_lib__WEBPACK_IMPORTED_MODULE_2__.a)(stateStyles, "layoutParams_repeatingGroupTypes", String(wixStyles.rotatingGroupTypes))), canSet("rotatingCropRatios") && (stateStyles.rotatingCropRatios = String(wixStyles.rotatingCropRatios)), canSet("itemBorderWidth") && (stateStyles.itemBorderWidth = Number(wixStyles.itemBorderWidth)), canSet("itemBorderColor") && (stateStyles.itemBorderColor = wixStyles.itemBorderColor), canSet("itemBorderRadius") && (stateStyles.itemBorderRadius = Number(wixStyles.itemBorderRadius)), canSet("itemShadowOpacityAndColor") && (stateStyles.itemShadowOpacityAndColor = wixStyles.itemShadowOpacityAndColor), canSet("itemShadowBlur") && (stateStyles.itemShadowBlur = Number(wixStyles.itemShadowBlur)), canSet("itemShadowDirection") && (stateStyles.itemShadowDirection = Number(wixStyles.itemShadowDirection)), canSet("itemShadowSize") && (stateStyles.itemShadowSize = Number(wixStyles.itemShadowSize)), canSet("itemEnableShadow") && (stateStyles.itemEnableShadow = wixStyles.itemEnableShadow), canSet("floatingImages") && (stateStyles.floatingImages = Number(wixStyles.floatingImages) / 100), canSet("thumbnailSpacings") && (stateStyles.thumbnailSpacings = Number(wixStyles.thumbnailSpacings) / 2), canSet("cubeImages") && (stateStyles.cubeImages = "1" === String(wixStyles.cubeImages)), canSet("smartCrop") && (stateStyles.smartCrop = "1" === String(wixStyles.smartCrop)), canSet("cubeRatio") && (stateStyles = Object(pro_gallery_lib__WEBPACK_IMPORTED_MODULE_2__.a)(stateStyles, "layoutParams_cropRatio", Number(eval(wixStyles.cubeRatio)))), canSet("imageResize", "cubeType") && (stateStyles.cubeType = "1" === String(wixStyles.imageResize) ? "fit" : "fill", "fit" === stateStyles.cubeType && !0 === stateStyles.cropOnlyFill && (stateStyles.cubeImages = !1)), canSet("imageRatioType") && ("1" === String(wixStyles.imageRatioType) ? stateStyles.imageRatioType = _consts__WEBPACK_IMPORTED_MODULE_1__.a.imageRatioType.RESPONSIVE : stateStyles.imageRatioType = _consts__WEBPACK_IMPORTED_MODULE_1__.a.imageRatioType.FIXED), canSet("numberOfDisplayedItems") ? stateStyles.numberOfDisplayedItems = Number(wixStyles.numberOfDisplayedItems) : stateStyles.numberOfDisplayedItems = defaultStateStyles.numberOfDisplayedItems, stateStyles.imageRatioType === _consts__WEBPACK_IMPORTED_MODULE_1__.a.imageRatioType.RESPONSIVE ? stateStyles.gallerySliderImageRatio = (100 / Number(stateStyles.numberOfDisplayedItems)).toFixed(2) + "%/100%" : canSet("gallerySliderImageRatio", "cubeRatio") ? stateStyles.gallerySliderImageRatio = Number(eval(["16/9", "4/3", "1", "3/4", "9/16"][Number(wixStyles.gallerySliderImageRatio)])) : isUndefined(stateStyles.cubeRatio) && (stateStyles.gallerySliderImageRatio = Number(eval(["16/9", "4/3", "1", "3/4", "9/16"][Number(defaultStateStyles.gallerySliderImageRatio)]))), canSet("galleryImageRatio", "cubeRatio") && (stateStyles.galleryImageRatioFromWix = Number(eval(["16/9", "4/3", "1", "3/4", "9/16"][Number(wixStyles.galleryImageRatio)]))), "4" === String(wixStyles.galleryLayout) ? stateStyles = Object(pro_gallery_lib__WEBPACK_IMPORTED_MODULE_2__.a)(stateStyles, "layoutParams_cropRatio", stateStyles.gallerySliderImageRatio) : ("2" === String(wixStyles.galleryLayout) || isStoreGallery && void 0 === wixStyles.galleryLayout) && (stateStyles = Object(pro_gallery_lib__WEBPACK_IMPORTED_MODULE_2__.a)(stateStyles, "layoutParams_cropRatio", stateStyles.galleryImageRatioFromWix || defaultStateStyles.layoutParams.cropRatio)), canSet("fixedColumns") && (stateStyles.fixedColumns = Number(wixStyles.fixedColumns)), canSet("groupsPerStrip") && (stateStyles.groupsPerStrip = Number(wixStyles.groupsPerStrip)), canSet("numberOfImagesPerRow") ? stateStyles.numberOfImagesPerRow = Number(wixStyles.numberOfImagesPerRow) : stateStyles.numberOfImagesPerRow = defaultStateStyles.numberOfImagesPerRow, isMobile) {
                    var numberOfImagesPerRowWasntChangedInMobile = void 0 === wixStyles.m_numberOfImagesPerRow;
                    numberOfImagesPerRowWasntChangedInMobile && (stateStyles.numberOfImagesPerRow = 1)
                }
                if (canSet("numberOfImagesPerCol") && (stateStyles.numberOfImagesPerCol = Number(wixStyles.numberOfImagesPerCol)), canSet("galleryThumbnailsAlignment") && (stateStyles.galleryThumbnailsAlignment = ["bottom", "left", "top", "right"][wixStyles.galleryThumbnailsAlignment]), canSet("itemOpacity") && (stateStyles.itemOpacity = wixStyles.itemOpacity), canSet("overlayBackground") && (stateStyles.overlayBackground = wixStyles.overlayBackground), canSet("galleryLayout") ? stateStyles.galleryLayout = wixStyles.galleryLayout : stateStyles.galleryLayout = defaultStateStyles.galleryLayout, canSet("scrollDirection") ? stateStyles.scrollDirection = wixStyles.scrollDirection : stateStyles.scrollDirection = defaultStateStyles.scrollDirection, canSet("galleryType") && (stateStyles.galleryType = wixStyles.galleryType), canSet("titlePlacement") && (stateStyles.titlePlacement = {
                        0: pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.placements.SHOW_BELOW,
                        2: pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.placements.SHOW_ABOVE
                    }[String(wixStyles.titlePlacement)] || pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.placements.SHOW_ON_HOVER), canSet("hoveringBehaviour") && ("1" === String(wixStyles.hoveringBehaviour) ? stateStyles.hoveringBehaviour = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.infoBehaviourOnHover.DISAPPEARS : "2" === String(wixStyles.hoveringBehaviour) ? stateStyles.hoveringBehaviour = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.infoBehaviourOnHover.NO_CHANGE : stateStyles.hoveringBehaviour = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.infoBehaviourOnHover.APPEARS), canSet("overlaySizeType") && "1" === String(wixStyles.overlaySizeType) ? (stateStyles.overlaySizeType = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.overlaySizeType.PIXEL, canSet("overlaySizePixel") && (stateStyles.overlaySize = Number(wixStyles.overlaySizePixel))) : (stateStyles.overlaySizeType = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.overlaySizeType.PERCENT, canSet("overlaySizePercent") && (stateStyles.overlaySize = Number(wixStyles.overlaySizePercent))), canSet("overlayPosition")) {
                    var overlayPosition = String(wixStyles.overlayPosition),
                        _a = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.overlayPositions,
                        LEFT = _a.LEFT,
                        RIGHT = _a.RIGHT,
                        BOTTOM = _a.BOTTOM,
                        TOP = _a.TOP,
                        CENTERED_VERTICALLY = _a.CENTERED_VERTICALLY,
                        CENTERED_HORIZONTALLY = _a.CENTERED_HORIZONTALLY,
                        mapOverlayPositionToString = {
                            0: LEFT,
                            1: RIGHT,
                            2: BOTTOM,
                            3: TOP,
                            4: CENTERED_VERTICALLY,
                            5: CENTERED_HORIZONTALLY
                        },
                        currentPosition = mapOverlayPositionToString[overlayPosition] || BOTTOM;
                    stateStyles.overlayPosition = currentPosition
                }
                if (canSet("overlayPadding") && (stateStyles.overlayPadding = Number(wixStyles.overlayPadding)), canSet("overlayType") && "0" === String(wixStyles.overlayType) && (stateStyles.overlaySizeType = defaultStateStyles.overlaySizeType, stateStyles.overlaySize = defaultStateStyles.overlaySize, stateStyles.overlayPosition = defaultStateStyles.overlayPosition, stateStyles.overlayPadding = defaultStateStyles.overlayPadding), isUndefined(stateStyles.allowTitle) || stateStyles.allowTitle || isUndefined(stateStyles.allowDescription) || stateStyles.allowDescription || (stateStyles.titlePlacement = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.placements.SHOW_ON_HOVER, stateStyles.hoveringBehaviour = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.infoBehaviourOnHover.APPEARS), canSet("arrowsVerticalPosition") ? stateStyles.arrowsVerticalPosition = {
                        0: pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.arrowsVerticalPosition.ITEM_CENTER,
                        1: pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.arrowsVerticalPosition.IMAGE_CENTER,
                        2: pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.arrowsVerticalPosition.INFO_CENTER
                    }[wixStyles.arrowsVerticalPosition] : pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.isLayout("SLIDESHOW")(stateStyles) && (stateStyles.arrowsVerticalPosition = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.arrowsVerticalPosition.IMAGE_CENTER), canSet("scrollAnimation")) {
                    var shouldNotAllowHorizontalScrollAnimation = "3" === String(stateStyles.galleryLayout) || "5" === String(stateStyles.galleryLayout);
                    shouldNotAllowHorizontalScrollAnimation ? stateStyles.scrollAnimation = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.scrollAnimations.NO_EFFECT : "1" === String(wixStyles.scrollAnimation) ? stateStyles.scrollAnimation = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.scrollAnimations.FADE_IN : "2" === String(wixStyles.scrollAnimation) ? stateStyles.scrollAnimation = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.scrollAnimations.GRAYSCALE : "3" === String(wixStyles.scrollAnimation) ? stateStyles.scrollAnimation = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.scrollAnimations.SLIDE_UP : "4" === String(wixStyles.scrollAnimation) ? stateStyles.scrollAnimation = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.scrollAnimations.EXPAND : "5" === String(wixStyles.scrollAnimation) ? stateStyles.scrollAnimation = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.scrollAnimations.SHRINK : "6" === String(wixStyles.scrollAnimation) ? stateStyles.scrollAnimation = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.scrollAnimations.ZOOM_OUT : "7" === String(wixStyles.scrollAnimation) ? stateStyles.scrollAnimation = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.scrollAnimations.ONE_COLOR : stateStyles.scrollAnimation = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.scrollAnimations.NO_EFFECT
                }
                if (canSet("slideAnimation")) {
                    var shouldAllowSlideAnimation = "3" === String(stateStyles.galleryLayout) || "5" === String(stateStyles.galleryLayout);
                    if (shouldAllowSlideAnimation) {
                        var slideAnimation = String(wixStyles.slideAnimation);
                        switch (slideAnimation) {
                            case "1":
                                stateStyles.slideAnimation = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.slideAnimations.FADE;
                                break;
                            case "2":
                                stateStyles.slideAnimation = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.slideAnimations.DECK;
                                break;
                            case "0":
                            default:
                                stateStyles.slideAnimation = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.slideAnimations.SCROLL
                        }
                    } else stateStyles.slideAnimation = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.slideAnimations.SCROLL
                } else stateStyles.slideAnimation = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.slideAnimations.SCROLL;
                if (canSet("slideTransition")) {
                    var slideTransition = String(wixStyles.slideTransition);
                    switch (slideTransition) {
                        case "0":
                            stateStyles.slideTransition = _consts__WEBPACK_IMPORTED_MODULE_1__.a.slideTransitions.LINEAR;
                            break;
                        case "2":
                            stateStyles.slideTransition = _consts__WEBPACK_IMPORTED_MODULE_1__.a.slideTransitions.EASE_OUT;
                            break;
                        case "3":
                            stateStyles.slideTransition = _consts__WEBPACK_IMPORTED_MODULE_1__.a.slideTransitions.EASE_IN;
                            break;
                        case "4":
                            stateStyles.slideTransition = _consts__WEBPACK_IMPORTED_MODULE_1__.a.slideTransitions.BOUNCE_IN;
                            break;
                        case "5":
                            stateStyles.slideTransition = _consts__WEBPACK_IMPORTED_MODULE_1__.a.slideTransitions.BOUNCE_OUT;
                            break;
                        case "6":
                            stateStyles.slideTransition = _consts__WEBPACK_IMPORTED_MODULE_1__.a.slideTransitions.BOUNCE_IN_OUT;
                            break;
                        case "7":
                            stateStyles.slideTransition = _consts__WEBPACK_IMPORTED_MODULE_1__.a.slideTransitions.EXPO;
                            break;
                        case "1":
                        default:
                            stateStyles.slideTransition = _consts__WEBPACK_IMPORTED_MODULE_1__.a.slideTransitions.EASE_IN_OUT
                    }
                }
                if (canSet("scrollDuration") && (stateStyles.scrollDuration = 1e3 * Number(wixStyles.scrollDuration) || 0), canSet("overlayAnimation")) {
                    var overlayAnimation = String(wixStyles.overlayAnimation),
                        _b = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.overlayAnimations,
                        NO_EFFECT = _b.NO_EFFECT,
                        FADE_IN = _b.FADE_IN,
                        EXPAND = _b.EXPAND,
                        SLIDE_UP = _b.SLIDE_UP,
                        SLIDE_RIGHT = _b.SLIDE_RIGHT,
                        SLIDE_DOWN = _b.SLIDE_DOWN,
                        SLIDE_LEFT = _b.SLIDE_LEFT,
                        mapOverlayAnimationToString = {
                            0: NO_EFFECT,
                            1: FADE_IN,
                            2: EXPAND,
                            3: SLIDE_UP,
                            4: SLIDE_RIGHT,
                            5: SLIDE_DOWN,
                            6: SLIDE_LEFT
                        };
                    stateStyles.overlayAnimation = mapOverlayAnimationToString[overlayAnimation] || NO_EFFECT
                }
                if (canSet("imageHoverAnimation") && ("1" === String(wixStyles.imageHoverAnimation) ? stateStyles.imageHoverAnimation = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.imageHoverAnimations.ZOOM_IN : "2" === String(wixStyles.imageHoverAnimation) ? stateStyles.imageHoverAnimation = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.imageHoverAnimations.BLUR : "3" === String(wixStyles.imageHoverAnimation) ? stateStyles.imageHoverAnimation = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.imageHoverAnimations.GRAYSCALE : "4" === String(wixStyles.imageHoverAnimation) ? stateStyles.imageHoverAnimation = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.imageHoverAnimations.SHRINK : "5" === String(wixStyles.imageHoverAnimation) ? stateStyles.imageHoverAnimation = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.imageHoverAnimations.INVERT : "6" === String(wixStyles.imageHoverAnimation) ? stateStyles.imageHoverAnimation = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.imageHoverAnimations.COLOR_IN : "7" === String(wixStyles.imageHoverAnimation) ? stateStyles.imageHoverAnimation = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.imageHoverAnimations.DARKENED : stateStyles.imageHoverAnimation = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.imageHoverAnimations.NO_EFFECT), canSet("expandAnimation") && ("1" === String(wixStyles.expandAnimation) ? stateStyles.expandAnimation = _consts__WEBPACK_IMPORTED_MODULE_1__.a.expandAnimations.EXPAND : "2" === String(wixStyles.expandAnimation) ? stateStyles.expandAnimation = _consts__WEBPACK_IMPORTED_MODULE_1__.a.expandAnimations.FADE_IN : "3" === String(wixStyles.expandAnimation) ? stateStyles.expandAnimation = _consts__WEBPACK_IMPORTED_MODULE_1__.a.expandAnimations.ZOOM : stateStyles.expandAnimation = _consts__WEBPACK_IMPORTED_MODULE_1__.a.expandAnimations.NO_EFFECT), canSet("itemFont") && (stateStyles.itemFont = wixStyles.itemFont), canSet("itemFontSlideshow") && (stateStyles.itemFontSlideshow = wixStyles.itemFontSlideshow), canSet("itemDescriptionFontSlideshow") && (stateStyles.itemDescriptionFontSlideshow = wixStyles.itemDescriptionFontSlideshow), canSet("itemDescriptionFont") && (stateStyles.itemDescriptionFont = wixStyles.itemDescriptionFont), canSet("itemFontColor") && (stateStyles.itemFontColor = wixStyles.itemFontColor), canSet("itemFontColorSlideshow") && (stateStyles.itemFontColorSlideshow = wixStyles.itemFontColorSlideshow), canSet("itemDescriptionFontColor") && (stateStyles.itemDescriptionFontColor = wixStyles.itemDescriptionFontColor), canSet("itemDescriptionFontColorSlideshow") && (stateStyles.itemDescriptionFontColorSlideshow = wixStyles.itemDescriptionFontColorSlideshow), canSet("textBoxFillColor") && (stateStyles.textBoxFillColor = wixStyles.textBoxFillColor), canSet("textsVerticalPadding") ? stateStyles.textsVerticalPadding = wixStyles.textsVerticalPadding : stateStyles.textsVerticalPadding = defaultStateStyles.textsVerticalPadding, canSet("textsHorizontalPadding") ? stateStyles.textsHorizontalPadding = wixStyles.textsHorizontalPadding : stateStyles.textsHorizontalPadding = defaultStateStyles.textsHorizontalPadding, canSet("textBoxBorderRadius") && (stateStyles.textBoxBorderRadius = Number(wixStyles.textBoxBorderRadius)), canSet("textBoxBorderWidth") && (stateStyles.textBoxBorderWidth = Number(wixStyles.textBoxBorderWidth)), canSet("textBoxBorderColor") && (stateStyles.textBoxBorderColor = wixStyles.textBoxBorderColor), canSet("titleDescriptionSpace") ? stateStyles.titleDescriptionSpace = Number(wixStyles.titleDescriptionSpace) : stateStyles.titleDescriptionSpace = defaultStateStyles.titleDescriptionSpace, canSet("textImageSpace") && (stateStyles.textImageSpace = wixStyles.textImageSpace), canSet("imageInfoType")) {
                    var selectedImageInfoType = void 0;
                    selectedImageInfoType = "0" === String(wixStyles.imageInfoType) ? pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.infoType.NO_BACKGROUND : "1" === String(wixStyles.imageInfoType) ? pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.infoType.ATTACHED_BACKGROUND : "2" === String(wixStyles.imageInfoType) ? pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.infoType.SEPARATED_BACKGROUND : pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.infoType.NO_BACKGROUND, stateStyles.imageInfoType = selectedImageInfoType
                }
                if (canSet("galleryHorizontalAlign")) {
                    var horizontalAlign = void 0,
                        textAlign = void 0;
                    switch (wixStyles.galleryHorizontalAlign) {
                        case 0:
                            horizontalAlign = "flex-start", textAlign = "left";
                            break;
                        case 1:
                        default:
                            horizontalAlign = "center", textAlign = "center";
                            break;
                        case 2:
                            horizontalAlign = "flex-end", textAlign = "right"
                    }
                    stateStyles.galleryHorizontalAlign = horizontalAlign, stateStyles.galleryTextAlign = textAlign
                } else stateStyles.galleryHorizontalAlign = defaultStateStyles.galleryHorizontalAlign, stateStyles.galleryTextAlign = defaultStateStyles.galleryTextAlign;
                if (canSet("galleryVerticalAlign")) {
                    var verticalAlign = void 0;
                    switch (wixStyles.galleryVerticalAlign) {
                        case 0:
                        default:
                            verticalAlign = "flex-start";
                            break;
                        case 1:
                            verticalAlign = "center";
                            break;
                        case 2:
                            verticalAlign = "flex-end"
                    }
                    stateStyles.galleryVerticalAlign = verticalAlign
                } else stateStyles.galleryVerticalAlign = defaultStateStyles.galleryVerticalAlign;
                if (canSet("itemClick"))
                    if ("number" == typeof wixStyles.itemClick) switch (wixStyles.itemClick) {
                        case 0:
                        default:
                            stateStyles.itemClick = "expand";
                            break;
                        case 1:
                            stateStyles.itemClick = "link";
                            break;
                        case 2:
                            stateStyles.itemClick = "nothing";
                            break;
                        case 3:
                            stateStyles.itemClick = "fullscreen"
                    } else "expand" === wixStyles.itemClick || "link" === wixStyles.itemClick || "nothing" === wixStyles.itemClick || "fullscreen" === wixStyles.itemClick ? stateStyles.itemClick = wixStyles.itemClick : stateStyles.itemClick = "expand";
                if (canSet("loadMoreButtonText") && (stateStyles.loadMoreButtonText = String(wixStyles.loadMoreButtonText)), canSet("loadMoreButtonFont") && (stateStyles.loadMoreButtonFont = wixStyles.loadMoreButtonFont), canSet("loadMoreButtonFontColor") && (stateStyles.loadMoreButtonFontColor = wixStyles.loadMoreButtonFontColor), canSet("loadMoreButtonColor") && (stateStyles.loadMoreButtonColor = wixStyles.loadMoreButtonColor), canSet("loadMoreButtonBorderWidth") && (stateStyles.loadMoreButtonBorderWidth = wixStyles.loadMoreButtonBorderWidth), canSet("loadMoreButtonBorderColor") && (stateStyles.loadMoreButtonBorderColor = wixStyles.loadMoreButtonBorderColor), canSet("loadMoreButtonBorderRadius") && (stateStyles.loadMoreButtonBorderRadius = wixStyles.loadMoreButtonBorderRadius), canSet("autoSlideshowContinuousSpeed") && (stateStyles.autoSlideshowContinuousSpeed = Number(wixStyles.autoSlideshowContinuousSpeed) || 0), canSet("autoSlideshowType")) {
                    var shouldAllowContinuousAutoSlide = stateStyles.slideAnimation === pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.slideAnimations.SCROLL;
                    if (shouldAllowContinuousAutoSlide) {
                        var autoSlideshowType = String(wixStyles.autoSlideshowType);
                        switch (autoSlideshowType) {
                            case "0":
                                stateStyles.autoSlideshowType = _consts__WEBPACK_IMPORTED_MODULE_1__.a.autoSlideshowTypes.INTERVAL;
                                break;
                            case "1":
                                stateStyles.autoSlideshowType = _consts__WEBPACK_IMPORTED_MODULE_1__.a.autoSlideshowTypes.CONTINUOUS;
                                break;
                            default:
                                stateStyles.autoSlideshowType = _consts__WEBPACK_IMPORTED_MODULE_1__.a.autoSlideshowTypes.INTERVAL
                        }
                    } else stateStyles.autoSlideshowType = _consts__WEBPACK_IMPORTED_MODULE_1__.a.autoSlideshowTypes.INTERVAL
                }
                if (canSet("customButtonText") ? stateStyles.customButtonText = String(wixStyles.customButtonText) : stateStyles.customButtonText = defaultStateStyles.customButtonText, canSet("customButtonFontForHover") && (stateStyles.customButtonFontForHover = wixStyles.customButtonFontForHover), canSet("customButtonFontColorForHover") && (stateStyles.customButtonFontColorForHover = wixStyles.customButtonFontColorForHover), canSet("externalCustomButtonColor") && (stateStyles.externalCustomButtonColor = wixStyles.externalCustomButtonColor), canSet("externalCustomButtonBorderWidth") && (stateStyles.externalCustomButtonBorderWidth = wixStyles.externalCustomButtonBorderWidth), canSet("externalCustomButtonBorderColor") && (stateStyles.externalCustomButtonBorderColor = wixStyles.externalCustomButtonBorderColor), canSet("externalCustomButtonBorderRadius") && (stateStyles.externalCustomButtonBorderRadius = wixStyles.externalCustomButtonBorderRadius), canSet("customButtonFont") && (stateStyles.customButtonFont = wixStyles.customButtonFont), canSet("customButtonFontColor") && (stateStyles.customButtonFontColor = wixStyles.customButtonFontColor), canSet("customButtonColor") && (stateStyles.customButtonColor = wixStyles.customButtonColor), canSet("customButtonBorderWidth") && (stateStyles.customButtonBorderWidth = wixStyles.customButtonBorderWidth), canSet("customButtonBorderColor") && (stateStyles.customButtonBorderColor = wixStyles.customButtonBorderColor), canSet("customButtonBorderRadius") && (stateStyles.customButtonBorderRadius = wixStyles.customButtonBorderRadius), canSet("loadMoreAmount") && ("1" === String(wixStyles.loadMoreAmount) ? stateStyles.loadMoreAmount = "partial" : stateStyles.loadMoreAmount = "all"), stateStyles.sharpParams = {
                        quality: 90,
                        usm: {}
                    }, canSet("imageQuality") && (stateStyles.sharpParams.quality = wixStyles.imageQuality), canSet("usmToggle") && (stateStyles.sharpParams.allowUsm = wixStyles.usmToggle, !0 === wixStyles.usmToggle && (canSet("usm_a") && (stateStyles.sharpParams.usm.usm_a = (wixStyles.usm_a || 0) / 100), canSet("usm_r") && (stateStyles.sharpParams.usm.usm_r = wixStyles.usm_r), canSet("usm_t") && (stateStyles.sharpParams.usm.usm_t = (wixStyles.usm_t || 0) / 255))), canSet("videoPlay")) switch (wixStyles.videoPlay) {
                    case 0:
                    default:
                        stateStyles.videoPlay = "hover";
                        break;
                    case 1:
                        stateStyles.videoPlay = "auto";
                        break;
                    case 2:
                        stateStyles.videoPlay = "onClick"
                }
                canSet("videoSound") && (stateStyles.videoSound = wixStyles.videoSound), canSet("videoSpeed") && (stateStyles.videoSpeed = wixStyles.videoSpeed), canSet("videoLoop") && (stateStyles.videoLoop = wixStyles.videoLoop), canSet("showVideoPlayButton") && (stateStyles.showVideoPlayButton = wixStyles.showVideoPlayButton), canSet("mobilePanorama") && (stateStyles.mobilePanorama = "1" === String(wixStyles.mobilePanorama)), canSet("placeGroupsLtr") && (stateStyles.placeGroupsLtr = "1" === String(wixStyles.placeGroupsLtr)), canSet("isAutoSlideshow") && (stateStyles.isAutoSlideshow = "1" === String(wixStyles.isAutoSlideshow)), canSet("slideshowLoop") && (stateStyles.slideshowLoop = "1" === String(wixStyles.slideshowLoop)), canSet("playButtonForAutoSlideShow") && (stateStyles.playButtonForAutoSlideShow = "1" === String(wixStyles.playButtonForAutoSlideShow)), canSet("pauseAutoSlideshowOnHover") && (stateStyles.pauseAutoSlideshowOnHover = wixStyles.pauseAutoSlideshowOnHover), canSet("allowSlideshowCounter") && (stateStyles.allowSlideshowCounter = wixStyles.allowSlideshowCounter), canSet("autoSlideshowInterval") && (stateStyles.autoSlideshowInterval = Number(wixStyles.autoSlideshowInterval) || 0), canSet("showArrows") ? stateStyles.showArrows = wixStyles.showArrows : isUndefined(stateStyles.showArrows) && (stateStyles.showArrows = defaultStateStyles.showArrows), canSet("arrowsSize") && (stateStyles.arrowsSize = Number(wixStyles.arrowsSize) || 23), canSet("arrowsColor") && (stateStyles.arrowsColor = wixStyles.arrowsColor), canSet("arrowsPosition") && (stateStyles.arrowsPosition = 1 === Number(stateStyles.showArrows) ? wixStyles.arrowsPosition : 0), stateStyles.arrowsPadding = canSet("arrowsPadding") ? wixStyles.arrowsPadding : defaultStateStyles.arrowsPadding, canSet("oneColorAnimationColor") && (stateStyles.oneColorAnimationColor = wixStyles.oneColorAnimationColor), canSet("slideshowInfoSize") && (stateStyles.slideshowInfoSize = Number(wixStyles.slideshowInfoSize)), canSet("thumbnailSize") && (stateStyles.thumbnailSize = isMobile ? defaultStateStyles.thumbnailSize : Number(wixStyles.thumbnailSize) || defaultStateStyles.thumbnailSize), canSet("responsive") ? stateStyles.responsive = wixStyles.responsive : stateStyles.responsive = !1, canSet("imageLoadingMode") && ("1" === String(wixStyles.imageLoadingMode) ? stateStyles.imageLoadingMode = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.loadingMode.COLOR : stateStyles.imageLoadingMode = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.loadingMode.BLUR), canSet("imageLoadingWithColorMode") && ("1" === String(wixStyles.imageLoadingWithColorMode) ? stateStyles.imageLoadingWithColorMode = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.loadingWithColorMode.MAIN_COLOR : stateStyles.imageLoadingWithColorMode = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.loadingWithColorMode.PICKED_COLOR), canSet("textBoxHeight") && (stateStyles.textBoxHeight = wixStyles.textBoxHeight), canSet("calculateTextBoxHeightMode") ? "1" === String(wixStyles.calculateTextBoxHeightMode) ? stateStyles.calculateTextBoxHeightMode = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.textBoxWidthCalculationOptions.MANUAL : stateStyles.calculateTextBoxHeightMode = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.textBoxWidthCalculationOptions.AUTOMATIC : stateStyles.calculateTextBoxHeightMode = defaultStateStyles.calculateTextBoxHeightMode, canSet("jsonStyleParams") && (stateStyles.jsonStyleParams = wixStyles.jsonStyleParams), canSet("designedPresetId") && (stateStyles.designedPresetId = wixStyles.designedPresetId), canSet("galleryLayoutType") && (stateStyles.galleryLayoutType = wixStyles.galleryLayoutType), canSet("shouldIndexDirectShareLinkInSEO") && (stateStyles.shouldIndexDirectShareLinkInSEO = wixStyles.shouldIndexDirectShareLinkInSEO), isUndefined(stateStyles.allowTitle) && (stateStyles.allowTitle = defaultStateStyles.allowTitle), isUndefined(stateStyles.allowDescription) && (stateStyles.allowDescription = defaultStateStyles.allowDescription);
                var getFontLineHeight = function(e) {
                        return e.value.match(/\/(\d+)px/) ? parseInt(e.value.match(/\/(\d+)px/)[1]) : e.value.match(/\/(\d+)%/) ? e.size * (parseInt(e.value.match(/\/(\d+)%/)[1]) / 100) : e.value.match(/px\/(([0-9]*[.])?[0-9]*)/) ? e.size * parseFloat(e.value.match(/px\/(([0-9]*[.])?[0-9]*)/)[1]) : (console.error("GalleryContainer -> getFontLineHeight -> font lineHeight do not match any pattern. font value: ", e.value), e.size)
                    },
                    getHeightByContent = function(e) {
                        var t = e.itemFontSlideshow,
                            i = e.itemDescriptionFontSlideshow,
                            r = e.allowTitle,
                            o = e.allowDescription,
                            n = e.useCustomButton,
                            a = e.titlePlacement;
                        if (a !== pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.placements.SHOW_ABOVE && a !== pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.placements.SHOW_BELOW) return 0;
                        var s = n ? 33 : 0,
                            l = n && (r || o) ? 16 : 0,
                            u = 0,
                            c = 0;
                        return r && (u = t ? getFontLineHeight(t) : 22, l += o ? 6 : 0), o && (c = i ? getFontLineHeight(i) : 15), 10 + u + 3 * c + 45 + l + s
                    };
                stateStyles.gotStyleParams = gotStyleParams;
                var finalStyleParams = Object(pro_gallery_lib__WEBPACK_IMPORTED_MODULE_2__.d)(defaultStateStyles, stateStyles);
                return finalStyleParams.designedPresetId >= 1 && (finalStyleParams = Object(_customPresetProcessor__WEBPACK_IMPORTED_MODULE_5__.a)({
                    styles: finalStyleParams,
                    presetId: finalStyleParams.designedPresetId,
                    isMobile: isMobile
                }), delete finalStyleParams.jsonStyleParams, delete finalStyleParams.m_jsonStyleParams, delete finalStyleParams.designedPresetId, delete finalStyleParams.m_designedPresetId, finalStyleParams.galleryLayout = -1), finalStyleParams.calculateTextBoxHeightMode === pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.textBoxWidthCalculationOptions.AUTOMATIC && (finalStyleParams.calculateTextBoxHeightMode = pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a.textBoxWidthCalculationOptions.MANUAL, finalStyleParams.textBoxHeight = getHeightByContent(finalStyleParams)), Object(pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a)(finalStyleParams)
            },
            getProGalleryStyles = function(e, t) {
                void 0 === t && (t = {});
                var i = Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)({}, e.booleans), e.numbers), e.colors), e.fonts), e.manual);
                return getProGalleryStylesImp(i, !0, Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)({}, {
                    isMobile: !1,
                    isStoreGallery: !1,
                    isOnBoarding: !1
                }), t))
            }
    }, , , function(e, t, i) {
        "use strict";
        i.r(t), i.d(t, "initAppForPage", (function() {
            return j
        })), i.d(t, "createControllers", (function() {
            return N
        })), i.d(t, "exports", (function() {
            return U
        }));
        var r = i(14),
            o = i(13),
            n = i.n(o),
            a = i(10);

        function s(e, t) {
            var i = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var r = Object.getOwnPropertySymbols(e);
                t && (r = r.filter((function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                }))), i.push.apply(i, r)
            }
            return i
        }

        function l(e) {
            for (var t = 1; t < arguments.length; t++) {
                var i = null != arguments[t] ? arguments[t] : {};
                t % 2 ? s(Object(i), !0).forEach((function(t) {
                    u(e, t, i[t])
                })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(i)) : s(Object(i)).forEach((function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(i, t))
                }))
            }
            return e
        }

        function u(e, t, i) {
            return t in e ? Object.defineProperty(e, t, {
                value: i,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = i, e
        }
        var c = function(e) {
                var t = e.lastIndexOf("/");
                return e.substring(t + 1)
            },
            h = function(e) {
                var t = e.split("/");
                return t && t.length > 0 ? t.pop() : ""
            },
            p = ["video.wixstatic.com/video/", "static.wixstatic.com/media/video/"],
            d = function(e, t) {
                return e.filter((function(e) {
                    return !(t || "default" in e && e.default) || !(!t || !("default" in e) && !e.default)
                })).map((function(e) {
                    return {
                        height: e.height,
                        width: e.width,
                        url: h(e.url)
                    }
                }))
            },
            g = function(e, t) {
                var i = "mediaUrl" in t && c(t.mediaUrl);
                e = l(l(l(l({}, e), i && {
                    mediaUrl: c(t.mediaUrl)
                }), "token" in t && {
                    token: t.token
                }), "imageToken" in t && {
                    imageToken: t.imageToken
                });
                var r = t.photoMetadata;
                return e.metaData = l(l(l(l(l(l(l(l(l({}, e.metaData), {}, {
                    sourceName: "private"
                }, "tags" in t && {
                    tags: t.tags
                }), "sourceName" in r && {
                    isDemo: "private" === r.sourceName
                }), "height" in r && {
                    height: r.height
                }), "width" in r && {
                    width: r.width
                }), "focalPoint" in r && r.focalPoint && {
                    focalPoint: [r.focalPoint.x, r.focalPoint.y]
                }), "name" in t && {
                    fileName: t.name
                }), i && {
                    name: c(t.mediaUrl)
                }), function(e) {
                    return l({}, ("quality" in e || "unsharpMasking" in e) && {
                        sharpParams: {
                            L: l(l({}, "quality" in e && {
                                overrideQuality: !0,
                                quality: e.quality
                            }), "unsharpMasking" in e && {
                                overrideUsm: !0,
                                usm: l(l(l({}, "amount" in e.unsharpMasking && {
                                    usm_a: e.unsharpMasking.amount
                                }), "radius" in e.unsharpMasking && {
                                    usm_r: e.unsharpMasking.radius
                                }), "threshold" in e.unsharpMasking && {
                                    usm_t: e.unsharpMasking.threshold
                                })
                            })
                        }
                    })
                }(r)), e
            },
            m = function(e) {
                try {
                    return e.map((function(e) {
                        var t, i, r = l(l(l(l({}, "id" in e && {
                            itemId: e.id
                        }), "secure" in e && {
                            isSecure: e.secure
                        }), "orderIndex" in e && {
                            orderIndex: e.orderIndex
                        }), {}, {
                            metaData: l(l(l(l({}, "description" in e && {
                                description: e.description
                            }), "title" in e && {
                                title: e.title
                            }), {}, {
                                link: {
                                    type: "none",
                                    target: "_blank"
                                }
                            }, "link" in e && {
                                link: (t = e.link, i = [{
                                    serverLinkField: "phone",
                                    type: "PhoneLink"
                                }, {
                                    serverLinkField: "email",
                                    type: "EmailLink"
                                }, {
                                    serverLinkField: "document",
                                    type: "DocumentLink"
                                }, {
                                    serverLinkField: "page",
                                    type: "PageLink"
                                }, {
                                    serverLinkField: "external",
                                    type: "ExternalLink"
                                }, {
                                    serverLinkField: "anchor",
                                    type: "AnchorLink"
                                }, {
                                    serverLinkField: "dynamicPage",
                                    type: "DynamicPageLink"
                                }].find((function(e) {
                                    var i = e.serverLinkField;
                                    return t.wixLinkData && t.wixLinkData["" + i]
                                })), l({
                                    target: t.wixLinkData["" + i.serverLinkField].target || t.target,
                                    type: "wix",
                                    data: l(l({}, t.wixLinkData["" + i.serverLinkField]), {}, {
                                        type: i.type
                                    })
                                }, "text" in t && {
                                    text: t.text
                                }))
                            }), "alt" in e && {
                                alt: e.alt
                            })
                        });
                        return "Video" === e.dataType ? function(e, t) {
                            var i, r, o, n = t.videoMetadata,
                                a = "source" in n && "Undefined" !== n.source;
                            return (e = l(l(l({}, e), a && "posters" in n && n.posters.length > 0 && {
                                mediaUrl: h(n.posters[0].url)
                            }), !a && "mediaUrl" in t && {
                                mediaUrl: (i = t.mediaUrl, r = p.find((function(e) {
                                    return i.includes(e)
                                })), function(e, t) {
                                    var i = e.split(t);
                                    if (i && 2 === i.length) {
                                        var r = i.pop().split("/");
                                        if (r.length > 0) return r[0]
                                    }
                                    return ""
                                }(i, r))
                            })).metaData = l(l(l(l(l(l(l(l(l(l(l(l(l(l(l({}, e.metaData), {}, {
                                type: "video"
                            }, "posters" in n && {
                                customPoster: d(n.posters, !0).length > 0 ? d(n.posters, !0)[0] : ""
                            }), "source" in n && {
                                isExternal: a
                            }), "height" in n && {
                                height: n.height
                            }), "width" in n && {
                                width: n.width
                            }), "name" in t && {
                                name: t.name
                            }), "posters" in n && {
                                posters: d(n.posters, !1)
                            }), "sourceName" in n && {
                                isDemo: "private" === n.sourceName
                            }), !a && "resolutions" in n && {
                                qualities: (o = n.resolutions, o.map((function(e) {
                                    return {
                                        formats: [Object.keys(e.urls)[0]],
                                        height: e.height,
                                        quality: e.videoMode || e.height + "p",
                                        width: e.width
                                    }
                                })))
                            }), a && {
                                qualities: []
                            }), "duration" in n && {
                                duration: Number(n.duration)
                            }), a && {
                                source: n.source.toLowerCase()
                            }), a && {
                                videoUrl: t.mediaUrl
                            }), a && {
                                videoId: n.externalId
                            }), "posters" in n && "focalPoint" in n.posters[0] && {
                                focalPoint: [n.posters[0].focalPoint.x, n.posters[0].focalPoint.y]
                            }), e
                        }(r, e) : "Photo" === e.dataType ? g(r, e) : "Text" === e.dataType ? function(e, t) {
                            var i = t.textMetadata,
                                r = "style" in i;
                            return (e = l(l({}, e), {}, {
                                mediaUrl: ""
                            })).metaData = l(l(l(l(l(l(l(l(l({}, e.metaData), {}, {
                                type: "text"
                            }, "editorHtml" in i && {
                                editorHtml: i.editorHtml
                            }), "html" in i && {
                                html: i.html
                            }), "name" in t && {
                                name: t.name
                            }), "fontPickerStyleParamName" in i && {
                                fontPickerStyleParamName: i.fontPickerStyleParamName
                            }), r && "height" in i.style && {
                                height: i.style.height
                            }), r && "width" in i.style && {
                                width: i.style.width
                            }), r && {
                                textStyle: i.style
                            }), "editorFontId" in i && {
                                fontPickerStyleParamName: i.editorFontId
                            }), e
                        }(r, e) : {}
                    }))
                } catch (t) {
                    return console.error("Wrong format for gallery items", e, t), []
                }
            },
            f = i(3),
            y = i(4),
            S = i(9),
            b = function() {
                function e(e, t, i, r) {
                    void 0 === e && (e = void 0), void 0 === t && (t = void 0), void 0 === i && (i = void 0), void 0 === r && (r = void 0), this.compId = e, this.instance = t, this.getCompId = this.getCompId.bind(this), this.getInstance = this.getInstance.bind(this), this.viewMode = i, this.baseUrl = r || ""
                }
                return e.prototype.getCompId = function() {
                    return this.compId ? this.compId : y.a.Wix.Utils.getOrigCompId() ? y.a.Wix.Utils.getOrigCompId() : y.a.Wix.Utils.getCompId()
                }, e.prototype.isLiveSite = function() {
                    return this.viewMode && "site" === this.viewMode.toLowerCase()
                }, e.prototype.isPreview = function() {
                    return this.viewMode && "preview" === this.viewMode.toLowerCase()
                }, e.prototype.getInstance = function() {
                    return this.instance ? this.instance : y.a.instance
                }, e.prototype.get = function(e, t) {
                    return Object(f.b)(this, void 0, void 0, (function() {
                        var i;
                        return Object(f.c)(this, (function(r) {
                            switch (r.label) {
                                case 0:
                                    return "VIEWER", [4, fetch(this.baseUrl + "/_api/app-settings-service/v1/settings/components/" + this.getCompId() + "?state=" + e + "&host=VIEWER", {
                                        method: "GET",
                                        headers: {
                                            Authorization: this.getInstance(),
                                            Accept: "application/json, text/plain, */*"
                                        }
                                    }).then((function(e) {
                                        return e.json()
                                    }))];
                                case 1:
                                    return (i = r.sent()) && i.settings ? i.settings.originGallerySettings ? (i.settings = Object(f.a)(Object(f.a)({}, i.settings.originGallerySettings), i.settings), i.settings.originGallerySettings = null, this.isLiveSite() || this.isPreview() ? [3, 3] : [4, this.setMultiple(i.settings, S.a.dataSavedState.PUBLISHED)]) : [3, 3] : [3, 4];
                                case 2:
                                    r.sent(), r.label = 3;
                                case 3:
                                    return t ? [2, i.settings[t]] : [2, i.settings];
                                case 4:
                                    return [2, void 0]
                            }
                        }))
                    }))
                }, e.prototype.setMultiple = function(e, t) {
                    return void 0 === t && (t = S.a.dataSavedState.SAVED), Object(f.b)(this, void 0, void 0, (function() {
                        var i, r;
                        return Object(f.c)(this, (function(o) {
                            switch (o.label) {
                                case 0:
                                    return e.galleryId, i = Object(f.d)(e, ["galleryId"]), "VIEWER", r = {
                                        settings: i || {},
                                        host: "VIEWER",
                                        state: t
                                    }, [4, fetch(this.baseUrl + "/_api/app-settings-service/v1/settings/components/" + this.getCompId(), {
                                        method: "PATCH",
                                        headers: {
                                            "Content-Type": "application/json",
                                            Authorization: this.getInstance()
                                        },
                                        body: JSON.stringify(r)
                                    })];
                                case 1:
                                    return o.sent(), [2]
                            }
                        }))
                    }))
                }, e.prototype.set = function(e, t) {
                    var i;
                    this.setMultiple(((i = {})[e] = t, i))
                }, e
            }(),
            v = i(1);

        function _(e, t) {
            var i = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var r = Object.getOwnPropertySymbols(e);
                t && (r = r.filter((function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                }))), i.push.apply(i, r)
            }
            return i
        }

        function O(e) {
            for (var t = 1; t < arguments.length; t++) {
                var i = null != arguments[t] ? arguments[t] : {};
                t % 2 ? _(Object(i), !0).forEach((function(t) {
                    I(e, t, i[t])
                })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(i)) : _(Object(i)).forEach((function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(i, t))
                }))
            }
            return e
        }

        function I(e, t, i) {
            return t in e ? Object.defineProperty(e, t, {
                value: i,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = i, e
        }

        function w(e, t, i, r, o, n, a) {
            try {
                var s = e[n](a),
                    l = s.value
            } catch (e) {
                return void i(e)
            }
            s.done ? t(l) : Promise.resolve(l).then(r, o)
        }

        function E(e) {
            return function() {
                var t = this,
                    i = arguments;
                return new Promise((function(r, o) {
                    var n = e.apply(t, i);

                    function a(e) {
                        w(n, r, o, a, s, "next", e)
                    }

                    function s(e) {
                        w(n, r, o, a, s, "throw", e)
                    }
                    a(void 0)
                }))
            }
        }
        var P = function() {
                function e(e) {
                    var t = e.context,
                        i = e.controllerConfig,
                        r = e.reportBiLog,
                        o = e.SSRWorkerLog;
                    this.SSRWorkerLog = o, this.ITEMS_BATCH_SIZE = 50, this.controllerConfig = i, this.wixCodeApi = i.wixCodeApi, this.viewMode = a.a.parseViewMode(this.wixCodeApi.window.viewMode), this.context = t.getContext(), this.baseUrl = a.a.getBaseUrl(this.wixCodeApi, this.viewMode), this.appSettingsBaseUrl = this.viewMode === v.a.viewMode.PREVIEW || this.viewMode === v.a.viewMode.EDIT ? "" : this.baseUrl, this.SSRWorkerLog.push("appSettingsBaseUrl: " + this.appSettingsBaseUrl), this.compId = i.compId, this.externalId = i.config.externalId || "00000000-0000-0000-0000-000000000000", this.instance = i.appParams.instance, this.instanceId = i.appParams.instanceId, this.appSettings = new b(this.compId, this.instance, this.viewMode, this.appSettingsBaseUrl), this.reportBiLog = r, this.initDataSavedState()
                }
                var t = e.prototype;
                return t.isSSR = function() {
                    return "backend" === this.wixCodeApi.window.rendering.env
                }, t.getAppSettings = function() {
                    var e = E(n.a.mark((function e() {
                        var t, i, r;
                        return n.a.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    if (this.appSettingsFetchPromise) {
                                        e.next = 26;
                                        break
                                    }
                                    return e.prev = 1, this.SSRWorkerLog.push("FLOW trying to get settings from appSettings"), this.appSettingsFetchPromise = this.appSettings.get(this.dataSavedState), e.next = 6, this.appSettingsFetchPromise;
                                case 6:
                                    if (!(i = e.sent) || !i.galleryId) {
                                        e.next = 14;
                                        break
                                    }
                                    Object.assign(this, O({}, i)), this.appSettingsData = i, this.SSRWorkerLog.push("FLOW received appSettings and the gallery Id is: ", i.galleryId), t = i, e.next = 18;
                                    break;
                                case 14:
                                    if (this.isSSR()) {
                                        e.next = 18;
                                        break
                                    }
                                    throw r = {
                                        compId: this.compId,
                                        errorType: "no_appSettings.galleryId"
                                    }, this.reportBiLog("proGalleryErrorUou", r), new Error("no galleryId in appSettings");
                                case 18:
                                    e.next = 23;
                                    break;
                                case 20:
                                    e.prev = 20, e.t0 = e.catch(1), console.error("Failed to get settings: " + e.t0);
                                case 23:
                                    return e.abrupt("return", t);
                                case 26:
                                    return this.SSRWorkerLog.push("appSettings is already fetching"), e.abrupt("return", this.appSettingsFetchPromise);
                                case 28:
                                case "end":
                                    return e.stop()
                            }
                        }), e, this, [
                            [1, 20]
                        ])
                    })));
                    return function() {
                        return e.apply(this, arguments)
                    }
                }(), t.fetchGalleryId = function() {
                    var e = E(n.a.mark((function e() {
                        return n.a.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    if (!this.galleryId) {
                                        e.next = 2;
                                        break
                                    }
                                    return e.abrupt("return");
                                case 2:
                                    return e.next = 4, this.getAppSettings();
                                case 4:
                                    return e.sent || console.error("could not get galleryId for pro gallery"), e.abrupt("return");
                                case 7:
                                case "end":
                                    return e.stop()
                            }
                        }), e, this)
                    })));
                    return function() {
                        return e.apply(this, arguments)
                    }
                }(), t.getGalleryDataFromServer = function() {
                    var e = E(n.a.mark((function e(t) {
                        var i, r, o, s, l, u, c;
                        return n.a.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    return i = t.from, r = t.batchSize, o = void 0 === r ? this.ITEMS_BATCH_SIZE : r, this.SSRWorkerLog.push("Fn getGalleryDataFromServer", "from: ", i), e.next = 4, a.a.verifyExperiments(this.scopedGlobalSdkApis);
                                case 4:
                                    return e.prev = 4, e.next = 7, this.getDataFromServer({
                                        from: i,
                                        batchSize: o
                                    });
                                case 7:
                                    return e.abrupt("return", e.sent);
                                case 10:
                                    return e.prev = 10, e.t0 = e.catch(4), console.error("failed to fetch from V2 server, fetching form V1"), e.next = 15, this.TO_BE_REMOVED_getDataFromFallbackServer({
                                        from: i,
                                        batchSize: o
                                    });
                                case 15:
                                    return s = e.sent, this.TO_BE_REMOVED_setGalleryData({
                                        galleryData: s
                                    }), l = s.pageResponse, u = l.items, c = l.totalItemsCount, e.abrupt("return", {
                                        items: u,
                                        totalItemsCount: c
                                    });
                                case 19:
                                case "end":
                                    return e.stop()
                            }
                        }), e, this, [
                            [4, 10]
                        ])
                    })));
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(), t.TO_BE_REMOVED_addSsrUrlParams = function(e) {
                    return e + (this.isSSR() ? "&petri_ovr=specs.SkipCachePopulationSpec:true" : "")
                }, t.TO_BE_REMOVED_getDataFromFallbackServer = function() {
                    var e = E(n.a.mark((function e(t) {
                        var i, r, o, a;
                        return n.a.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    return i = t.from, r = t.batchSize, o = i + r, a = this.TO_BE_REMOVED_addSsrUrlParams(this.baseUrl + "/_api/pro-gallery-webapp/v1/gallery/" + this.instanceId + "/items/from/" + i + "/to/" + o + "?compId=" + this.compId + "&externalId=" + this.externalId), this.SSRWorkerLog.push("trying to get items from the fallback server ", a), e.abrupt("return", this.fetchNonPlatformizedServerData({
                                        requestUrl: a,
                                        multilingualHeader: this.getMultiLangHeader()
                                    }));
                                case 5:
                                case "end":
                                    return e.stop()
                            }
                        }), e, this)
                    })));
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(), t.fetchNonPlatformizedServerData = function() {
                    var e = E(n.a.mark((function e(t) {
                        var i, r, o, a;
                        return n.a.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    return i = t.requestUrl, r = t.multilingualHeader, e.next = 3, fetch(i, {
                                        headers: {
                                            "x-wix-linguist": r
                                        }
                                    });
                                case 3:
                                    return o = e.sent, e.next = 6, o.json();
                                case 6:
                                    return a = e.sent, e.abrupt("return", a);
                                case 8:
                                case "end":
                                    return e.stop()
                            }
                        }), e)
                    })));
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(), t.getDataFromServer = function() {
                    var e = E(n.a.mark((function e(t) {
                        var i, r, o, a, s;
                        return n.a.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    return i = t.from, r = t.batchSize, e.next = 3, this.fetchGalleryId();
                                case 3:
                                    if (this.galleryId) {
                                        e.next = 5;
                                        break
                                    }
                                    throw new Error("no galleryId, can not fetch items from pro gallery server");
                                case 5:
                                    return o = this.baseUrl + "/pro-gallery-webapp/v1/galleries/" + this.galleryId + "?offset=" + i + "&limit=" + r + "&externalId=" + this.externalId + "&state=" + this.dataSavedState + "&lang=" + this.getLangQuery(), e.next = 8, this.fetchPlatformizedData({
                                        requestUrl: o,
                                        multilingualHeader: this.getMultiLangHeader()
                                    });
                                case 8:
                                    return a = e.sent, s = null == a ? void 0 : a.gallery, this.setGalleryData({
                                        gallery: s,
                                        settings: this.appSettingsData
                                    }), e.abrupt("return", {
                                        items: m(s.items),
                                        totalItemsCount: s.totalItemsCount
                                    });
                                case 12:
                                case "end":
                                    return e.stop()
                            }
                        }), e, this)
                    })));
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(), t.fetchPlatformizedData = function() {
                    var e = E(n.a.mark((function e(t) {
                        var i, r, o, a;
                        return n.a.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    return i = t.requestUrl, r = t.multilingualHeader, e.next = 3, fetch(i, {
                                        method: "GET",
                                        headers: {
                                            "Content-Type": "application/json",
                                            Authorization: this.instance,
                                            "x-wix-linguist": r
                                        }
                                    });
                                case 3:
                                    return o = e.sent, e.next = 6, o.json();
                                case 6:
                                    return a = e.sent, e.abrupt("return", a);
                                case 8:
                                case "end":
                                    return e.stop()
                            }
                        }), e, this)
                    })));
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(), t.initDataSavedState = function() {
                    if (this.viewMode === v.a.viewMode.PREVIEW || this.viewMode === v.a.viewMode.EDIT) {
                        var e = this.instance.substring(this.instance.indexOf(".") + 1),
                            t = JSON.parse(atob(e)).demoMode;
                        this.dataSavedState = t ? S.a.dataSavedState.PUBLISHED : S.a.dataSavedState.SAVED
                    } else this.dataSavedState = S.a.dataSavedState.PUBLISHED
                }, t.getMultiLangFields = function() {
                    var e = this.wixCodeApi.window.multilingual.currentLanguage,
                        t = this.wixCodeApi.window.multilingual.siteLanguages.filter((function(t) {
                            return t.languageCode === e
                        }));
                    return t.length > 0 ? {
                        isPrimaryLanguage: t[0].isPrimaryLanguage,
                        lang: e,
                        locale: t[0].locale
                    } : null
                }, t.getMultiLangHeader = function() {
                    var e = this.getMultiLangFields(),
                        t = e ? e.lang + "|" + e.locale + "|" + e.isPrimaryLanguage.toString() + "|" + this.instanceId : "";
                    return this.SSRWorkerLog.push("Multilingual header: " + t), t
                }, t.getLangQuery = function() {
                    var e = this.getMultiLangFields();
                    return e ? "" + e.lang + e.locale : ""
                }, t.setGalleryData = function(e) {
                    var t = e.gallery,
                        i = e.settings,
                        r = t.created;
                    this.dateCreated = r, this.setSettings(i)
                }, t.TO_BE_REMOVED_setGalleryData = function(e) {
                    var t = e.galleryData;
                    if (t && t.galleryId) {
                        var i = t.galleryId,
                            r = t.dateCreated,
                            o = t.pageResponse.settings;
                        return this.galleryId = i, this.dateCreated = r, this.setSettings(o), {
                            galleryId: i,
                            dateCreated: r,
                            settings: this.settings
                        }
                    }
                }, t.setSettings = function(e) {
                    var t = function(e) {
                            if ("string" == typeof e) try {
                                return JSON.parse(e)
                            } catch (t) {
                                return console.error("Failed parse settting", t), e
                            }
                            return e
                        },
                        i = t(this.settings),
                        r = t(e);
                    this.settings = O(O({}, i), r)
                }, t.getItemByIdFromServer = function() {
                    var e = E(n.a.mark((function e(t) {
                        var i, r;
                        return n.a.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    return e.next = 2, this.fetchGalleryId();
                                case 2:
                                    return i = this.baseUrl + "/pro-gallery-webapp/v1/galleries/" + this.galleryId + "/items/" + t + "?state=" + this.dataSavedState, this.SSRWorkerLog.push("trying to get Direct fullscreen item from the server ", i), e.next = 6, this.fetchPlatformizedData({
                                        requestUrl: i,
                                        multilingualHeader: this.getMultiLangHeader()
                                    });
                                case 6:
                                    return r = e.sent, e.abrupt("return", null != r && r.item ? m([null == r ? void 0 : r.item])[0] : {});
                                case 8:
                                case "end":
                                    return e.stop()
                            }
                        }), e, this)
                    })));
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(), e
            }(),
            x = i(35),
            T = i(57),
            C = i(58),
            D = i(51),
            A = i(56);

        function L(e, t) {
            var i = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var r = Object.getOwnPropertySymbols(e);
                t && (r = r.filter((function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                }))), i.push.apply(i, r)
            }
            return i
        }

        function M(e) {
            for (var t = 1; t < arguments.length; t++) {
                var i = null != arguments[t] ? arguments[t] : {};
                t % 2 ? L(Object(i), !0).forEach((function(t) {
                    R(e, t, i[t])
                })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(i)) : L(Object(i)).forEach((function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(i, t))
                }))
            }
            return e
        }

        function R(e, t, i) {
            return t in e ? Object.defineProperty(e, t, {
                value: i,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = i, e
        }
        var B = new T.a(r.c.SENTRY_DSN),
            k = {
                initAppForPage: D.a.getInitAppForPageFunc(B),
                createControllers: D.a.getCreateControllers((function(e) {
                    var t = [r.c.GALLERY_WIDGET_ID, r.c.PG_TEST_GALLERY_WIDGET_ID],
                        i = e.setProps;
                    if (!t.includes(e.type)) return {
                        pageReady: function() {},
                        exports: function() {}
                    };
                    var o = new C.a(B.getContext().platformServices.biLoggerFactory(), a.a.parseViewMode(e.wixCodeApi.window.viewMode), !1),
                        n = function(e, t) {
                            o.log(l.galleryId, e, t)
                        },
                        s = new x.a,
                        l = new P({
                            context: B,
                            controllerConfig: e,
                            reportBiLog: n,
                            SSRWorkerLog: s
                        });
                    l.fetchGalleryId();
                    var u = new D.a({
                            context: B,
                            controllerConfig: e,
                            APP_DEFINITION_ID: r.c.PG_APP_DEFINITION_ID,
                            GALLERY_WIDGET_ID: r.c.GALLERY_WIDGET_ID,
                            isArtStore: !1,
                            fetcher: l,
                            SSRWorkerLog: s
                        }),
                        c = u.getTryToReportAppLoaded(),
                        h = new A.a;
                    return {
                        pageReady: function() {
                            try {
                                return u.getViewPortPromise().then((function(e) {
                                    s.push("pageReady, starting promises flows");
                                    var t = !1;
                                    return e && !e.in && (t = !0), u.loadInitialBlueprint(), u.loadDirectFullscreen(), Promise.all([u.getBlueprintReadyPromise(), u.getDirectFullscreenReadyPromise()]).catch((function(e) {
                                        u.sentryReport(e), console.error("Waiting for promises failed", e)
                                    })).then((function() {
                                        return a.c.isVerbose() && console.log("query: ", JSON.stringify(u.getQueryParams())), i(M(M({}, u.getCommonGalleryProps(!1)), {}, {
                                            reportBiLog: n,
                                            onItemClicked: u.getOnItemClickedFunc(h),
                                            onLinkNavigation: u.getOnLinkNavigationFunc(),
                                            setMetaTags: u.getSetMetaTagsFunc(),
                                            onCurrentItemChanged: function(e) {
                                                return h.onCurrentItemChanged(e)
                                            },
                                            isInSEO: u.isInSEO(),
                                            cssBaseUrl: u.getbaseUrls().santaWrapperBaseUrl,
                                            directFullscreenItem: u.getDirectFullscreenItem(),
                                            directFullscreenMockBlueprint: u.getDirectFullscreenMockBlueprint(),
                                            testType: u.getTestType(),
                                            clickedIdx: u.getClickedIdx(),
                                            notInView: t,
                                            totalItemsCount: u.getTotalItemsCount()
                                        })), u.isSSR() && (u.setMetaTagsInSSRIfNeeded(), c(!0)), u.getWarmupData()
                                    }))
                                })).catch((function(e) {
                                    console.error(e), u.sentryReport({
                                        errorMessage: "viewportPromise rejected!",
                                        error: e
                                    }), c()
                                }))
                            } catch (e) {
                                console.error(e), u.sentryReport(e)
                            }
                        },
                        updateConfig: function(t, i) {
                            "bolt" === e.platformAPIs.bi.viewerName && (i.dimensions = i.dimensions || {}), u.updateUserConfig(i)
                        },
                        exports: function() {
                            try {
                                return h.generateApi({
                                    proGalleryStore: u.getPgStore(),
                                    setNewStyleParams: function(e) {
                                        return u.handleNewStyleParams(e)
                                    },
                                    setClickedIdx: function(e) {
                                        return u.setClickedIdx(e)
                                    },
                                    setManualDimensions: u.getSetManualDimensionsFunc()
                                })
                            } catch (e) {
                                u.sentryReport(e)
                            }
                        }
                    }
                }), B.getSentry())
            },
            j = k.initAppForPage,
            N = k.createControllers,
            U = {}
    }, function(e, t, i) {
        "use strict";
        var r = i(0),
            o = function(e) {
                var t = function(e) {
                    var t = 0;
                    if (void 0 === e || 0 === e.length) return t;
                    for (var i = 0; i < e.length; i++) {
                        t = (t << 5) - t + e.charCodeAt(i), t |= 0
                    }
                    return t *= Math.sign(t), t = Math.sqrt(t), t = Math.floor(1e6 * (t - Math.floor(t)))
                }(e);
                return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (function(e, i) {
                    var r = Math.ceil(t / (i + 1)) % 16;
                    return ("x" === e ? r : 3 & r | 8).toString(16)
                }))
            },
            n = function(e) {
                return void 0 === e && (e = ""), e ? e.toString().toLowerCase().replace(/\s+/g, "-").replace(/[^\w\-\.]+/g, "").replace(/\-\-+/g, "-").replace(/^-+/, "").replace(/-+$/, "") : ""
            };

        function a(e, t) {
            var i = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var r = Object.getOwnPropertySymbols(e);
                t && (r = r.filter((function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                }))), i.push.apply(i, r)
            }
            return i
        }

        function s(e) {
            for (var t = 1; t < arguments.length; t++) {
                var i = null != arguments[t] ? arguments[t] : {};
                t % 2 ? a(Object(i), !0).forEach((function(t) {
                    l(e, t, i[t])
                })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(i)) : a(Object(i)).forEach((function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(i, t))
                }))
            }
            return e
        }

        function l(e, t, i) {
            return t in e ? Object.defineProperty(e, t, {
                value: i,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = i, e
        }
        var u = function(e, t) {
                switch (typeof e) {
                    case "object":
                        return {
                            type: "wix",
                            data: e
                        };
                    case "string":
                        return {
                            type: "web",
                            url: e,
                            target: t
                        };
                    default:
                        return {
                            target: "_blank",
                            type: "none"
                        }
                }
            },
            c = function(e) {
                void 0 === e && (e = {});
                var t = {
                    link: e.url
                };
                return e.url && (t.target = e.target), t
            },
            h = function(e) {
                return null !== /^(wix:)?(image|video)(:\/\/)/.exec(e)
            },
            p = function(e) {
                return h(e) ? e.split("/")[3] : e
            },
            d = function(e) {
                try {
                    return h(e) ? e.split("/")[4].split("#").slice(0, -1).join("#") : "_.jpg"
                } catch (e) {
                    return "_.jpg"
                }
            },
            g = function(e, t) {
                return "wix:image://v1/" + (e || n(t.name)) + "/" + n(t.fileName || t.name) + "#originWidth=" + t.width + "&originHeight=" + t.height
            },
            m = function(e, t) {
                return "wix:video://v1/" + (e || n(t.name)) + "/" + n(t.fileName || t.name) + "#posterUri=" + t.posters[0].url + "&posterWidth=" + t.width + "&posterHeight=" + t.height
            },
            f = function(e) {
                var t = {},
                    i = !1;
                try {
                    var r = /\/\d*_\d*\//.exec(e);
                    if (r && r[0] && r[0].length > 0) {
                        var o = r[0].replace(/\//g, "").split("_").map((function(e) {
                                return Number(e)
                            })),
                            n = o[0],
                            a = o[1];
                        n > 0 && a > 0 && (i = !0, t = {
                            originWidth: n,
                            originHeight: a
                        })
                    }
                } catch (e) {
                    i = !1
                }
                if (!i) try {
                    var s = /wm_(.*)\//.exec(e);
                    if (s && s[0] && s[0].length > 0) {
                        var l = s[1];
                        l.length > 0 && (t.watermark = l)
                    }
                } catch (e) {
                    i = !1
                }
                if (!i) try {
                    e.split("#").pop().split("&").map((function(e) {
                        return e.split("=")
                    })).forEach((function(e) {
                        t[e[0]] = isNaN(Number(e[1])) ? String(e[1]) : Number(e[1])
                    }))
                } catch (e) {
                    i = !1
                }
                return t
            },
            y = function(e, t) {
                return void 0 === t && (t = 0),
                    function(e) {
                        return !!(e.src || e.type && e.html)
                    }(e) ? function(e, t) {
                        var i = f(e.src);
                        i.width = e.width || i.originWidth || i.originalWidth || i.posterWidth || 1, i.height = e.height || i.originHeight || i.originalHeight || i.posterHeight || 1;
                        var r, a = e.settings && e.settings.focalPoint,
                            l = i.watermark,
                            c = e.imageToken || e.token || i.token,
                            g = (e.type || "image").toLowerCase(),
                            m = s({
                                itemId: n(e.slug) || (n(e.title || e.id) || o(e.src || e.html || t)) + "_" + t,
                                mediaUrl: p(e.src),
                                metaData: Object.assign({
                                    type: g,
                                    alt: e.alt || "",
                                    title: e.title || "",
                                    description: e.description || "",
                                    name: d(e.src),
                                    fileName: d(e.src),
                                    link: u(e.link, e.target),
                                    width: i.width,
                                    height: i.height,
                                    sourceName: "private"
                                }, a ? {
                                    focalPoint: a
                                } : {}, l ? {
                                    watermarkStr: l
                                } : {}),
                                orderIndex: t
                            }, c && {
                                token: c
                            });
                        if ("text" === g) {
                            var y = e.style;
                            m.metaData.height = i.height || 500, m.metaData.width = i.width || 500 * y.layoutRatio, m.metaData.textStyle = {
                                width: m.metaData.width,
                                height: m.metaData.height,
                                backgroundColor: y.fillColor
                            }, m.metaData.html = m.editorHtml = e.html
                        }
                        if ("video" === g) {
                            var S = {};
                            e.thumbnail && (S = f(e.thumbnail));
                            var b = (r = p(e.thumbnail), null !== /^.*\.(jpeg|jpg|webp|png|jpe)$/.exec(r) ? p(e.thumbnail) : i.posterUri);
                            m.metaData.posters = [{
                                url: b,
                                width: S.width || i.width,
                                height: S.height || i.height
                            }], m.isExternal = 0 === e.src.indexOf("http"), m.isExternal || h(e.src) ? (m.metaData.source = e.src.indexOf("youtube.com") > 0 ? "youtube" : e.src.indexOf("vimeo.com") > 0 ? "vimeo" : "wix", m.metaData.videoUrl = e.src) : m.metaData.qualities = [{
                                width: i.width,
                                height: i.height,
                                quality: i.height + "p",
                                formats: [h(e.src) ? "wix" : e.src.split(/#|\?/)[0].split(".").pop().trim()]
                            }]
                        }
                        return m
                    }(e, t) : function(e, t) {
                        return {
                            itemId: o(t + "_" + (e.uri || e.alt || t)),
                            mediaUrl: e.uri || "",
                            metaData: {
                                height: e.height || 1,
                                lastModified: Date.now(),
                                link: u(e.link, e.target),
                                title: e.title || "",
                                description: e.description || "",
                                alt: e.alt || "",
                                sourceName: "private",
                                tags: [],
                                width: e.width || 1
                            },
                            orderIndex: t
                        }
                    }(e, t)
            },
            S = function(e, t) {
                return void 0 === e && (e = {}), void 0 === t && (t = !0), t ? function(e) {
                    void 0 === e && (e = {});
                    var t = e.metaData || e.metadata || {},
                        i = c(t.link) || {},
                        r = s({
                            type: t.type || "image",
                            slug: e.itemId
                        }, i),
                        o = r.type.toLowerCase();
                    if ("text" === o) {
                        var n = t.testStyle || {};
                        Object.assign(r, {
                            html: t.html,
                            style: {
                                width: n.width,
                                height: n.height,
                                bgColor: n.backgroundColor
                            }
                        })
                    } else Object.assign(r, {
                        title: t.title,
                        description: t.description,
                        alt: t.alt
                    }), "image" === o ? Object.assign(r, s(s({
                        src: g(e.mediaUrl, t),
                        settings: Object.assign({}, t.focalPoint ? {
                            focalPoint: t.focalPoint
                        } : {})
                    }, "imageToken" in e && {
                        imageToken: e.imageToken
                    }), "token" in e && {
                        token: e.token
                    })) : "video" === o && Object.assign(r, {
                        src: m(e.mediaUrl, t),
                        thumbnail: t.posters[0].url
                    });
                    return r
                }(e) : (r = (i = e).metaData || i.metadata || {}, o = c(r.link) || {}, s({
                    uri: i.mediaUrl,
                    description: r.description,
                    alt: r.alt,
                    title: r.title,
                    height: r.height,
                    width: r.width
                }, o));
                var i, r, o
            },
            b = function() {
                function e() {
                    this.generateApi = this.generateApi.bind(this), this.onCurrentItemChanged = this.onCurrentItemChanged.bind(this), this.onItemClicked = this.onItemClicked.bind(this), this.setStyleParams = this.setStyleParams.bind(this), this.setClickCallback = this.setClickCallback.bind(this), this.setItemChangedCallback = this.setItemChangedCallback.bind(this), this.manualStyleParams = {}, this.itemClickedCallbacks = [], this.itemChangedCallbacks = [], this.clickedIdx = -1
                }
                return e.prototype.setClickCallback = function(e) {
                    "function" == typeof e && this.itemClickedCallbacks.push(e)
                }, e.prototype.onItemClicked = function(e) {
                    var t = {
                        target: this.api,
                        type: "itemClicked",
                        itemIndex: e.idx,
                        item: S(e.dto)
                    };
                    try {
                        for (var i = 0; i < this.itemClickedCallbacks.length; i++) {
                            var r = this.itemClickedCallbacks[i];
                            "function" == typeof r && r(t)
                        }
                    } catch (e) {
                        console.warn("Gallery failed to activate onItemClicked callbacks", e)
                    }
                }, e.prototype.setItemChangedCallback = function(e) {
                    "function" == typeof e && this.itemChangedCallbacks.push(e)
                }, e.prototype.onCurrentItemChanged = function(e) {
                    try {
                        for (var t = {
                                event: {
                                    action: "imageChanged",
                                    id: e.id,
                                    imageIndex: e.idx,
                                    item: S(e)
                                }
                            }, i = 0; i < this.itemChangedCallbacks.length; i++) {
                            var r = this.itemChangedCallbacks[i];
                            "function" == typeof r && r(t.event)
                        }
                    } catch (e) {}
                }, e.prototype.setStyleParams = function(e, t) {
                    var i = function(e, t) {
                        var i;
                        switch (e) {
                            case "itemClick":
                                switch (t) {
                                    default:
                                        case "none":
                                        case "disabled":
                                        i = "nothing";
                                    break;
                                    case "expand":
                                            case "zoomMode":
                                            i = "expand";
                                        break;
                                    case "fullscreen":
                                            i = "fullscreen";
                                        break;
                                    case "link":
                                            case "goToLink":
                                            i = "link"
                                }
                                break;
                            default:
                                i = t
                        }
                        return i
                    };
                    try {
                        return this.manualStyleParams = function(e) {
                            for (var o = t, n = 0, a = Object.keys(Object(r.a)({}, e)); n < a.length; n++) {
                                var s = a[n];
                                o[s] = i(s, e[s])
                            }
                            return o
                        }(e), this.manualStyleParams
                    } catch (e) {
                        return console.error("Failed to set styleParams", e), {}
                    }
                }, e.prototype.generateCartApi = function(e) {
                    return {
                        get type() {
                            return "$w.Cart"
                        },
                        set options(t) {
                            e(t)
                        }
                    }
                }, e.prototype.generateApi = function(e) {
                    var t = e.proGalleryStore,
                        i = e.setNewStyleParams,
                        o = e.setClickedIdx,
                        n = e.setNewSettings,
                        a = void 0 === n ? function() {} : n,
                        s = e.setManualDimensions,
                        l = this.setStyleParams,
                        u = this.manualStyleParams,
                        c = this.setClickCallback,
                        h = this.setItemChangedCallback;
                    return this.api = {
                        set dimensions(e) {
                            if (e) {
                                var i = Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({}, t.dimensions), e.width > 0 && {
                                    width: Number(e.width)
                                }), "" === e.width && {
                                    width: ""
                                }), e.height > 0 && {
                                    height: Number(e.height)
                                }), e.height = "");
                                s(i)
                            } else console.error("set manual dimensions called with no input")
                        },
                        get dimensions() {
                            return t.dimensions
                        },
                        get type() {
                            return "$w.Gallery"
                        },
                        get galleryCapabilities() {
                            return {
                                isPlayable: !1,
                                hasCurrentItem: !1,
                                hasNavigationButtons: !1,
                                supportsAllMediaTypes: !0
                            }
                        },
                        set items(e) {
                            t.itemsSrc = "Velo", t.setAllWixCodeItems(function(e) {
                                var t = [];
                                try {
                                    e.forEach((function(e, i) {
                                        return t.push(y(e, i))
                                    }))
                                } catch (t) {
                                    console.error("Wrong format for gallery items", e, t)
                                }
                                return t
                            }(e)), t.totalItemsCount = t.allWixCodeItems.length, t.loadInitialWixCodeItems()
                        },
                        get items() {
                            return function(e, t) {
                                void 0 === t && (t = !0);
                                var i = [];
                                return e.forEach((function(e) {
                                    return i.push(S(e, t))
                                })), i
                            }(t.getItems())
                        },
                        onItemClicked: function(e) {
                            return c(e)
                        },
                        onCurrentItemChanged: function(e) {
                            return h(e)
                        },
                        expandItem: function(e) {
                            o(e)
                        },
                        set clickAction(e) {
                            t._clickAction = e, l({
                                itemClick: e
                            }, u), i(u)
                        },
                        get clickAction() {
                            return t._clickAction ? t._clickAction : ""
                        },
                        set showNavigationButtons(e) {
                            t._showArrows = e, l({
                                showArrows: e
                            }, u), i(u)
                        },
                        get showNavigationButtons() {
                            return t._showArrows ? t._showArrows : ""
                        },
                        get options() {
                            return {
                                styleParams: u,
                                settings: t.settings
                            }
                        },
                        set options(e) {
                            var t = e.styleParams,
                                r = e.settings;
                            t && i(l(t, {})), r && a(r)
                        },
                        toJSON: function() {
                            return {
                                items: t.getItems(),
                                clickAction: u.itemClick,
                                showNavigationButtons: u.showArrows
                            }
                        }
                    }
                }, e
            }();
        t.a = b
    }, function(e, t, i) {
        "use strict";
        var r = function() {
                function e(e) {
                    this.SENTRY_DSN = e, this.sentry = null
                }
                return e.prototype.init = function(e, t, i) {
                    var r = {
                            id: e.instanceId,
                            url: t.location.baseUrl
                        },
                        o = this.SENTRY_DSN;
                    this.sentry = i.monitoring.createMonitor(o, (function(e) {
                        return e.environment = "Worker", e
                    })), this.sentry.setUserContext(r)
                }, e.prototype.report = function(e) {
                    this.sentry ? this.sentry.captureException(e) : console.error("SentryReporter: trying to report before init", e)
                }, e
            }(),
            o = function() {
                function e(e) {
                    this.context = null, this.sentryReporter = new r(e)
                }
                return e.prototype.setContext = function(e) {
                    this.context = e
                }, e.prototype.initSentry = function(e, t, i) {
                    this.sentryReporter.init(e, t, i)
                }, e.prototype.getSentry = function() {
                    return this.sentryReporter
                }, e.prototype.getContext = function() {
                    return this.context
                }, e
            }();
        t.a = o
    }, function(e, t, i) {
        "use strict";
        var r = i(0),
            o = function() {
                return (o = Object.assign || function(e) {
                    for (var t, i = 1, r = arguments.length; i < r; i++)
                        for (var o in t = arguments[i]) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
                    return e
                }).apply(this, arguments)
            },
            n = function(e, t) {
                var i = {};
                for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (i[r] = e[r]);
                if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
                    var o = 0;
                    for (r = Object.getOwnPropertySymbols(e); o < r.length; o++) t.indexOf(r[o]) < 0 && Object.prototype.propertyIsEnumerable.call(e, r[o]) && (i[r[o]] = e[r[o]])
                }
                return i
            },
            a = {
                endpoint: "photo-ugc"
            },
            s = function(e) {
                return new l(e)
            },
            l = function() {
                function e(e) {
                    var t = this;
                    this.biLoggerClientFactoryInstance = e, this.util = {
                        updateDefaults: function(e) {
                            return t.biLoggerClientFactoryInstance.updateDefaults(e), t
                        },
                        log: function(e, i) {
                            return t.bi.log(e, i)
                        }
                    }, e.updateDefaults({
                        src: 65
                    }), this.bi = e.logger({
                        endpoint: "photo-ugc"
                    })
                }
                return e.prototype.landAfterShare = function(e) {
                    return this.bi.log(o({
                        evid: 602
                    }, e))
                }, e.prototype.navigationInCollectionMemberArea = function(e) {
                    return this.bi.log(o({
                        evid: 234
                    }, e))
                }, e.prototype.expand = function(e) {
                    return this.bi.log(o({
                        evid: 504
                    }, e))
                }, e.prototype.clickSaveCollection = function(e) {
                    return this.bi.log(o({
                        evid: 232
                    }, e))
                }, e.prototype.downloadFilesFromCollection = function(e) {
                    return this.bi.log(o({
                        evid: 218
                    }, e))
                }, e.prototype.providerCartCheckout = function(e) {
                    return this.bi.log(o({
                        evid: 803
                    }, e))
                }, e.prototype.info = function(e) {
                    return this.bi.log(o({
                        evid: 503
                    }, e))
                }, e.prototype.galleryItemExpanded = function(e) {
                    return this.bi.log(o({
                        evid: 521
                    }, e))
                }, e.prototype.previewItemInCollection = function(e) {
                    return this.bi.log(o({
                        evid: 230
                    }, e))
                }, e.prototype.share = function(e) {
                    return this.bi.log(o({
                        evid: 500
                    }, e))
                }, e.prototype.downloadImage = function(e) {
                    return this.bi.log(o({
                        evid: 805
                    }, e))
                }, e.prototype.galleryClickOnItem = function(e) {
                    return this.bi.log(o({
                        evid: 520
                    }, e))
                }, e.prototype.gogLoaded = function(e) {
                    return this.bi.log(o({
                        evid: 301
                    }, e))
                }, e.prototype.buyBuyNowClick = function(e) {
                    return this.bi.log(o({
                        evid: 800
                    }, e))
                }, e.prototype.addCommentOnAnItemCollection = function(e) {
                    return this.bi.log(o({
                        evid: 229
                    }, e))
                }, e.prototype.proGalleryErrorUou = function(e) {
                    return this.bi.log(o({
                        evid: 512
                    }, e))
                }, e.prototype.paymentExcepted = function(e) {
                    return this.bi.log(o({
                        evid: 506
                    }, e))
                }, e.prototype.providerBuyAddToCart = function(e) {
                    return this.bi.log(o({
                        evid: 802
                    }, e))
                }, e.prototype.collectionCreated = function(e) {
                    return this.bi.log(o({
                        evid: 199
                    }, e))
                }, e.prototype.albumActions = function(e) {
                    return this.bi.log(o({
                        evid: 300
                    }, e))
                }, e.prototype.proGalleryLoadUou = function(e) {
                    return this.bi.log(o({
                        evid: 304
                    }, e))
                }, e.prototype.shareGroup = function(e) {
                    return this.bi.log(o({
                        evid: 601
                    }, e))
                }, e.prototype.thankYouPageLoaded = function(e) {
                    return this.bi.log(o({
                        evid: 804
                    }, e))
                }, e.prototype.photoAlbumButtonOnClick = function(e) {
                    return this.bi.log(o({
                        evid: 211
                    }, e))
                }, e.prototype.buySelectLicense = function(e) {
                    return this.bi.log(o({
                        evid: 801
                    }, e))
                }, e.prototype.photoAlbumCoverLoaded = function(e) {
                    return this.bi.log(o({
                        evid: 303
                    }, e))
                }, e.prototype.download = function(e) {
                    return this.bi.log(o({
                        evid: 502
                    }, e))
                }, e.prototype.migratedLoveData = function(e) {
                    return this.bi.log(o({
                        evid: 305
                    }, e))
                }, e.prototype.shareNew = function(e) {
                    return this.bi.log(o({
                        evid: 511
                    }, e))
                }, e.prototype.dropDownMenuOnPhoto = function(e) {
                    return this.bi.log(o({
                        evid: 285
                    }, e))
                }, e.prototype.popupOpened = function(e) {
                    return this.bi.log(o({
                        evid: 279
                    }, e))
                }, e.prototype.buyGalleryAddToCart = function(e) {
                    return this.bi.log(o({
                        evid: 806
                    }, e))
                }, e.prototype.paymentError = function(e) {
                    return this.bi.log(o({
                        evid: 507
                    }, e))
                }, e.prototype.clickOnInviteMemberToCollection = function(e) {
                    return this.bi.log(o({
                        evid: 233
                    }, e))
                }, e.prototype.artStorePerformanceUou = function(e) {
                    return this.bi.log(o({
                        evid: 306
                    }, e))
                }, e.prototype.gogAlbumClick = function(e) {
                    return this.bi.log(o({
                        evid: 302
                    }, e))
                }, e.prototype.galleryRendered = function(e) {
                    return this.bi.log(o({
                        evid: 508
                    }, e))
                }, e.prototype.openWizardCreateCollection = function(e) {
                    return this.bi.log(o({
                        evid: 208
                    }, e))
                }, e.prototype.proGalleryLoaded = function(e) {
                    return this.bi.log(o({
                        evid: 510
                    }, e))
                }, e.prototype.xxxcheckout = function(e) {
                    return this.bi.log(o({
                        evid: 505
                    }, e))
                }, e.prototype.proGalleryClickOnCustomButton = function(e) {
                    return this.bi.log(o({
                        evid: 807
                    }, e))
                }, e.prototype.love = function(e) {
                    return this.bi.log(o({
                        evid: 501
                    }, e))
                }, e.prototype.clickOnSelectMediaCollection = function(e) {
                    return this.bi.log(o({
                        evid: 228
                    }, e))
                }, e.prototype.selectPhoto = function(e) {
                    return this.bi.log(o({
                        evid: 600
                    }, e))
                }, e.prototype.proGalleryLoadError = function(e) {
                    return this.bi.log(o({
                        evid: 509
                    }, e))
                }, e.prototype.photoAlbumGalleryLoaded = function(e) {
                    return this.bi.log(o({
                        evid: 307
                    }, e))
                }, e
            }(),
            u = function(e) {
                return function(t) {
                    void 0 === t && (t = {});
                    var i = t.defaults,
                        r = n(t, ["defaults"]),
                        l = o(o({}, a), r),
                        u = "function" == typeof e.factory ? e.factory(l) : e,
                        c = s(u);
                    return i ? c.util.updateDefaults(i) : c
                }
            };
        var c = i(10),
            h = i(1),
            p = function() {
                function e(e, t, i) {
                    try {
                        this.logger = u(e)()
                    } catch (e) {
                        console.log("BI Failed to init")
                    }
                    this.galleryLogData = {
                        galleryType: i ? "store" : "progallery"
                    }, this.viewMode = t, this.log = this.log.bind(this)
                }
                return e.prototype.log = function(e, t, i) {
                    if (void 0 === i && (i = {}), this.viewMode === h.a.viewMode.SITE && !c.c.isDev() && !c.c.isTest()) try {
                        var o = Object(r.a)(Object(r.a)({}, this.galleryLogData), {
                                gallery_id: e
                            }),
                            n = Object(r.a)(Object(r.a)({}, o), i);
                        this.logger[t] && this.logger[t](n)
                    } catch (e) {
                        console.log("Error bi logger", e)
                    }
                }, e
            }();
        t.a = p
    }])
}));
//# sourceMappingURL=viewerScript.bundle.min.js.map