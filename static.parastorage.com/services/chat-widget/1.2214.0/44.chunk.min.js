(window.webpackJsonp__wix_chat_widget = window.webpackJsonp__wix_chat_widget || []).push([
    [44], {
        1083: function(t, e, n) {
            "use strict";
            var i = n(1097);
            n.o(i, "parseLeanSchemaRef") && n.d(e, "parseLeanSchemaRef", (function() {
                return i.parseLeanSchemaRef
            })), n.o(i, "resolveUrl") && n.d(e, "resolveUrl", (function() {
                return i.resolveUrl
            })), n.o(i, "toURLSearchParams") && n.d(e, "toURLSearchParams", (function() {
                return i.toURLSearchParams
            }));
            var r = n(1102);
            n.d(e, "resolveUrl", (function() {
                return r.a
            }));
            var s = n(1100);
            n.d(e, "toURLSearchParams", (function() {
                return s.a
            }));
            n(1101)
        },
        1096: function(t, e, n) {
            "use strict";
            n.r(e), e.default = function t(e) {
                function n(t) {
                    return function(e, n) {
                        return s(e, Object.assign({
                            method: t
                        }, n))
                    }
                }

                function i(t) {
                    return function(e, n, i) {
                        return s(e, Object.assign({
                            method: t,
                            data: n
                        }, i))
                    }
                }

                function r(t, e, n) {
                    if (Array.isArray(t)) return t.concat(e);
                    if (e && "object" == typeof e) {
                        var i, s = {};
                        if (t)
                            for (i in t) s[n ? i.toLowerCase() : i] = t[i];
                        for (i in e) {
                            var o = n ? i.toLowerCase() : i;
                            "headers" === o && (n = !0), s[o] = i in s ? r(s[o], e[i], n) : e[i]
                        }
                        return s
                    }
                    return e
                }

                function s(t, n) {
                    "string" != typeof t && (t = (n = t).url);
                    var i = r(e, n || {}),
                        s = i.data;
                    if (i.transformRequest)
                        for (var o = 0; o < i.transformRequest.length; o++) {
                            var a = i.transformRequest[o](s, i.headers);
                            void 0 !== a && (s = a)
                        }
                    var u = {};
                    if (s && "object" == typeof s && (s = JSON.stringify(s), u["Content-Type"] = "application/json"), i.xsrfCookieName)
                        for (var c = document.cookie.split(/ *[;=] */), h = 0; h < c.length; h += 2)
                            if (c[h] == i.xsrfCookieName) {
                                u[i.xsrfHeaderName] = decodeURIComponent(c[h + 1]);
                                break
                            }
                    i.auth && (u.Authorization = i.auth);
                    var l = {};
                    return l.config = n, fetch(t, {
                        method: i.method,
                        body: s,
                        headers: r(i.headers, u, !0)
                    }).then((function(t) {
                        var e;
                        for (e in t) "function" != typeof t[e] && (l[e] = t[e]);
                        return (i.validateStatus ? i.validateStatus(t.status) : t.ok) ? ("stream" === i.responseType ? Promise.resolve(t.body) : t[i.responseType || "text"]()).then((function(t) {
                            return l.data = t, l
                        })) : Promise.reject(t)
                    }))
                }
                return e = e || {}, s.request = s, s.get = n("get"), s.delete = n("delete"), s.options = n("options"), s.post = i("post"), s.put = i("put"), s.patch = i("patch"), s.all = Promise.all, s.spread = function(t) {
                    return function(e) {
                        return t.apply(this, e)
                    }
                }, s.CancelToken = self.AbortController || Object, s.create = t, s
            }()
        },
        1097: function(t, e, n) {
            "use strict";
            var i = n(1098);
            n.o(i, "parseLeanSchemaRef") && n.d(e, "parseLeanSchemaRef", (function() {
                return i.parseLeanSchemaRef
            })), n.o(i, "resolveUrl") && n.d(e, "resolveUrl", (function() {
                return i.resolveUrl
            })), n.o(i, "toURLSearchParams") && n.d(e, "toURLSearchParams", (function() {
                return i.toURLSearchParams
            }));
            var r = n(1099);
            n.d(e, "parseLeanSchemaRef", (function() {
                return r.a
            }))
        },
        1098: function(t, e) {},
        1099: function(t, e, n) {
            "use strict";

            function i(t) {
                void 0 === t && (t = "");
                var e = r(t),
                    n = e[0],
                    i = e[1];
                return i ? {
                    schemaName: i,
                    schemaType: n
                } : {
                    schemaName: n
                }
            }
            n.d(e, "a", (function() {
                return i
            }));
            var r = function(t) {
                return t.split("#")
            }
        },
        1100: function(t, e, n) {
            "use strict";

            function i(t) {
                var e = function t(e, n) {
                    void 0 === n && (n = "");
                    var i = {};
                    return Object.entries(e).forEach((function(e) {
                        var r = e[0],
                            s = e[1],
                            o = "object" == typeof s && !Array.isArray(s),
                            a = function(t, e) {
                                return t + (t ? "." : "") + e
                            }(n, r);
                        if (o) {
                            var u = t(s, a);
                            Object.assign(i, u)
                        } else i[a] = s
                    })), i
                }(t);
                return Object.entries(e).reduce((function(t, e) {
                    var n = e[0],
                        i = e[1];
                    return Array.isArray(i) ? i.forEach((function(e) {
                        t.append(n, e)
                    })) : t.append(n, i), t
                }), new URLSearchParams)
            }
            n.d(e, "a", (function() {
                return i
            }))
        },
        1101: function(t, e, n) {
            "use strict"
        },
        1102: function(t, e, n) {
            "use strict";
            n.d(e, "a", (function() {
                return s
            }));
            var i = /{(.*)}/,
                r = new RegExp("\\.(" + ["wix.com", "editorx.com"].join("|") + ")$");

            function s(t) {
                var e, n, s = function(t, e) {
                    var n = e[t] || e._;
                    return n
                }(t.host.replace(r, "._base_domain_"), t.domainToMappings);
                return function(t, e) {
                    var n = null == e ? void 0 : e.find((function(e) {
                        return t.startsWith(e.destPath)
                    }));
                    if (!n) return t;
                    return n.srcPath + t.slice(n.destPath.length)
                }((e = t.protoPath, n = t.data || {}, e.split("/").map((function(t) {
                    return function(t, e) {
                        var n = (t.match(i) || [])[1];
                        return n ? function(t, e) {
                            return e.split(".").reduce((function(t, e) {
                                return t[e]
                            }), t)
                        }(e, n) : t
                    }(t, n)
                })).join("/")), s)
            }
        },
        1171: function(t, e, n) {
            "use strict";
            var i = this && this.__createBinding || (Object.create ? function(t, e, n, i) {
                    void 0 === i && (i = n), Object.defineProperty(t, i, {
                        enumerable: !0,
                        get: function() {
                            return e[n]
                        }
                    })
                } : function(t, e, n, i) {
                    void 0 === i && (i = n), t[i] = e[n]
                }),
                r = this && this.__exportStar || function(t, e) {
                    for (var n in t) "default" === n || Object.prototype.hasOwnProperty.call(e, n) || i(e, t, n)
                };
            Object.defineProperty(e, "__esModule", {
                value: !0
            }), e.PresenceService = void 0;
            var s = n(1172);
            e.PresenceService = function(t, e) {
                var n = new s.AmbassadorHTTPClient(t, e);
                return {
                    PresenceService: function() {
                        return function(t) {
                            var e = {
                                resetScope: function(e) {
                                    return n.invoke("POST", "/api/v1/reset-scope", e, t)
                                },
                                setData: function(e) {
                                    return n.invoke("POST", "/api/v1/set-data", e, t)
                                },
                                watch: function(e) {
                                    return n.invoke("POST", "/api/v1/watch", e, t)
                                }
                            };
                            return e.resetScope.__http_method = "POST", e.resetScope.__http_url = "/api/v1/reset-scope", e.setData.__http_method = "POST", e.setData.__http_url = "/api/v1/set-data", e.watch.__http_method = "POST", e.watch.__http_url = "/api/v1/watch", e
                        }
                    }
                }
            }, e.PresenceService.__transport = "http", r(n(1175), e)
        },
        1172: function(t, e, n) {
            t.exports = n(1173)
        },
        1173: function(t, e, n) {
            "use strict";
            (function(t) {
                var i, r = this && this.__extends || (i = function(t, e) {
                        return (i = Object.setPrototypeOf || {
                                __proto__: []
                            }
                            instanceof Array && function(t, e) {
                                t.__proto__ = e
                            } || function(t, e) {
                                for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                            })(t, e)
                    }, function(t, e) {
                        function n() {
                            this.constructor = t
                        }
                        i(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
                    }),
                    s = this && this.__assign || function() {
                        return (s = Object.assign || function(t) {
                            for (var e, n = 1, i = arguments.length; n < i; n++)
                                for (var r in e = arguments[n]) Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]);
                            return t
                        }).apply(this, arguments)
                    };
                Object.defineProperty(e, "__esModule", {
                    value: !0
                });
                var o = n(252),
                    a = n(1174),
                    u = function(t) {
                        function e(n, i, r) {
                            var s, o = t.call(this, "Ambassador client request failed:\nHTTP STATUS: " + n + "\nRESPONSE: " + (((s = i) ? JSON.stringify(s).replace(/\n/g, "\\n") : '""') + "\nSee the httpStatus and response fields for more information.")) || this;
                            return Object.setPrototypeOf(o, e.prototype), o.httpStatus = n, o.response = i, o.requestId = r, o
                        }
                        return r(e, t), e
                    }(Error);
                e.AmbassadorHTTPError = u;
                var c = function() {
                    function e(t, e) {
                        var i = this;
                        if (void 0 === e && (e = {}), this.testkitBaseUrl = "", this.fetchClient = void 0, this.useRedaxios = !1, this.handleFetchResponse = function(t) {
                                return t.ok ? t.json() : i.handleFetchErrors(t)
                            }, this.handleErrors = function(t) {
                                if (i.useRedaxios) return i.handleFetchErrors(t);
                                var e = t;
                                if (e.response) {
                                    var n = e.response.headers["x-wix-request-id"];
                                    throw new u(e.response.status, e.response.data, n)
                                }
                                throw new u(-1, "Connection Failed")
                            }, this.handleFetchErrors = function(t) {
                                var e = t,
                                    n = t;
                                if (n.message) throw new u(-1, n.message);
                                if (e.status) return function(t) {
                                    return t.text().then(h).catch((function() {
                                        return ""
                                    }))
                                }(e).then((function(t) {
                                    var n, i = null === (n = e.headers) || void 0 === n ? void 0 : n.get("x-wix-request-id");
                                    throw new u(e.status, t, i)
                                }));
                                throw new u(-1, "Connection Failed")
                            }, this.baseUrl = this.addTrailingSlash(t), e.axiosInstance) this.axiosClient = e.axiosInstance;
                        else {
                            var r = n(1096).default || n(1096);
                            this.useRedaxios = !0, this.axiosClient = r.create({
                                responseType: "json"
                            })
                        }
                        e.fetchInstance && (this.fetchClient = e.fetchInstance), this.ignoredProtoUrlPart = e.ignoredProtoHttpUrlPart
                    }
                    return e.prototype.fixProtoIgnoredUrlPart = function(t) {
                        var e = t.split(this.ignoredProtoUrlPart);
                        return "" !== e[0] || !e[1].startsWith("/") && "" !== e[1] ? t : t.substr(this.ignoredProtoUrlPart.length, t.length)
                    }, e.prototype.invoke = function(t, e, n, i) {
                        var r = this;
                        this.configForTestingIfRequired();
                        var a = this.removeLeadingSlash(this.fixProtoIgnoredUrlPart(e)),
                            u = this.getParamsFromPath(a).reduce((function(t, e) {
                                return t.replace("{" + e + "}", encodeURIComponent(r.getValueFromPayload(n, e)))
                            }), a);
                        if (this.fetchClient) return i = s(s({}, o.createHeaders()), i), this.fetchHttpRequest(t, u, n, i);
                        i = s(s({}, o.createHeaders({
                            csrf: this.useRedaxios
                        })), i);
                        var c = Object.keys(i).length > 0 ? {
                            headers: i
                        } : void 0;
                        return this.runHttpRequest(t, u, n, c)
                    }, e.prototype.runHttpRequest = function(t, e, n, i) {
                        switch (void 0 === i && (i = {}), this.testkitBaseUrl ? e = l(this.testkitBaseUrl, e) : this.useRedaxios && (e = l(this.baseUrl, e)), i.method = t, t) {
                            case "GET":
                                return this.axiosClient.get(e + "?" + this.payloadToQueryString(n), i).then((function(t) {
                                    return t.data
                                })).catch(this.handleErrors);
                            case "POST":
                                return this.axiosClient.post(e, n, i).then((function(t) {
                                    return t.data
                                })).catch(this.handleErrors);
                            case "PUT":
                                return this.axiosClient.put(e, n, i).then((function(t) {
                                    return t.data
                                })).catch(this.handleErrors);
                            case "PATCH":
                                return this.axiosClient.patch(e, n, i).then((function(t) {
                                    return t.data
                                })).catch(this.handleErrors);
                            case "DELETE":
                                return this.axiosClient.delete(e + "?" + this.payloadToQueryString(n), i).then((function(t) {
                                    return t.data
                                })).catch(this.handleErrors);
                            default:
                                return null
                        }
                    }, e.prototype.fetchHttpRequest = function(t, e, n, i) {
                        var r = l(this.testkitBaseUrl || this.baseUrl, e);
                        switch (t) {
                            case "GET":
                                return this.fetchClient(r + "?" + this.payloadToQueryString(n), {
                                    method: "GET",
                                    headers: i
                                }).then(this.handleFetchResponse, this.handleFetchErrors);
                            case "POST":
                                return this.fetchClient(r, {
                                    method: "POST",
                                    headers: this.mergeHeadersWithContentType(i || {}),
                                    body: JSON.stringify(n)
                                }).then(this.handleFetchResponse, this.handleFetchErrors);
                            case "PUT":
                                return this.fetchClient(r, {
                                    method: "PUT",
                                    headers: this.mergeHeadersWithContentType(i || {}),
                                    body: JSON.stringify(n)
                                }).then(this.handleFetchResponse, this.handleFetchErrors);
                            case "PATCH":
                                return this.fetchClient(r, {
                                    method: "PATCH",
                                    headers: this.mergeHeadersWithContentType(i || {}),
                                    body: JSON.stringify(n)
                                }).then(this.handleFetchResponse, this.handleFetchErrors);
                            case "DELETE":
                                return this.fetchClient(r + "?" + this.payloadToQueryString(n), {
                                    method: "DELETE",
                                    headers: i
                                }).then(this.handleFetchResponse, this.handleFetchErrors);
                            default:
                                return null
                        }
                    }, e.prototype.mergeHeadersWithContentType = function(t) {
                        return s(s({}, {
                            "Content-Type": "application/json"
                        }), t)
                    }, e.prototype.configForTestingIfRequired = function() {
                        var e;
                        t.env.AMBASSADOR_TESTKIT_HTTP_URL && (e = t.env.AMBASSADOR_TESTKIT_HTTP_URL), "undefined" != typeof window && window.__AMBASSADOR_TESTKIT_HTTP_URL && (e = window.__AMBASSADOR_TESTKIT_HTTP_URL), e && (this.testkitBaseUrl = l(e, encodeURIComponent(this.baseUrl)))
                    }, e.prototype.payloadToQueryString = function(t) {
                        var e = this;
                        return Object.keys(t).filter((function(e) {
                            return null !== t[e] && void 0 !== t[e]
                        })).map((function(n) {
                            if (t[n] instanceof Array) return e.arrayToQueryString(n, t[n]);
                            if ("object" == typeof t[n]) {
                                var i = Object.keys(t[n]).reduce((function(e, i) {
                                    var r;
                                    return s(s({}, e), ((r = {})[n + "." + i] = t[n][i], r))
                                }), {});
                                return e.payloadToQueryString(i)
                            }
                            return encodeURIComponent(n) + "=" + encodeURIComponent(t[n])
                        })).join("&")
                    }, e.prototype.arrayToQueryString = function(t, e) {
                        return e.map((function(e) {
                            return encodeURIComponent(t) + "=" + encodeURIComponent(e)
                        })).join("&")
                    }, e.prototype.getParamsFromPath = function(t) {
                        for (var e = [], n = t; n.match(/\{[^}]+\}/);) {
                            var i = n.match(/\{([^}]+)\}/),
                                r = (i[0], i[1]);
                            e.push(r), n = n.replace(/\{[^}]+\}/, "")
                        }
                        return e
                    }, e.prototype.getValueFromPayload = function(t, e) {
                        return e.split(".").reduce((function(t, e) {
                            return t[e] || t[a.snakeToCamelCase(e)]
                        }), t)
                    }, e.prototype.addTrailingSlash = function(t) {
                        return t.endsWith("/") ? t : t + "/"
                    }, e.prototype.removeLeadingSlash = function(t) {
                        return t.startsWith("/") ? t.substr(1) : t
                    }, e
                }();

                function h(t) {
                    try {
                        return JSON.parse(t)
                    } catch (e) {
                        return t
                    }
                }

                function l(t, e) {
                    return e ? t.replace(/\/+$/, "") + "/" + e.replace(/^\/+/, "") : t
                }
                e.AmbassadorHTTPClient = c
            }).call(this, n(58))
        },
        1174: function(t, e, n) {
            "use strict";
            Object.defineProperty(e, "__esModule", {
                value: !0
            }), e.snakeToCamelCase = function(t) {
                return t.replace(/([-_][a-z])/g, (function(t) {
                    return t.toUpperCase().replace("-", "").replace("_", "")
                }))
            }, e.getMajorVersion = function(t) {
                if (null != t && -1 !== t.indexOf(".")) {
                    var e = Number.parseInt(t.split(".")[0]);
                    if (!Number.isNaN(e)) return e
                }
                return -1
            }
        },
        1175: function(t, e, n) {
            "use strict";
            Object.defineProperty(e, "__esModule", {
                value: !0
            })
        },
        1176: function(t, e) {
            t.exports = i;
            var n = null;
            try {
                n = new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0, 97, 115, 109, 1, 0, 0, 0, 1, 13, 2, 96, 0, 1, 127, 96, 4, 127, 127, 127, 127, 1, 127, 3, 7, 6, 0, 1, 1, 1, 1, 1, 6, 6, 1, 127, 1, 65, 0, 11, 7, 50, 6, 3, 109, 117, 108, 0, 1, 5, 100, 105, 118, 95, 115, 0, 2, 5, 100, 105, 118, 95, 117, 0, 3, 5, 114, 101, 109, 95, 115, 0, 4, 5, 114, 101, 109, 95, 117, 0, 5, 8, 103, 101, 116, 95, 104, 105, 103, 104, 0, 0, 10, 191, 1, 6, 4, 0, 35, 0, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 126, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 127, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 128, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 129, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 130, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11])), {}).exports
            } catch (t) {}

            function i(t, e, n) {
                this.low = 0 | t, this.high = 0 | e, this.unsigned = !!n
            }

            function r(t) {
                return !0 === (t && t.__isLong__)
            }
            i.prototype.__isLong__, Object.defineProperty(i.prototype, "__isLong__", {
                value: !0
            }), i.isLong = r;
            var s = {},
                o = {};

            function a(t, e) {
                var n, i, r;
                return e ? (r = 0 <= (t >>>= 0) && t < 256) && (i = o[t]) ? i : (n = c(t, (0 | t) < 0 ? -1 : 0, !0), r && (o[t] = n), n) : (r = -128 <= (t |= 0) && t < 128) && (i = s[t]) ? i : (n = c(t, t < 0 ? -1 : 0, !1), r && (s[t] = n), n)
            }

            function u(t, e) {
                if (isNaN(t)) return e ? _ : m;
                if (e) {
                    if (t < 0) return _;
                    if (t >= p) return O
                } else {
                    if (t <= -v) return b;
                    if (t + 1 >= v) return T
                }
                return t < 0 ? u(-t, e).neg() : c(t % d | 0, t / d | 0, e)
            }

            function c(t, e, n) {
                return new i(t, e, n)
            }
            i.fromInt = a, i.fromNumber = u, i.fromBits = c;
            var h = Math.pow;

            function l(t, e, n) {
                if (0 === t.length) throw Error("empty string");
                if ("NaN" === t || "Infinity" === t || "+Infinity" === t || "-Infinity" === t) return m;
                if ("number" == typeof e ? (n = e, e = !1) : e = !!e, (n = n || 10) < 2 || 36 < n) throw RangeError("radix");
                var i;
                if ((i = t.indexOf("-")) > 0) throw Error("interior hyphen");
                if (0 === i) return l(t.substring(1), e, n).neg();
                for (var r = u(h(n, 8)), s = m, o = 0; o < t.length; o += 8) {
                    var a = Math.min(8, t.length - o),
                        c = parseInt(t.substring(o, o + a), n);
                    if (a < 8) {
                        var f = u(h(n, a));
                        s = s.mul(f).add(u(c))
                    } else s = (s = s.mul(r)).add(u(c))
                }
                return s.unsigned = e, s
            }

            function f(t, e) {
                return "number" == typeof t ? u(t, e) : "string" == typeof t ? l(t, e) : c(t.low, t.high, "boolean" == typeof e ? e : t.unsigned)
            }
            i.fromString = l, i.fromValue = f;
            var d = 4294967296,
                p = d * d,
                v = p / 2,
                g = a(1 << 24),
                m = a(0);
            i.ZERO = m;
            var _ = a(0, !0);
            i.UZERO = _;
            var y = a(1);
            i.ONE = y;
            var S = a(1, !0);
            i.UONE = S;
            var I = a(-1);
            i.NEG_ONE = I;
            var T = c(-1, 2147483647, !1);
            i.MAX_VALUE = T;
            var O = c(-1, -1, !0);
            i.MAX_UNSIGNED_VALUE = O;
            var b = c(0, -2147483648, !1);
            i.MIN_VALUE = b;
            var w = i.prototype;
            w.toInt = function() {
                return this.unsigned ? this.low >>> 0 : this.low
            }, w.toNumber = function() {
                return this.unsigned ? (this.high >>> 0) * d + (this.low >>> 0) : this.high * d + (this.low >>> 0)
            }, w.toString = function(t) {
                if ((t = t || 10) < 2 || 36 < t) throw RangeError("radix");
                if (this.isZero()) return "0";
                if (this.isNegative()) {
                    if (this.eq(b)) {
                        var e = u(t),
                            n = this.div(e),
                            i = n.mul(e).sub(this);
                        return n.toString(t) + i.toInt().toString(t)
                    }
                    return "-" + this.neg().toString(t)
                }
                for (var r = u(h(t, 6), this.unsigned), s = this, o = "";;) {
                    var a = s.div(r),
                        c = (s.sub(a.mul(r)).toInt() >>> 0).toString(t);
                    if ((s = a).isZero()) return c + o;
                    for (; c.length < 6;) c = "0" + c;
                    o = "" + c + o
                }
            }, w.getHighBits = function() {
                return this.high
            }, w.getHighBitsUnsigned = function() {
                return this.high >>> 0
            }, w.getLowBits = function() {
                return this.low
            }, w.getLowBitsUnsigned = function() {
                return this.low >>> 0
            }, w.getNumBitsAbs = function() {
                if (this.isNegative()) return this.eq(b) ? 64 : this.neg().getNumBitsAbs();
                for (var t = 0 != this.high ? this.high : this.low, e = 31; e > 0 && 0 == (t & 1 << e); e--);
                return 0 != this.high ? e + 33 : e + 1
            }, w.isZero = function() {
                return 0 === this.high && 0 === this.low
            }, w.eqz = w.isZero, w.isNegative = function() {
                return !this.unsigned && this.high < 0
            }, w.isPositive = function() {
                return this.unsigned || this.high >= 0
            }, w.isOdd = function() {
                return 1 == (1 & this.low)
            }, w.isEven = function() {
                return 0 == (1 & this.low)
            }, w.equals = function(t) {
                return r(t) || (t = f(t)), (this.unsigned === t.unsigned || this.high >>> 31 != 1 || t.high >>> 31 != 1) && (this.high === t.high && this.low === t.low)
            }, w.eq = w.equals, w.notEquals = function(t) {
                return !this.eq(t)
            }, w.neq = w.notEquals, w.ne = w.notEquals, w.lessThan = function(t) {
                return this.comp(t) < 0
            }, w.lt = w.lessThan, w.lessThanOrEqual = function(t) {
                return this.comp(t) <= 0
            }, w.lte = w.lessThanOrEqual, w.le = w.lessThanOrEqual, w.greaterThan = function(t) {
                return this.comp(t) > 0
            }, w.gt = w.greaterThan, w.greaterThanOrEqual = function(t) {
                return this.comp(t) >= 0
            }, w.gte = w.greaterThanOrEqual, w.ge = w.greaterThanOrEqual, w.compare = function(t) {
                if (r(t) || (t = f(t)), this.eq(t)) return 0;
                var e = this.isNegative(),
                    n = t.isNegative();
                return e && !n ? -1 : !e && n ? 1 : this.unsigned ? t.high >>> 0 > this.high >>> 0 || t.high === this.high && t.low >>> 0 > this.low >>> 0 ? -1 : 1 : this.sub(t).isNegative() ? -1 : 1
            }, w.comp = w.compare, w.negate = function() {
                return !this.unsigned && this.eq(b) ? b : this.not().add(y)
            }, w.neg = w.negate, w.add = function(t) {
                r(t) || (t = f(t));
                var e = this.high >>> 16,
                    n = 65535 & this.high,
                    i = this.low >>> 16,
                    s = 65535 & this.low,
                    o = t.high >>> 16,
                    a = 65535 & t.high,
                    u = t.low >>> 16,
                    h = 0,
                    l = 0,
                    d = 0,
                    p = 0;
                return d += (p += s + (65535 & t.low)) >>> 16, l += (d += i + u) >>> 16, h += (l += n + a) >>> 16, h += e + o, c((d &= 65535) << 16 | (p &= 65535), (h &= 65535) << 16 | (l &= 65535), this.unsigned)
            }, w.subtract = function(t) {
                return r(t) || (t = f(t)), this.add(t.neg())
            }, w.sub = w.subtract, w.multiply = function(t) {
                if (this.isZero()) return m;
                if (r(t) || (t = f(t)), n) return c(n.mul(this.low, this.high, t.low, t.high), n.get_high(), this.unsigned);
                if (t.isZero()) return m;
                if (this.eq(b)) return t.isOdd() ? b : m;
                if (t.eq(b)) return this.isOdd() ? b : m;
                if (this.isNegative()) return t.isNegative() ? this.neg().mul(t.neg()) : this.neg().mul(t).neg();
                if (t.isNegative()) return this.mul(t.neg()).neg();
                if (this.lt(g) && t.lt(g)) return u(this.toNumber() * t.toNumber(), this.unsigned);
                var e = this.high >>> 16,
                    i = 65535 & this.high,
                    s = this.low >>> 16,
                    o = 65535 & this.low,
                    a = t.high >>> 16,
                    h = 65535 & t.high,
                    l = t.low >>> 16,
                    d = 65535 & t.low,
                    p = 0,
                    v = 0,
                    _ = 0,
                    y = 0;
                return _ += (y += o * d) >>> 16, v += (_ += s * d) >>> 16, _ &= 65535, v += (_ += o * l) >>> 16, p += (v += i * d) >>> 16, v &= 65535, p += (v += s * l) >>> 16, v &= 65535, p += (v += o * h) >>> 16, p += e * d + i * l + s * h + o * a, c((_ &= 65535) << 16 | (y &= 65535), (p &= 65535) << 16 | (v &= 65535), this.unsigned)
            }, w.mul = w.multiply, w.divide = function(t) {
                if (r(t) || (t = f(t)), t.isZero()) throw Error("division by zero");
                var e, i, s;
                if (n) return this.unsigned || -2147483648 !== this.high || -1 !== t.low || -1 !== t.high ? c((this.unsigned ? n.div_u : n.div_s)(this.low, this.high, t.low, t.high), n.get_high(), this.unsigned) : this;
                if (this.isZero()) return this.unsigned ? _ : m;
                if (this.unsigned) {
                    if (t.unsigned || (t = t.toUnsigned()), t.gt(this)) return _;
                    if (t.gt(this.shru(1))) return S;
                    s = _
                } else {
                    if (this.eq(b)) return t.eq(y) || t.eq(I) ? b : t.eq(b) ? y : (e = this.shr(1).div(t).shl(1)).eq(m) ? t.isNegative() ? y : I : (i = this.sub(t.mul(e)), s = e.add(i.div(t)));
                    if (t.eq(b)) return this.unsigned ? _ : m;
                    if (this.isNegative()) return t.isNegative() ? this.neg().div(t.neg()) : this.neg().div(t).neg();
                    if (t.isNegative()) return this.div(t.neg()).neg();
                    s = m
                }
                for (i = this; i.gte(t);) {
                    e = Math.max(1, Math.floor(i.toNumber() / t.toNumber()));
                    for (var o = Math.ceil(Math.log(e) / Math.LN2), a = o <= 48 ? 1 : h(2, o - 48), l = u(e), d = l.mul(t); d.isNegative() || d.gt(i);) d = (l = u(e -= a, this.unsigned)).mul(t);
                    l.isZero() && (l = y), s = s.add(l), i = i.sub(d)
                }
                return s
            }, w.div = w.divide, w.modulo = function(t) {
                return r(t) || (t = f(t)), n ? c((this.unsigned ? n.rem_u : n.rem_s)(this.low, this.high, t.low, t.high), n.get_high(), this.unsigned) : this.sub(this.div(t).mul(t))
            }, w.mod = w.modulo, w.rem = w.modulo, w.not = function() {
                return c(~this.low, ~this.high, this.unsigned)
            }, w.and = function(t) {
                return r(t) || (t = f(t)), c(this.low & t.low, this.high & t.high, this.unsigned)
            }, w.or = function(t) {
                return r(t) || (t = f(t)), c(this.low | t.low, this.high | t.high, this.unsigned)
            }, w.xor = function(t) {
                return r(t) || (t = f(t)), c(this.low ^ t.low, this.high ^ t.high, this.unsigned)
            }, w.shiftLeft = function(t) {
                return r(t) && (t = t.toInt()), 0 == (t &= 63) ? this : t < 32 ? c(this.low << t, this.high << t | this.low >>> 32 - t, this.unsigned) : c(0, this.low << t - 32, this.unsigned)
            }, w.shl = w.shiftLeft, w.shiftRight = function(t) {
                return r(t) && (t = t.toInt()), 0 == (t &= 63) ? this : t < 32 ? c(this.low >>> t | this.high << 32 - t, this.high >> t, this.unsigned) : c(this.high >> t - 32, this.high >= 0 ? 0 : -1, this.unsigned)
            }, w.shr = w.shiftRight, w.shiftRightUnsigned = function(t) {
                if (r(t) && (t = t.toInt()), 0 === (t &= 63)) return this;
                var e = this.high;
                return t < 32 ? c(this.low >>> t | e << 32 - t, e >>> t, this.unsigned) : c(32 === t ? e : e >>> t - 32, 0, this.unsigned)
            }, w.shru = w.shiftRightUnsigned, w.shr_u = w.shiftRightUnsigned, w.toSigned = function() {
                return this.unsigned ? c(this.low, this.high, !1) : this
            }, w.toUnsigned = function() {
                return this.unsigned ? this : c(this.low, this.high, !0)
            }, w.toBytes = function(t) {
                return t ? this.toBytesLE() : this.toBytesBE()
            }, w.toBytesLE = function() {
                var t = this.high,
                    e = this.low;
                return [255 & e, e >>> 8 & 255, e >>> 16 & 255, e >>> 24, 255 & t, t >>> 8 & 255, t >>> 16 & 255, t >>> 24]
            }, w.toBytesBE = function() {
                var t = this.high,
                    e = this.low;
                return [t >>> 24, t >>> 16 & 255, t >>> 8 & 255, 255 & t, e >>> 24, e >>> 16 & 255, e >>> 8 & 255, 255 & e]
            }, i.fromBytes = function(t, e, n) {
                return n ? i.fromBytesLE(t, e) : i.fromBytesBE(t, e)
            }, i.fromBytesLE = function(t, e) {
                return new i(t[0] | t[1] << 8 | t[2] << 16 | t[3] << 24, t[4] | t[5] << 8 | t[6] << 16 | t[7] << 24, e)
            }, i.fromBytesBE = function(t, e) {
                return new i(t[4] << 24 | t[5] << 16 | t[6] << 8 | t[7], t[0] << 24 | t[1] << 16 | t[2] << 8 | t[3], e)
            }
        },
        1192: function(t, e, n) {
            "use strict";
            n.r(e), n.d(e, "Scope", (function() {
                return o
            })), n.d(e, "Status", (function() {
                return s
            })), n.d(e, "ActivityStatus", (function() {
                return a
            })), n.d(e, "DeviceType", (function() {
                return c
            }));
            var i = n(1);

            function r(t, e) {
                if (!t) throw new l(e)
            }
            var s, o, a, u, c, h, l = function(t) {
                    function e(n) {
                        var i = t.call(this, n) || this;
                        return Object.setPrototypeOf(i, e.prototype), i
                    }
                    return Object(i.__extends)(e, t), e
                }(Error),
                f = function() {
                    function t(t) {
                        var e = this;
                        this.opts = t, this.state = {
                            active: !1,
                            running: !1
                        }, this.onIdle = function() {
                            e.state.active = !1, e.opts.onIdle()
                        }, this.onAliveness = function() {
                            e.state.active || e.opts.onActive(), e.state.active = !0, e.removeEventListeners(), e.clearTimeouts(), e.scheduleSample()
                        }, r("number" == typeof t.isIdleTime && t.isIdleTime >= 6e4, "isIdleTime must be a number, bigger than 1 min"), r("function" == typeof t.onIdle, "onIdle must be a function"), r("function" == typeof t.onActive, "onActive must be a function")
                    }
                    return t.prototype.listen = function() {
                        this.state.running || (this.state.running = !0, this.state.active = !0, this.scheduleSample())
                    }, t.prototype.stop = function() {
                        this.state.running = !1, this.clearTimeouts(), this.removeEventListeners()
                    }, t.prototype.scheduleSample = function() {
                        var t = this;
                        this.sampleTimeout = setTimeout((function() {
                            t.sample()
                        }), 3e4)
                    }, t.prototype.sample = function() {
                        this.addEventListeners(), this.idleTimeout = setTimeout(this.onIdle, this.opts.isIdleTime)
                    }, t.prototype.addEventListeners = function() {
                        document.addEventListener("mousemove", this.onAliveness), document.addEventListener("keydown", this.onAliveness)
                    }, t.prototype.removeEventListeners = function() {
                        document.removeEventListener("mousemove", this.onAliveness), document.removeEventListener("keydown", this.onAliveness)
                    }, t.prototype.clearTimeouts = function() {
                        clearTimeout(this.idleTimeout), clearTimeout(this.sampleTimeout)
                    }, t
                }();

            function d(t) {
                return new f(t)
            }

            function p() {
                return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (function(t) {
                    var e = 16 * Math.random() | 0;
                    return ("x" === t ? e : 3 & e | 8).toString(16)
                }))
            }

            function v(t) {
                return JSON.parse(JSON.stringify(t))
            }

            function g(t) {
                switch (t) {
                    case o.EDITOR_X:
                        return h.EDITOR_X;
                    case o.VIEWER:
                        return h.VIEWER;
                    default:
                        return h.UNDEFINED
                }
            }! function(t) {
                t.ONLINE = "ONLINE", t.OFFLINE = "OFFLINE"
            }(s || (s = {})),
            function(t) {
                t.EDITOR_X = "editor-x", t.VIEWER = "viewer"
            }(o || (o = {})),
            function(t) {
                t[t.ACTIVE = 0] = "ACTIVE", t[t.IDLE = 1] = "IDLE"
            }(a || (a = {})),
            function(t) {
                t.UNKNOWN = "UNKNOWN", t.ACTIVE = "ACTIVE", t.OFFLINE = "OFFLINE"
            }(u || (u = {})),
            function(t) {
                t.UNKNOWN = "UNKNOWN", t.DESKTOP = "DESKTOP", t.MOBILE = "MOBILE"
            }(c || (c = {})),
            function(t) {
                t.UNDEFINED = "UNDEFINED", t.VIEWER = "VIEWER", t.EDITOR_X = "EDITOR_X"
            }(h || (h = {}));
            var m, _, y = n(1171);
            ! function(t) {
                t[t.INIT = 0] = "INIT", t[t.SUBSCRIBED = 1] = "SUBSCRIBED"
            }(m || (m = {})),
            function(t) {
                t[t.NONE = 0] = "NONE", t[t.STATE = 1] = "STATE", t[t.ACTIVITY = 2] = "ACTIVITY"
            }(_ || (_ = {}));
            var S, I, T = function() {
                    function t(t) {
                        var e, n, r = this,
                            s = t.getPresenceConnection,
                            o = t.scope,
                            a = t.getSignedInstance,
                            u = t.initialState,
                            c = void 0 === u ? {} : u,
                            h = t.keepAliveInterval,
                            l = void 0 === h ? 24e4 : h,
                            f = t.isIdleMs,
                            v = t.onIdle,
                            g = t.onActive;
                        this.onStateChangeFn = function() {}, this.sessionId = p(), this.trackState = m.INIT, this.lastInactivity = null, this.list = [], this.onDisconnectFn = function() {}, this.shuoldWatchGroup = !0, this.onIdle = function() {
                            r.lastInactivity = Date.now() - r.isIdleMs, r.refreshState(), r.onIdleFn()
                        }, this.onActive = function() {
                            r.lastInactivity = null, r.refreshState(), r.onActiveFn()
                        }, this.watchGroup = function() {
                            r.shuoldWatchGroup && r.presenceClient().watch({
                                scope: r.scope
                            }).catch((function() {})), r.watchGroupTimer && clearTimeout(r.watchGroupTimer), r.watchGroupTimer = setTimeout((function() {
                                return r.watchGroup()
                            }), 6e5)
                        }, this.onSubscribe = function() {
                            return Object(i.__awaiter)(r, void 0, void 0, (function() {
                                var t = this;
                                return Object(i.__generator)(this, (function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return this.list = [], this.trackState = m.INIT, this.initBatchTimer && clearTimeout(this.initBatchTimer), this.watchGroup(), [4, this.keepAlive()];
                                        case 1:
                                            return e.sent(), this.idle.listen(), this.initBatchTimer = setTimeout((function() {
                                                t.trackState = m.SUBSCRIBED, t.onStateChange()
                                            }), 2e3), [2]
                                    }
                                }))
                            }))
                        }, this.handleStateChanges = function(t) {
                            t.data = t.data || {};
                            var e = r.updateList(t);
                            r.trackState === m.SUBSCRIBED && e === _.STATE && r.onStateChange(t)
                        }, this.getPresenceConnection = s, this.getSignedInstance = a, this.keepAliveInterval = l, this.scope = o, this.storeState(c), this.isIdleMs = null !== (n = null !== (e = window.__PRESENCE_IDLE_TIME) && void 0 !== e ? e : f) && void 0 !== n ? n : 6e5, this.onIdleFn = null != v ? v : function() {}, this.onActiveFn = null != g ? g : function() {}, this.idle = d({
                            isIdleTime: this.isIdleMs,
                            onIdle: this.onIdle,
                            onActive: this.onActive
                        }), this.presenceApi = Object(y.PresenceService)("/_api/presence-service", {
                            ignoredProtoHttpUrlPart: "/api"
                        }).PresenceService()
                    }
                    return t.prototype.track = function(t, e) {
                        var n;
                        this.onStateChangeFn = t, this.shuoldWatchGroup = null !== (n = null == e ? void 0 : e.watchGroup) && void 0 !== n ? n : this.shuoldWatchGroup, this.connection = this.getPresenceConnection();
                        var i = {
                            presenceSessionId: this.sessionId,
                            watchGroup: null == e ? void 0 : e.watchGroup
                        };
                        return this.connection.on("@duplexer:disconnected", this.onDisconnectFn), this.connection.subscribe(this.scope, {
                            info: i
                        }).on("@duplexer:subscription_succeeded", this.onSubscribe).on("update-state", this.handleStateChanges)
                    }, t.prototype.disconnect = function() {
                        this.connection && (this.connection.disconnect(), this.connection = void 0)
                    }, t.prototype.onDisconnect = function(t) {
                        this.onDisconnectFn = t
                    }, t.prototype.setState = function(t) {
                        return Object(i.__awaiter)(this, void 0, void 0, (function() {
                            return Object(i.__generator)(this, (function(e) {
                                switch (e.label) {
                                    case 0:
                                        return this.storeState(t), this.connection ? [4, this.presenceClient().setData({
                                            sessionId: this.sessionId,
                                            scope: this.scope,
                                            data: this.state
                                        })] : [3, 2];
                                    case 1:
                                        e.sent(), e.label = 2;
                                    case 2:
                                        return [2]
                                }
                            }))
                        }))
                    }, t.prototype.getSessionId = function() {
                        return this.sessionId
                    }, t.prototype.emptyGroup = function() {
                        return Object(i.__awaiter)(this, void 0, void 0, (function() {
                            return Object(i.__generator)(this, (function(t) {
                                switch (t.label) {
                                    case 0:
                                        return [4, this.presenceClient().resetScope({
                                            scope: this.scope
                                        })];
                                    case 1:
                                        return t.sent(), [2]
                                }
                            }))
                        }))
                    }, t.prototype.storeState = function(t) {
                        this.state = Object(i.__assign)(Object(i.__assign)({}, t), {
                            __lastInactivity: this.lastInactivity
                        })
                    }, t.prototype.refreshState = function() {
                        return this.setState(this.state)
                    }, t.prototype.keepAlive = function() {
                        return Object(i.__awaiter)(this, void 0, void 0, (function() {
                            var t = this;
                            return Object(i.__generator)(this, (function(e) {
                                switch (e.label) {
                                    case 0:
                                        return this.connection ? [4, this.refreshState().catch((function() {}))] : (clearTimeout(this.keepAliveTimer), [2]);
                                    case 1:
                                        return e.sent(), this.keepAliveTimer && clearTimeout(this.keepAliveTimer), this.keepAliveTimer = setTimeout((function() {
                                            return t.keepAlive()
                                        }), this.keepAliveInterval), [2]
                                }
                            }))
                        }))
                    }, t.prototype.onStateChange = function(t) {
                        this.onStateChangeFn(v(this.list), t ? v(t) : void 0)
                    }, t.prototype.updateList = function(t) {
                        var e, n, i = this.list.find((function(e) {
                            return e.userId === t.userId && e.sessionId === t.sessionId
                        }));
                        return t.activity = function(t) {
                            return "number" == typeof t.data.__lastInactivity ? {
                                status: a.IDLE,
                                lastSeen: t.data.__lastInactivity
                            } : {
                                status: a.ACTIVE,
                                lastSeen: null
                            }
                        }(t), i && (e = i, n = t, JSON.stringify(e) === JSON.stringify(n)) ? _.NONE : (i && (this.list = this.list.filter((function(t) {
                            return t !== i
                        }))), t.status === s.ONLINE && this.list.push(t), _.STATE)
                    }, t.prototype.presenceClient = function() {
                        return this.presenceApi({
                            Authorization: this.getSignedInstance()
                        })
                    }, t
                }(),
                O = n(1083);

            function b(t, e, n) {
                return void 0 === e && (e = {}),
                    function(i, r) {
                        return void 0 === i && (i = {}), "string" == typeof i ? i : s(t, i);

                        function s(t, e) {
                            var n = {};
                            return Object.entries(e).forEach((function(e) {
                                var i, r, s, u, c = e[0],
                                    h = e[1],
                                    l = t[c],
                                    f = Object(O.parseLeanSchemaRef)(l),
                                    d = f.schemaName,
                                    p = "Map" === f.schemaType;
                                u = (null !== (s = null === (r = null === (i = a(d)) || void 0 === i ? void 0 : i.checkRepetable) || void 0 === r ? void 0 : r.call(i, h)) && void 0 !== s ? s : Array.isArray(h)) ? h.map((function(t) {
                                    return o(t, d)
                                })) : p ? function(t, e) {
                                    return Object.entries(t).reduce((function(t, n) {
                                        var i = n[0],
                                            r = n[1];
                                        return t[i] = o(r, e), t
                                    }), {})
                                }(h, d) : o(h, d), n[c] = u
                            })), n
                        }

                        function o(t, n) {
                            if (!n) return t;
                            var i = e[n];
                            if (a(n)) return a(n).transfrom(t);
                            if (i) return s(i, t);
                            throw new Error(n + " is neither schema nor serializable type")
                        }

                        function a(t) {
                            var e;
                            return null === (e = n[t]) || void 0 === e ? void 0 : e[r]
                        }
                    }
            }! function(t) {
                t[t.TO_JSON = 0] = "TO_JSON", t[t.FROM_JSON = 1] = "FROM_JSON"
            }(S || (S = {}));
            var w, E, N, A, P = ((I = {
                    types: ["google.protobuf.Timestamp"]
                })[S.TO_JSON] = {
                    transfrom: function(t) {
                        return t.toISOString()
                    }
                }, I[S.FROM_JSON] = {
                    transfrom: function(t) {
                        return new Date(t)
                    }
                }, I),
                C = ((w = {
                    types: ["google.protobuf.FieldMask"]
                })[S.TO_JSON] = {
                    transfrom: function(t) {
                        return t.join(",")
                    },
                    checkRepetable: function(t) {
                        return t.some((function(t) {
                            return Array.isArray(t)
                        }))
                    }
                }, w[S.FROM_JSON] = {
                    transfrom: function(t) {
                        return "object" == typeof t ? t.paths : t.split(",")
                    }
                }, w),
                R = ((E = {
                    types: ["google.protobuf.BytesValue", "BYTES"]
                })[S.TO_JSON] = {
                    transfrom: function(t) {
                        var e = t.reduce((function(t, e) {
                            return t + String.fromCharCode(e)
                        }), "");
                        return btoa(e)
                    }
                }, E[S.FROM_JSON] = {
                    transfrom: function(t) {
                        return Uint8Array.from(atob(t), (function(t) {
                            return t.charCodeAt(0)
                        }))
                    }
                }, E),
                x = n(1176),
                U = n.n(x);

            function j(t) {
                var e = 0;
                if (void 0 !== t) {
                    var n = 3 - t.length / 3;
                    e = parseInt(t, 10) * Math.pow(1e3, n)
                }
                return e
            }
            var L = [P, C, R, ((N = {
                types: ["google.protobuf.Duration"]
            })[S.TO_JSON] = {
                transfrom: function(t) {
                    var e = t.seconds,
                        n = void 0 === e ? 0 : e,
                        i = t.nanos,
                        r = void 0 === i ? 0 : i,
                        s = "";
                    return 0 !== r && (s = "." + r.toString().padStart(9, "0")), "" + n + s + "s"
                }
            }, N[S.FROM_JSON] = {
                transfrom: function(t) {
                    var e = t.substring(0, t.length - 1).split("."),
                        n = e[0],
                        i = e[1];
                    return {
                        seconds: U.a.fromString(n),
                        nanos: j(i)
                    }
                }
            }, N), ((A = {
                types: ["FLOAT", "DOUBLE", "google.protobuf.FloatValue", "google.protobuf.DoubleValue"]
            })[S.TO_JSON] = {
                transfrom: function(t) {
                    return isFinite(t) ? t : t.toString()
                }
            }, A[S.FROM_JSON] = {
                transfrom: function(t) {
                    return "NaN" === t ? NaN : "Infinity" === t ? 1 / 0 : "-Infinity" === t ? -1 / 0 : t
                }
            }, A)];
            var k = Object(i.__spreadArrays)(L).reduce((function(t, e) {
                var n = e.types.reduce((function(t, n) {
                    var r;
                    return Object(i.__assign)(Object(i.__assign)({}, t), ((r = {})[n] = e, r))
                }), {});
                return Object(i.__assign)(Object(i.__assign)({}, t), n)
            }), {});

            function F(t, e) {
                void 0 === e && (e = {});
                var n = b(t, e, k);
                return {
                    fromJSON: function(t) {
                        var e = function(t) {
                            try {
                                return JSON.parse(t)
                            } catch (t) {}
                        }(t) || t;
                        return n(e, S.FROM_JSON)
                    },
                    toJSON: function(t) {
                        return n(t, S.TO_JSON)
                    }
                }
            }
            var D = {
                    sessionStartDate: "google.protobuf.Timestamp",
                    lastActiveDate: "google.protobuf.Timestamp"
                },
                M = {
                    payload: "_payload"
                },
                B = {
                    presence: "_presence"
                },
                q = {},
                J = {
                    mask: "google.protobuf.FieldMask",
                    presence: "_presence"
                },
                V = {};

            function W(t) {
                return Object(O.resolveUrl)(Object.assign(t, {
                    domainToMappings: {
                        "www._base_domain_": [{
                            srcPath: "/_api/chat-presence-server",
                            destPath: "/api"
                        }],
                        "api._api_base_domain_": [{
                            srcPath: "/presence-server",
                            destPath: ""
                        }],
                        "engage.wixapps.net": [{
                            srcPath: "/_api/chat-presence-server",
                            destPath: "/api"
                        }],
                        "manage._base_domain_": [{
                            srcPath: "/_api/chat-presence-server",
                            destPath: "/api"
                        }],
                        _: [{
                            srcPath: "/_api/chat-presence-server",
                            destPath: "/api"
                        }]
                    }
                }))
            }

            function H(t) {
                return function(e) {
                    var n = e.host,
                        i = F(B, {
                            _payload: D,
                            _presence: M
                        }).toJSON,
                        r = F(q, {}).fromJSON,
                        s = i(t);
                    return {
                        method: "POST",
                        url: W({
                            protoPath: "/api/v2/presences/{presence.scope}",
                            data: s,
                            host: n
                        }),
                        data: s,
                        transformResponse: r
                    }
                }
            }
            var G = n(167),
                Z = function() {
                    function t(t) {
                        var e, n, r = this,
                            s = t.getPresenceConnection,
                            o = t.scope,
                            a = t.getSignedInstance,
                            c = t.initialState,
                            h = void 0 === c ? {} : c,
                            l = t.keepAliveInterval,
                            f = void 0 === l ? 24e4 : l,
                            v = t.isIdleMs,
                            g = t.onIdle,
                            m = t.onActive;
                        this.sessionId = p(), this.onDisconnectFn = function() {}, this.shouldWatchGroup = !0, this.onIdle = function() {
                            r.updatePresence({}), r.onIdleFn()
                        }, this.onActive = function() {
                            var t = r.preparePayload(),
                                e = t.payload,
                                n = t.mask;
                            n.push("status"), r.updateState({
                                mask: n,
                                presence: {
                                    scope: r.scope,
                                    sessionId: r.sessionId,
                                    status: u.ACTIVE,
                                    payload: e
                                }
                            }), r.onActiveFn()
                        }, this.onSubscribe = function() {
                            return Object(i.__awaiter)(r, void 0, void 0, (function() {
                                return Object(i.__generator)(this, (function(t) {
                                    switch (t.label) {
                                        case 0:
                                            return [4, this.keepAlive()];
                                        case 1:
                                            return t.sent(), this.idle.listen(), [2]
                                    }
                                }))
                            }))
                        }, this.getPresenceConnection = s, this.keepAliveInterval = f, this.scope = o, this.isIdleMs = null !== (n = null !== (e = window.__PRESENCE_IDLE_TIME) && void 0 !== e ? e : v) && void 0 !== n ? n : 6e5, this.onIdleFn = null != g ? g : function() {}, this.onActiveFn = null != m ? m : function() {}, this.initialState = h, this.idle = d({
                            isIdleTime: this.isIdleMs,
                            onIdle: this.onIdle,
                            onActive: this.onActive
                        }), this.httpClient = new G.a({
                            getAppToken: a
                        })
                    }
                    return t.prototype.track = function(t) {
                        var e;
                        this.shouldWatchGroup = null !== (e = null == t ? void 0 : t.watchGroup) && void 0 !== e ? e : this.shouldWatchGroup, this.connection = this.getPresenceConnection(), this.createState(this.initialState);
                        var n = {
                            presenceSessionId: this.sessionId,
                            watchGroup: null == t ? void 0 : t.watchGroup
                        };
                        return this.connection.on("@duplexer:disconnected", this.onDisconnectFn), this.connection.subscribe(this.getConnectionScope(this.scope), {
                            info: n
                        }).on("@duplexer:subscription_succeeded", this.onSubscribe)
                    }, t.prototype.disconnect = function() {
                        this.connection && (this.connection.disconnect(), this.connection = void 0)
                    }, t.prototype.onDisconnect = function(t) {
                        this.onDisconnectFn = t
                    }, t.prototype.createState = function(t) {
                        return Object(i.__awaiter)(this, void 0, void 0, (function() {
                            var e;
                            return Object(i.__generator)(this, (function(n) {
                                switch (n.label) {
                                    case 0:
                                        return e = {
                                            payload: t,
                                            scope: this.scope,
                                            sessionId: this.sessionId,
                                            status: u.ACTIVE
                                        }, [4, this.httpClient.request(H({
                                            presence: e
                                        }))];
                                    case 1:
                                        return n.sent(), [2]
                                }
                            }))
                        }))
                    }, t.prototype.updateState = function(t) {
                        return Object(i.__awaiter)(this, void 0, void 0, (function() {
                            return Object(i.__generator)(this, (function(e) {
                                switch (e.label) {
                                    case 0:
                                        return this.connection ? [4, this.httpClient.request((n = t, function(t) {
                                            var e = t.host,
                                                i = F(J, {
                                                    _payload: D,
                                                    _presence: M
                                                }).toJSON,
                                                r = F(V, {}).fromJSON,
                                                s = i(n);
                                            return {
                                                method: "PATCH",
                                                url: W({
                                                    protoPath: "/api/v2/presences/{presence.scope}",
                                                    data: s,
                                                    host: e
                                                }),
                                                data: s,
                                                transformResponse: r
                                            }
                                        }))] : [3, 2];
                                    case 1:
                                        e.sent(), e.label = 2;
                                    case 2:
                                        return [2]
                                }
                                var n
                            }))
                        }))
                    }, t.prototype.preparePayload = function(t) {
                        void 0 === t && (t = {});
                        var e = Object(i.__assign)({
                            lastActiveDate: new Date
                        }, t);
                        return {
                            payload: e,
                            mask: Object.keys(e).map((function(t) {
                                return "payload." + t
                            }))
                        }
                    }, t.prototype.updatePresence = function(t, e) {
                        return void 0 === e && (e = []), Object(i.__awaiter)(this, void 0, void 0, (function() {
                            var n, r, s, o;
                            return Object(i.__generator)(this, (function(i) {
                                switch (i.label) {
                                    case 0:
                                        return n = this.preparePayload(t), r = n.payload, s = n.mask, o = Array.from(new Set(s.concat(e))), [4, this.updateState({
                                            mask: o,
                                            presence: {
                                                payload: r,
                                                scope: this.scope,
                                                sessionId: this.sessionId,
                                                status: u.ACTIVE
                                            }
                                        })];
                                    case 1:
                                        return i.sent(), [2]
                                }
                            }))
                        }))
                    }, t.prototype.getSessionId = function() {
                        return this.sessionId
                    }, t.prototype.refreshState = function() {
                        return this.updatePresence({})
                    }, t.prototype.keepAlive = function() {
                        return Object(i.__awaiter)(this, void 0, void 0, (function() {
                            var t = this;
                            return Object(i.__generator)(this, (function(e) {
                                switch (e.label) {
                                    case 0:
                                        return this.connection ? [4, this.refreshState().catch((function() {}))] : (clearTimeout(this.keepAliveTimer), [2]);
                                    case 1:
                                        return e.sent(), this.keepAliveTimer && clearTimeout(this.keepAliveTimer), this.keepAliveTimer = setTimeout((function() {
                                            return t.keepAlive()
                                        }), this.keepAliveInterval), [2]
                                }
                            }))
                        }))
                    }, t.prototype.getConnectionScope = function(t) {
                        switch (t) {
                            case h.VIEWER:
                                return o.VIEWER;
                            case h.EDITOR_X:
                                return o.EDITOR_X;
                            default:
                                return ""
                        }
                    }, t
                }(),
                K = function() {
                    function t(t) {
                        var e = t.duplexer,
                            n = t.getSignedInstance;
                        this.duplexer = e, this.getSignedInstance = null != n ? n : function() {
                            return ""
                        }
                    }
                    return t.prototype.group = function(t, e) {
                        var n = this;
                        ! function(t) {
                            if (!Object.values(o).includes(t)) throw new Error("scope " + t + " is invalid!")
                        }(t);
                        return new T({
                            getPresenceConnection: function() {
                                return n.getConnection()
                            },
                            scope: t,
                            getSignedInstance: this.getSignedInstance,
                            initialState: null == e ? void 0 : e.initialState,
                            keepAliveInterval: null == e ? void 0 : e.keepAliveInterval,
                            onIdle: null == e ? void 0 : e.onIdle,
                            onActive: null == e ? void 0 : e.onActive,
                            isIdleMs: null == e ? void 0 : e.isIdleMs
                        })
                    }, t.prototype.groupV2 = function(t, e) {
                        var n = this;
                        return new Z({
                            getPresenceConnection: function() {
                                return n.getConnection()
                            },
                            scope: g(t),
                            getSignedInstance: this.getSignedInstance,
                            initialState: null == e ? void 0 : e.initialState,
                            keepAliveInterval: null == e ? void 0 : e.keepAliveInterval,
                            onIdle: null == e ? void 0 : e.onIdle,
                            onActive: null == e ? void 0 : e.onActive,
                            isIdleMs: null == e ? void 0 : e.isIdleMs
                        })
                    }, t.prototype.getConnection = function() {
                        return this.duplexer.connect({
                            appDefId: "401c08e7-b43e-4323-99f9-1f9f8138ff88"
                        })
                    }, t
                }();
            e.default = K
        }
    }
]);
//# sourceMappingURL=44.chunk.min.js.map